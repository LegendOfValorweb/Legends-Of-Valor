function H1(e,t){for(var s=0;s<t.length;s++){const i=t[s];if(typeof i!="string"&&!Array.isArray(i)){for(const l in i)if(l!=="default"&&!(l in e)){const c=Object.getOwnPropertyDescriptor(i,l);c&&Object.defineProperty(e,l,c.get?c:{enumerable:!0,get:()=>i[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function s(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=s(l);fetch(l.href,c)}})();function _v(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jf={exports:{}},ko={},Nf={exports:{}},et={};var Zg;function G1(){if(Zg)return et;Zg=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function N(L){return L===null||typeof L!="object"?null:(L=b&&L[b]||L["@@iterator"],typeof L=="function"?L:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,w={};function S(L,H,_e){this.props=L,this.context=H,this.refs=w,this.updater=_e||_}S.prototype.isReactComponent={},S.prototype.setState=function(L,H){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,H,"setState")},S.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function k(){}k.prototype=S.prototype;function C(L,H,_e){this.props=L,this.context=H,this.refs=w,this.updater=_e||_}var R=C.prototype=new k;R.constructor=C,E(R,S.prototype),R.isPureReactComponent=!0;var P=Array.isArray,O=Object.prototype.hasOwnProperty,G={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function X(L,H,_e){var Ee,$e={},Be=null,ae=null;if(H!=null)for(Ee in H.ref!==void 0&&(ae=H.ref),H.key!==void 0&&(Be=""+H.key),H)O.call(H,Ee)&&!q.hasOwnProperty(Ee)&&($e[Ee]=H[Ee]);var ue=arguments.length-2;if(ue===1)$e.children=_e;else if(1<ue){for(var Fe=Array(ue),Se=0;Se<ue;Se++)Fe[Se]=arguments[Se+2];$e.children=Fe}if(L&&L.defaultProps)for(Ee in ue=L.defaultProps,ue)$e[Ee]===void 0&&($e[Ee]=ue[Ee]);return{$$typeof:e,type:L,key:Be,ref:ae,props:$e,_owner:G.current}}function se(L,H){return{$$typeof:e,type:L.type,key:H,ref:L.ref,props:L.props,_owner:L._owner}}function de(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function xe(L){var H={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(_e){return H[_e]})}var oe=/\/+/g;function K(L,H){return typeof L=="object"&&L!==null&&L.key!=null?xe(""+L.key):H.toString(36)}function $(L,H,_e,Ee,$e){var Be=typeof L;(Be==="undefined"||Be==="boolean")&&(L=null);var ae=!1;if(L===null)ae=!0;else switch(Be){case"string":case"number":ae=!0;break;case"object":switch(L.$$typeof){case e:case t:ae=!0}}if(ae)return ae=L,$e=$e(ae),L=Ee===""?"."+K(ae,0):Ee,P($e)?(_e="",L!=null&&(_e=L.replace(oe,"$&/")+"/"),$($e,H,_e,"",function(Se){return Se})):$e!=null&&(de($e)&&($e=se($e,_e+(!$e.key||ae&&ae.key===$e.key?"":(""+$e.key).replace(oe,"$&/")+"/")+L)),H.push($e)),1;if(ae=0,Ee=Ee===""?".":Ee+":",P(L))for(var ue=0;ue<L.length;ue++){Be=L[ue];var Fe=Ee+K(Be,ue);ae+=$(Be,H,_e,Fe,$e)}else if(Fe=N(L),typeof Fe=="function")for(L=Fe.call(L),ue=0;!(Be=L.next()).done;)Be=Be.value,Fe=Ee+K(Be,ue++),ae+=$(Be,H,_e,Fe,$e);else if(Be==="object")throw H=String(L),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return ae}function me(L,H,_e){if(L==null)return L;var Ee=[],$e=0;return $(L,Ee,"","",function(Be){return H.call(_e,Be,$e++)}),Ee}function B(L){if(L._status===-1){var H=L._result;H=H(),H.then(function(_e){(L._status===0||L._status===-1)&&(L._status=1,L._result=_e)},function(_e){(L._status===0||L._status===-1)&&(L._status=2,L._result=_e)}),L._status===-1&&(L._status=0,L._result=H)}if(L._status===1)return L._result.default;throw L._result}var Y={current:null},T={transition:null},U={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:T,ReactCurrentOwner:G};function W(){throw Error("act(...) is not supported in production builds of React.")}return et.Children={map:me,forEach:function(L,H,_e){me(L,function(){H.apply(this,arguments)},_e)},count:function(L){var H=0;return me(L,function(){H++}),H},toArray:function(L){return me(L,function(H){return H})||[]},only:function(L){if(!de(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},et.Component=S,et.Fragment=s,et.Profiler=l,et.PureComponent=C,et.StrictMode=i,et.Suspense=h,et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,et.act=W,et.cloneElement=function(L,H,_e){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Ee=E({},L.props),$e=L.key,Be=L.ref,ae=L._owner;if(H!=null){if(H.ref!==void 0&&(Be=H.ref,ae=G.current),H.key!==void 0&&($e=""+H.key),L.type&&L.type.defaultProps)var ue=L.type.defaultProps;for(Fe in H)O.call(H,Fe)&&!q.hasOwnProperty(Fe)&&(Ee[Fe]=H[Fe]===void 0&&ue!==void 0?ue[Fe]:H[Fe])}var Fe=arguments.length-2;if(Fe===1)Ee.children=_e;else if(1<Fe){ue=Array(Fe);for(var Se=0;Se<Fe;Se++)ue[Se]=arguments[Se+2];Ee.children=ue}return{$$typeof:e,type:L.type,key:$e,ref:Be,props:Ee,_owner:ae}},et.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:c,_context:L},L.Consumer=L},et.createElement=X,et.createFactory=function(L){var H=X.bind(null,L);return H.type=L,H},et.createRef=function(){return{current:null}},et.forwardRef=function(L){return{$$typeof:f,render:L}},et.isValidElement=de,et.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:B}},et.memo=function(L,H){return{$$typeof:p,type:L,compare:H===void 0?null:H}},et.startTransition=function(L){var H=T.transition;T.transition={};try{L()}finally{T.transition=H}},et.unstable_act=W,et.useCallback=function(L,H){return Y.current.useCallback(L,H)},et.useContext=function(L){return Y.current.useContext(L)},et.useDebugValue=function(){},et.useDeferredValue=function(L){return Y.current.useDeferredValue(L)},et.useEffect=function(L,H){return Y.current.useEffect(L,H)},et.useId=function(){return Y.current.useId()},et.useImperativeHandle=function(L,H,_e){return Y.current.useImperativeHandle(L,H,_e)},et.useInsertionEffect=function(L,H){return Y.current.useInsertionEffect(L,H)},et.useLayoutEffect=function(L,H){return Y.current.useLayoutEffect(L,H)},et.useMemo=function(L,H){return Y.current.useMemo(L,H)},et.useReducer=function(L,H,_e){return Y.current.useReducer(L,H,_e)},et.useRef=function(L){return Y.current.useRef(L)},et.useState=function(L){return Y.current.useState(L)},et.useSyncExternalStore=function(L,H,_e){return Y.current.useSyncExternalStore(L,H,_e)},et.useTransition=function(){return Y.current.useTransition()},et.version="18.3.1",et}var Yg;function pd(){return Yg||(Yg=1,Nf.exports=G1()),Nf.exports}var Xg;function K1(){if(Xg)return ko;Xg=1;var e=pd(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(f,h,p){var v,b={},N=null,_=null;p!==void 0&&(N=""+p),h.key!==void 0&&(N=""+h.key),h.ref!==void 0&&(_=h.ref);for(v in h)i.call(h,v)&&!c.hasOwnProperty(v)&&(b[v]=h[v]);if(f&&f.defaultProps)for(v in h=f.defaultProps,h)b[v]===void 0&&(b[v]=h[v]);return{$$typeof:t,type:f,key:N,ref:_,props:b,_owner:l.current}}return ko.Fragment=s,ko.jsx=u,ko.jsxs=u,ko}var Jg;function Z1(){return Jg||(Jg=1,jf.exports=K1()),jf.exports}var n=Z1(),Nc={},Sf={exports:{}},An={},kf={exports:{}},Cf={};var ex;function Y1(){return ex||(ex=1,(function(e){function t(T,U){var W=T.length;T.push(U);e:for(;0<W;){var L=W-1>>>1,H=T[L];if(0<l(H,U))T[L]=U,T[W]=H,W=L;else break e}}function s(T){return T.length===0?null:T[0]}function i(T){if(T.length===0)return null;var U=T[0],W=T.pop();if(W!==U){T[0]=W;e:for(var L=0,H=T.length,_e=H>>>1;L<_e;){var Ee=2*(L+1)-1,$e=T[Ee],Be=Ee+1,ae=T[Be];if(0>l($e,W))Be<H&&0>l(ae,$e)?(T[L]=ae,T[Be]=W,L=Be):(T[L]=$e,T[Ee]=W,L=Ee);else if(Be<H&&0>l(ae,W))T[L]=ae,T[Be]=W,L=Be;else break e}}return U}function l(T,U){var W=T.sortIndex-U.sortIndex;return W!==0?W:T.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var h=[],p=[],v=1,b=null,N=3,_=!1,E=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(T){for(var U=s(p);U!==null;){if(U.callback===null)i(p);else if(U.startTime<=T)i(p),U.sortIndex=U.expirationTime,t(h,U);else break;U=s(p)}}function P(T){if(w=!1,R(T),!E)if(s(h)!==null)E=!0,B(O);else{var U=s(p);U!==null&&Y(P,U.startTime-T)}}function O(T,U){E=!1,w&&(w=!1,k(X),X=-1),_=!0;var W=N;try{for(R(U),b=s(h);b!==null&&(!(b.expirationTime>U)||T&&!xe());){var L=b.callback;if(typeof L=="function"){b.callback=null,N=b.priorityLevel;var H=L(b.expirationTime<=U);U=e.unstable_now(),typeof H=="function"?b.callback=H:b===s(h)&&i(h),R(U)}else i(h);b=s(h)}if(b!==null)var _e=!0;else{var Ee=s(p);Ee!==null&&Y(P,Ee.startTime-U),_e=!1}return _e}finally{b=null,N=W,_=!1}}var G=!1,q=null,X=-1,se=5,de=-1;function xe(){return!(e.unstable_now()-de<se)}function oe(){if(q!==null){var T=e.unstable_now();de=T;var U=!0;try{U=q(!0,T)}finally{U?K():(G=!1,q=null)}}else G=!1}var K;if(typeof C=="function")K=function(){C(oe)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,me=$.port2;$.port1.onmessage=oe,K=function(){me.postMessage(null)}}else K=function(){S(oe,0)};function B(T){q=T,G||(G=!0,K())}function Y(T,U){X=S(function(){T(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){E||_||(E=!0,B(O))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_getFirstCallbackNode=function(){return s(h)},e.unstable_next=function(T){switch(N){case 1:case 2:case 3:var U=3;break;default:U=N}var W=N;N=U;try{return T()}finally{N=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,U){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var W=N;N=T;try{return U()}finally{N=W}},e.unstable_scheduleCallback=function(T,U,W){var L=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?L+W:L):W=L,T){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=W+H,T={id:v++,callback:U,priorityLevel:T,startTime:W,expirationTime:H,sortIndex:-1},W>L?(T.sortIndex=W,t(p,T),s(h)===null&&T===s(p)&&(w?(k(X),X=-1):w=!0,Y(P,W-L))):(T.sortIndex=H,t(h,T),E||_||(E=!0,B(O))),T},e.unstable_shouldYield=xe,e.unstable_wrapCallback=function(T){var U=N;return function(){var W=N;N=U;try{return T.apply(this,arguments)}finally{N=W}}}})(Cf)),Cf}var tx;function X1(){return tx||(tx=1,kf.exports=Y1()),kf.exports}var nx;function J1(){if(nx)return An;nx=1;var e=pd(),t=X1();function s(r){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+r,o=1;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function c(r,a){u(r,a),u(r+"Capture",a)}function u(r,a){for(l[r]=a,r=0;r<a.length;r++)i.add(a[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},b={};function N(r){return h.call(b,r)?!0:h.call(v,r)?!1:p.test(r)?b[r]=!0:(v[r]=!0,!1)}function _(r,a,o,d){if(o!==null&&o.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return d?!1:o!==null?!o.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function E(r,a,o,d){if(a===null||typeof a>"u"||_(r,a,o,d))return!0;if(d)return!1;if(o!==null)switch(o.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function w(r,a,o,d,m,g,j){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=o,this.propertyName=r,this.type=a,this.sanitizeURL=g,this.removeEmptyString=j}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){S[r]=new w(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var a=r[0];S[a]=new w(a,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){S[r]=new w(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){S[r]=new w(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){S[r]=new w(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){S[r]=new w(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){S[r]=new w(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){S[r]=new w(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){S[r]=new w(r,5,!1,r.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function C(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var a=r.replace(k,C);S[a]=new w(a,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var a=r.replace(k,C);S[a]=new w(a,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var a=r.replace(k,C);S[a]=new w(a,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){S[r]=new w(r,1,!1,r.toLowerCase(),null,!1,!1)}),S.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){S[r]=new w(r,1,!1,r.toLowerCase(),null,!0,!0)});function R(r,a,o,d){var m=S.hasOwnProperty(a)?S[a]:null;(m!==null?m.type!==0:d||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(E(a,o,m,d)&&(o=null),d||m===null?N(a)&&(o===null?r.removeAttribute(a):r.setAttribute(a,""+o)):m.mustUseProperty?r[m.propertyName]=o===null?m.type===3?!1:"":o:(a=m.attributeName,d=m.attributeNamespace,o===null?r.removeAttribute(a):(m=m.type,o=m===3||m===4&&o===!0?"":""+o,d?r.setAttributeNS(d,a,o):r.setAttribute(a,o))))}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),G=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),de=Symbol.for("react.provider"),xe=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),T=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=T&&r[T]||r["@@iterator"],typeof r=="function"?r:null)}var W=Object.assign,L;function H(r){if(L===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);L=a&&a[1]||""}return`
`+L+r}var _e=!1;function Ee(r,a){if(!r||_e)return"";_e=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Q){var d=Q}Reflect.construct(r,[],a)}else{try{a.call()}catch(Q){d=Q}r.call(a.prototype)}else{try{throw Error()}catch(Q){d=Q}r()}}catch(Q){if(Q&&d&&typeof Q.stack=="string"){for(var m=Q.stack.split(`
`),g=d.stack.split(`
`),j=m.length-1,A=g.length-1;1<=j&&0<=A&&m[j]!==g[A];)A--;for(;1<=j&&0<=A;j--,A--)if(m[j]!==g[A]){if(j!==1||A!==1)do if(j--,A--,0>A||m[j]!==g[A]){var D=`
`+m[j].replace(" at new "," at ");return r.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",r.displayName)),D}while(1<=j&&0<=A);break}}}finally{_e=!1,Error.prepareStackTrace=o}return(r=r?r.displayName||r.name:"")?H(r):""}function $e(r){switch(r.tag){case 5:return H(r.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return r=Ee(r.type,!1),r;case 11:return r=Ee(r.type.render,!1),r;case 1:return r=Ee(r.type,!0),r;default:return""}}function Be(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case q:return"Fragment";case G:return"Portal";case se:return"Profiler";case X:return"StrictMode";case K:return"Suspense";case $:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case xe:return(r.displayName||"Context")+".Consumer";case de:return(r._context.displayName||"Context")+".Provider";case oe:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case me:return a=r.displayName||null,a!==null?a:Be(r.type)||"Memo";case B:a=r._payload,r=r._init;try{return Be(r(a))}catch{}}return null}function ae(r){var a=r.type;switch(r.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=a.render,r=r.displayName||r.name||"",a.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Be(a);case 8:return a===X?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ue(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Fe(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Se(r){var a=Fe(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),d=""+r[a];if(!r.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,g=o.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return m.call(this)},set:function(j){d=""+j,g.call(this,j)}}),Object.defineProperty(r,a,{enumerable:o.enumerable}),{getValue:function(){return d},setValue:function(j){d=""+j},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Ke(r){r._valueTracker||(r._valueTracker=Se(r))}function dt(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var o=a.getValue(),d="";return r&&(d=Fe(r)?r.checked?"true":"false":r.value),r=d,r!==o?(a.setValue(r),!0):!1}function xt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Je(r,a){var o=a.checked;return W({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??r._wrapperState.initialChecked})}function sn(r,a){var o=a.defaultValue==null?"":a.defaultValue,d=a.checked!=null?a.checked:a.defaultChecked;o=ue(a.value!=null?a.value:o),r._wrapperState={initialChecked:d,initialValue:o,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Dn(r,a){a=a.checked,a!=null&&R(r,"checked",a,!1)}function lr(r,a){Dn(r,a);var o=ue(a.value),d=a.type;if(o!=null)d==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+o):r.value!==""+o&&(r.value=""+o);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}a.hasOwnProperty("value")?Ue(r,a.type,o):a.hasOwnProperty("defaultValue")&&Ue(r,a.type,ue(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(r.defaultChecked=!!a.defaultChecked)}function F(r,a,o){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var d=a.type;if(!(d!=="submit"&&d!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+r._wrapperState.initialValue,o||a===r.value||(r.value=a),r.defaultValue=a}o=r.name,o!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,o!==""&&(r.name=o)}function Ue(r,a,o){(a!=="number"||xt(r.ownerDocument)!==r)&&(o==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+o&&(r.defaultValue=""+o))}var Ie=Array.isArray;function an(r,a,o,d){if(r=r.options,a){a={};for(var m=0;m<o.length;m++)a["$"+o[m]]=!0;for(o=0;o<r.length;o++)m=a.hasOwnProperty("$"+r[o].value),r[o].selected!==m&&(r[o].selected=m),m&&d&&(r[o].defaultSelected=!0)}else{for(o=""+ue(o),a=null,m=0;m<r.length;m++){if(r[m].value===o){r[m].selected=!0,d&&(r[m].defaultSelected=!0);return}a!==null||r[m].disabled||(a=r[m])}a!==null&&(a.selected=!0)}}function Hn(r,a){if(a.dangerouslySetInnerHTML!=null)throw Error(s(91));return W({},a,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Aa(r,a){var o=a.value;if(o==null){if(o=a.children,a=a.defaultValue,o!=null){if(a!=null)throw Error(s(92));if(Ie(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),o=a}r._wrapperState={initialValue:ue(o)}}function Mi(r,a){var o=ue(a.value),d=ue(a.defaultValue);o!=null&&(o=""+o,o!==r.value&&(r.value=o),a.defaultValue==null&&r.defaultValue!==o&&(r.defaultValue=o)),d!=null&&(r.defaultValue=""+d)}function ml(r){var a=r.textContent;a===r._wrapperState.initialValue&&a!==""&&a!==null&&(r.value=a)}function aa(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gr(r,a){return r==null||r==="http://www.w3.org/1999/xhtml"?aa(a):r==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Kr,pn=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,o,d,m){MSApp.execUnsafeLocalFunction(function(){return r(a,o,d,m)})}:r})(function(r,a){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=a;else{for(Kr=Kr||document.createElement("div"),Kr.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Kr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;a.firstChild;)r.appendChild(a.firstChild)}});function Ir(r,a){if(a){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=a;return}}r.textContent=a}var ps={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fd=["Webkit","ms","Moz","O"];Object.keys(ps).forEach(function(r){Fd.forEach(function(a){a=a+r.charAt(0).toUpperCase()+r.substring(1),ps[a]=ps[r]})});function ia(r,a,o){return a==null||typeof a=="boolean"||a===""?"":o||typeof a!="number"||a===0||ps.hasOwnProperty(r)&&ps[r]?(""+a).trim():a+"px"}function La(r,a){r=r.style;for(var o in a)if(a.hasOwnProperty(o)){var d=o.indexOf("--")===0,m=ia(o,a[o],d);o==="float"&&(o="cssFloat"),d?r.setProperty(o,m):r[o]=m}}var zd=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oi(r,a){if(a){if(zd[r]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(s(137,r));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(s(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(s(61))}if(a.style!=null&&typeof a.style!="object")throw Error(s(62))}}function Fi(r,a){if(r.indexOf("-")===-1)return typeof a.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zi=null;function $i(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Bi=null,hs=null,gs=null;function Da(r){if(r=co(r)){if(typeof Bi!="function")throw Error(s(280));var a=r.stateNode;a&&(a=Fl(a),Bi(r.stateNode,r.type,a))}}function Vi(r){hs?gs?gs.push(r):gs=[r]:hs=r}function pl(){if(hs){var r=hs,a=gs;if(gs=hs=null,Da(r),a)for(r=0;r<a.length;r++)Da(a[r])}}function hl(r,a){return r(a)}function gl(){}var qi=!1;function Ma(r,a,o){if(qi)return r(a,o);qi=!0;try{return hl(r,a,o)}finally{qi=!1,(hs!==null||gs!==null)&&(gl(),pl())}}function oa(r,a){var o=r.stateNode;if(o===null)return null;var d=Fl(o);if(d===null)return null;o=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(s(231,a,typeof o));return o}var Oa=!1;if(f)try{var _n={};Object.defineProperty(_n,"passive",{get:function(){Oa=!0}}),window.addEventListener("test",_n,_n),window.removeEventListener("test",_n,_n)}catch{Oa=!1}function $d(r,a,o,d,m,g,j,A,D){var Q=Array.prototype.slice.call(arguments,3);try{a.apply(o,Q)}catch(te){this.onError(te)}}var la=!1,Fa=null,za=!1,Ui=null,y={onError:function(r){la=!0,Fa=r}};function Z(r,a,o,d,m,g,j,A,D){la=!1,Fa=null,$d.apply(y,arguments)}function ke(r,a,o,d,m,g,j,A,D){if(Z.apply(this,arguments),la){if(la){var Q=Fa;la=!1,Fa=null}else throw Error(s(198));za||(za=!0,Ui=Q)}}function it(r){var a=r,o=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(o=a.return),r=a.return;while(r)}return a.tag===3?o:null}function on(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function xs(r){if(it(r)!==r)throw Error(s(188))}function xl(r){var a=r.alternate;if(!a){if(a=it(r),a===null)throw Error(s(188));return a!==r?null:r}for(var o=r,d=a;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(d=m.return,d!==null){o=d;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return xs(m),r;if(g===d)return xs(m),a;g=g.sibling}throw Error(s(188))}if(o.return!==d.return)o=m,d=g;else{for(var j=!1,A=m.child;A;){if(A===o){j=!0,o=m,d=g;break}if(A===d){j=!0,d=m,o=g;break}A=A.sibling}if(!j){for(A=g.child;A;){if(A===o){j=!0,o=g,d=m;break}if(A===d){j=!0,d=g,o=m;break}A=A.sibling}if(!j)throw Error(s(189))}}if(o.alternate!==d)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?r:a}function bp(r){return r=xl(r),r!==null?jp(r):null}function jp(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var a=jp(r);if(a!==null)return a;r=r.sibling}return null}var Np=t.unstable_scheduleCallback,Sp=t.unstable_cancelCallback,sj=t.unstable_shouldYield,aj=t.unstable_requestPaint,Ft=t.unstable_now,ij=t.unstable_getCurrentPriorityLevel,Bd=t.unstable_ImmediatePriority,kp=t.unstable_UserBlockingPriority,vl=t.unstable_NormalPriority,oj=t.unstable_LowPriority,Cp=t.unstable_IdlePriority,yl=null,Rr=null;function lj(r){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(yl,r,void 0,(r.current.flags&128)===128)}catch{}}var cr=Math.clz32?Math.clz32:uj,cj=Math.log,dj=Math.LN2;function uj(r){return r>>>=0,r===0?32:31-(cj(r)/dj|0)|0}var wl=64,bl=4194304;function Qi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function jl(r,a){var o=r.pendingLanes;if(o===0)return 0;var d=0,m=r.suspendedLanes,g=r.pingedLanes,j=o&268435455;if(j!==0){var A=j&~m;A!==0?d=Qi(A):(g&=j,g!==0&&(d=Qi(g)))}else j=o&~m,j!==0?d=Qi(j):g!==0&&(d=Qi(g));if(d===0)return 0;if(a!==0&&a!==d&&(a&m)===0&&(m=d&-d,g=a&-a,m>=g||m===16&&(g&4194240)!==0))return a;if((d&4)!==0&&(d|=o&16),a=r.entangledLanes,a!==0)for(r=r.entanglements,a&=d;0<a;)o=31-cr(a),m=1<<o,d|=r[o],a&=~m;return d}function fj(r,a){switch(r){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mj(r,a){for(var o=r.suspendedLanes,d=r.pingedLanes,m=r.expirationTimes,g=r.pendingLanes;0<g;){var j=31-cr(g),A=1<<j,D=m[j];D===-1?((A&o)===0||(A&d)!==0)&&(m[j]=fj(A,a)):D<=a&&(r.expiredLanes|=A),g&=~A}}function Vd(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function _p(){var r=wl;return wl<<=1,(wl&4194240)===0&&(wl=64),r}function qd(r){for(var a=[],o=0;31>o;o++)a.push(r);return a}function Wi(r,a,o){r.pendingLanes|=a,a!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,a=31-cr(a),r[a]=o}function pj(r,a){var o=r.pendingLanes&~a;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=a,r.mutableReadLanes&=a,r.entangledLanes&=a,a=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<o;){var m=31-cr(o),g=1<<m;a[m]=0,d[m]=-1,r[m]=-1,o&=~g}}function Ud(r,a){var o=r.entangledLanes|=a;for(r=r.entanglements;o;){var d=31-cr(o),m=1<<d;m&a|r[d]&a&&(r[d]|=a),o&=~m}}var ut=0;function Pp(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Ep,Qd,Tp,Ip,Rp,Wd=!1,Nl=[],vs=null,ys=null,ws=null,Hi=new Map,Gi=new Map,bs=[],hj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ap(r,a){switch(r){case"focusin":case"focusout":vs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":Hi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gi.delete(a.pointerId)}}function Ki(r,a,o,d,m,g){return r===null||r.nativeEvent!==g?(r={blockedOn:a,domEventName:o,eventSystemFlags:d,nativeEvent:g,targetContainers:[m]},a!==null&&(a=co(a),a!==null&&Qd(a)),r):(r.eventSystemFlags|=d,a=r.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),r)}function gj(r,a,o,d,m){switch(a){case"focusin":return vs=Ki(vs,r,a,o,d,m),!0;case"dragenter":return ys=Ki(ys,r,a,o,d,m),!0;case"mouseover":return ws=Ki(ws,r,a,o,d,m),!0;case"pointerover":var g=m.pointerId;return Hi.set(g,Ki(Hi.get(g)||null,r,a,o,d,m)),!0;case"gotpointercapture":return g=m.pointerId,Gi.set(g,Ki(Gi.get(g)||null,r,a,o,d,m)),!0}return!1}function Lp(r){var a=ca(r.target);if(a!==null){var o=it(a);if(o!==null){if(a=o.tag,a===13){if(a=on(o),a!==null){r.blockedOn=a,Rp(r.priority,function(){Tp(o)});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Sl(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var o=Gd(r.domEventName,r.eventSystemFlags,a[0],r.nativeEvent);if(o===null){o=r.nativeEvent;var d=new o.constructor(o.type,o);zi=d,o.target.dispatchEvent(d),zi=null}else return a=co(o),a!==null&&Qd(a),r.blockedOn=o,!1;a.shift()}return!0}function Dp(r,a,o){Sl(r)&&o.delete(a)}function xj(){Wd=!1,vs!==null&&Sl(vs)&&(vs=null),ys!==null&&Sl(ys)&&(ys=null),ws!==null&&Sl(ws)&&(ws=null),Hi.forEach(Dp),Gi.forEach(Dp)}function Zi(r,a){r.blockedOn===a&&(r.blockedOn=null,Wd||(Wd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,xj)))}function Yi(r){function a(m){return Zi(m,r)}if(0<Nl.length){Zi(Nl[0],r);for(var o=1;o<Nl.length;o++){var d=Nl[o];d.blockedOn===r&&(d.blockedOn=null)}}for(vs!==null&&Zi(vs,r),ys!==null&&Zi(ys,r),ws!==null&&Zi(ws,r),Hi.forEach(a),Gi.forEach(a),o=0;o<bs.length;o++)d=bs[o],d.blockedOn===r&&(d.blockedOn=null);for(;0<bs.length&&(o=bs[0],o.blockedOn===null);)Lp(o),o.blockedOn===null&&bs.shift()}var $a=P.ReactCurrentBatchConfig,kl=!0;function vj(r,a,o,d){var m=ut,g=$a.transition;$a.transition=null;try{ut=1,Hd(r,a,o,d)}finally{ut=m,$a.transition=g}}function yj(r,a,o,d){var m=ut,g=$a.transition;$a.transition=null;try{ut=4,Hd(r,a,o,d)}finally{ut=m,$a.transition=g}}function Hd(r,a,o,d){if(kl){var m=Gd(r,a,o,d);if(m===null)uu(r,a,d,Cl,o),Ap(r,d);else if(gj(m,r,a,o,d))d.stopPropagation();else if(Ap(r,d),a&4&&-1<hj.indexOf(r)){for(;m!==null;){var g=co(m);if(g!==null&&Ep(g),g=Gd(r,a,o,d),g===null&&uu(r,a,d,Cl,o),g===m)break;m=g}m!==null&&d.stopPropagation()}else uu(r,a,d,null,o)}}var Cl=null;function Gd(r,a,o,d){if(Cl=null,r=$i(d),r=ca(r),r!==null)if(a=it(r),a===null)r=null;else if(o=a.tag,o===13){if(r=on(a),r!==null)return r;r=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null);return Cl=r,null}function Mp(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ij()){case Bd:return 1;case kp:return 4;case vl:case oj:return 16;case Cp:return 536870912;default:return 16}default:return 16}}var js=null,Kd=null,_l=null;function Op(){if(_l)return _l;var r,a=Kd,o=a.length,d,m="value"in js?js.value:js.textContent,g=m.length;for(r=0;r<o&&a[r]===m[r];r++);var j=o-r;for(d=1;d<=j&&a[o-d]===m[g-d];d++);return _l=m.slice(r,1<d?1-d:void 0)}function Pl(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function El(){return!0}function Fp(){return!1}function Mn(r){function a(o,d,m,g,j){this._reactName=o,this._targetInst=m,this.type=d,this.nativeEvent=g,this.target=j,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(o=r[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?El:Fp,this.isPropagationStopped=Fp,this}return W(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),a}var Ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zd=Mn(Ba),Xi=W({},Ba,{view:0,detail:0}),wj=Mn(Xi),Yd,Xd,Ji,Tl=W({},Xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ji&&(Ji&&r.type==="mousemove"?(Yd=r.screenX-Ji.screenX,Xd=r.screenY-Ji.screenY):Xd=Yd=0,Ji=r),Yd)},movementY:function(r){return"movementY"in r?r.movementY:Xd}}),zp=Mn(Tl),bj=W({},Tl,{dataTransfer:0}),jj=Mn(bj),Nj=W({},Xi,{relatedTarget:0}),Jd=Mn(Nj),Sj=W({},Ba,{animationName:0,elapsedTime:0,pseudoElement:0}),kj=Mn(Sj),Cj=W({},Ba,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),_j=Mn(Cj),Pj=W({},Ba,{data:0}),$p=Mn(Pj),Ej={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ij={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rj(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Ij[r])?!!a[r]:!1}function eu(){return Rj}var Aj=W({},Xi,{key:function(r){if(r.key){var a=Ej[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Pl(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Tj[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eu,charCode:function(r){return r.type==="keypress"?Pl(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Pl(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Lj=Mn(Aj),Dj=W({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bp=Mn(Dj),Mj=W({},Xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eu}),Oj=Mn(Mj),Fj=W({},Ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),zj=Mn(Fj),$j=W({},Tl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Bj=Mn($j),Vj=[9,13,27,32],tu=f&&"CompositionEvent"in window,eo=null;f&&"documentMode"in document&&(eo=document.documentMode);var qj=f&&"TextEvent"in window&&!eo,Vp=f&&(!tu||eo&&8<eo&&11>=eo),qp=" ",Up=!1;function Qp(r,a){switch(r){case"keyup":return Vj.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Va=!1;function Uj(r,a){switch(r){case"compositionend":return Wp(a);case"keypress":return a.which!==32?null:(Up=!0,qp);case"textInput":return r=a.data,r===qp&&Up?null:r;default:return null}}function Qj(r,a){if(Va)return r==="compositionend"||!tu&&Qp(r,a)?(r=Op(),_l=Kd=js=null,Va=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Vp&&a.locale!=="ko"?null:a.data;default:return null}}var Wj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hp(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!Wj[r.type]:a==="textarea"}function Gp(r,a,o,d){Vi(d),a=Dl(a,"onChange"),0<a.length&&(o=new Zd("onChange","change",null,o,d),r.push({event:o,listeners:a}))}var to=null,no=null;function Hj(r){fh(r,0)}function Il(r){var a=Ha(r);if(dt(a))return r}function Gj(r,a){if(r==="change")return a}var Kp=!1;if(f){var nu;if(f){var ru="oninput"in document;if(!ru){var Zp=document.createElement("div");Zp.setAttribute("oninput","return;"),ru=typeof Zp.oninput=="function"}nu=ru}else nu=!1;Kp=nu&&(!document.documentMode||9<document.documentMode)}function Yp(){to&&(to.detachEvent("onpropertychange",Xp),no=to=null)}function Xp(r){if(r.propertyName==="value"&&Il(no)){var a=[];Gp(a,no,r,$i(r)),Ma(Hj,a)}}function Kj(r,a,o){r==="focusin"?(Yp(),to=a,no=o,to.attachEvent("onpropertychange",Xp)):r==="focusout"&&Yp()}function Zj(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Il(no)}function Yj(r,a){if(r==="click")return Il(a)}function Xj(r,a){if(r==="input"||r==="change")return Il(a)}function Jj(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var dr=typeof Object.is=="function"?Object.is:Jj;function ro(r,a){if(dr(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var o=Object.keys(r),d=Object.keys(a);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var m=o[d];if(!h.call(a,m)||!dr(r[m],a[m]))return!1}return!0}function Jp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function eh(r,a){var o=Jp(r);r=0;for(var d;o;){if(o.nodeType===3){if(d=r+o.textContent.length,r<=a&&d>=a)return{node:o,offset:a-r};r=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Jp(o)}}function th(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?th(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function nh(){for(var r=window,a=xt();a instanceof r.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)r=a.contentWindow;else break;a=xt(r.document)}return a}function su(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}function e1(r){var a=nh(),o=r.focusedElem,d=r.selectionRange;if(a!==o&&o&&o.ownerDocument&&th(o.ownerDocument.documentElement,o)){if(d!==null&&su(o)){if(a=d.start,r=d.end,r===void 0&&(r=a),"selectionStart"in o)o.selectionStart=a,o.selectionEnd=Math.min(r,o.value.length);else if(r=(a=o.ownerDocument||document)&&a.defaultView||window,r.getSelection){r=r.getSelection();var m=o.textContent.length,g=Math.min(d.start,m);d=d.end===void 0?g:Math.min(d.end,m),!r.extend&&g>d&&(m=d,d=g,g=m),m=eh(o,g);var j=eh(o,d);m&&j&&(r.rangeCount!==1||r.anchorNode!==m.node||r.anchorOffset!==m.offset||r.focusNode!==j.node||r.focusOffset!==j.offset)&&(a=a.createRange(),a.setStart(m.node,m.offset),r.removeAllRanges(),g>d?(r.addRange(a),r.extend(j.node,j.offset)):(a.setEnd(j.node,j.offset),r.addRange(a)))}}for(a=[],r=o;r=r.parentNode;)r.nodeType===1&&a.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<a.length;o++)r=a[o],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var t1=f&&"documentMode"in document&&11>=document.documentMode,qa=null,au=null,so=null,iu=!1;function rh(r,a,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;iu||qa==null||qa!==xt(d)||(d=qa,"selectionStart"in d&&su(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),so&&ro(so,d)||(so=d,d=Dl(au,"onSelect"),0<d.length&&(a=new Zd("onSelect","select",null,a,o),r.push({event:a,listeners:d}),a.target=qa)))}function Rl(r,a){var o={};return o[r.toLowerCase()]=a.toLowerCase(),o["Webkit"+r]="webkit"+a,o["Moz"+r]="moz"+a,o}var Ua={animationend:Rl("Animation","AnimationEnd"),animationiteration:Rl("Animation","AnimationIteration"),animationstart:Rl("Animation","AnimationStart"),transitionend:Rl("Transition","TransitionEnd")},ou={},sh={};f&&(sh=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Al(r){if(ou[r])return ou[r];if(!Ua[r])return r;var a=Ua[r],o;for(o in a)if(a.hasOwnProperty(o)&&o in sh)return ou[r]=a[o];return r}var ah=Al("animationend"),ih=Al("animationiteration"),oh=Al("animationstart"),lh=Al("transitionend"),ch=new Map,dh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ns(r,a){ch.set(r,a),c(a,[r])}for(var lu=0;lu<dh.length;lu++){var cu=dh[lu],n1=cu.toLowerCase(),r1=cu[0].toUpperCase()+cu.slice(1);Ns(n1,"on"+r1)}Ns(ah,"onAnimationEnd"),Ns(ih,"onAnimationIteration"),Ns(oh,"onAnimationStart"),Ns("dblclick","onDoubleClick"),Ns("focusin","onFocus"),Ns("focusout","onBlur"),Ns(lh,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ao));function uh(r,a,o){var d=r.type||"unknown-event";r.currentTarget=o,ke(d,a,void 0,r),r.currentTarget=null}function fh(r,a){a=(a&4)!==0;for(var o=0;o<r.length;o++){var d=r[o],m=d.event;d=d.listeners;e:{var g=void 0;if(a)for(var j=d.length-1;0<=j;j--){var A=d[j],D=A.instance,Q=A.currentTarget;if(A=A.listener,D!==g&&m.isPropagationStopped())break e;uh(m,A,Q),g=D}else for(j=0;j<d.length;j++){if(A=d[j],D=A.instance,Q=A.currentTarget,A=A.listener,D!==g&&m.isPropagationStopped())break e;uh(m,A,Q),g=D}}}if(za)throw r=Ui,za=!1,Ui=null,r}function wt(r,a){var o=a[xu];o===void 0&&(o=a[xu]=new Set);var d=r+"__bubble";o.has(d)||(mh(a,r,2,!1),o.add(d))}function du(r,a,o){var d=0;a&&(d|=4),mh(o,r,d,a)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function io(r){if(!r[Ll]){r[Ll]=!0,i.forEach(function(o){o!=="selectionchange"&&(s1.has(o)||du(o,!1,r),du(o,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Ll]||(a[Ll]=!0,du("selectionchange",!1,a))}}function mh(r,a,o,d){switch(Mp(a)){case 1:var m=vj;break;case 4:m=yj;break;default:m=Hd}o=m.bind(null,a,o,r),m=void 0,!Oa||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),d?m!==void 0?r.addEventListener(a,o,{capture:!0,passive:m}):r.addEventListener(a,o,!0):m!==void 0?r.addEventListener(a,o,{passive:m}):r.addEventListener(a,o,!1)}function uu(r,a,o,d,m){var g=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var j=d.tag;if(j===3||j===4){var A=d.stateNode.containerInfo;if(A===m||A.nodeType===8&&A.parentNode===m)break;if(j===4)for(j=d.return;j!==null;){var D=j.tag;if((D===3||D===4)&&(D=j.stateNode.containerInfo,D===m||D.nodeType===8&&D.parentNode===m))return;j=j.return}for(;A!==null;){if(j=ca(A),j===null)return;if(D=j.tag,D===5||D===6){d=g=j;continue e}A=A.parentNode}}d=d.return}Ma(function(){var Q=g,te=$i(o),ne=[];e:{var J=ch.get(r);if(J!==void 0){var pe=Zd,ye=r;switch(r){case"keypress":if(Pl(o)===0)break e;case"keydown":case"keyup":pe=Lj;break;case"focusin":ye="focus",pe=Jd;break;case"focusout":ye="blur",pe=Jd;break;case"beforeblur":case"afterblur":pe=Jd;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=zp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=jj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Oj;break;case ah:case ih:case oh:pe=kj;break;case lh:pe=zj;break;case"scroll":pe=wj;break;case"wheel":pe=Bj;break;case"copy":case"cut":case"paste":pe=_j;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=Bp}var be=(a&4)!==0,zt=!be&&r==="scroll",z=be?J!==null?J+"Capture":null:J;be=[];for(var M=Q,V;M!==null;){V=M;var ie=V.stateNode;if(V.tag===5&&ie!==null&&(V=ie,z!==null&&(ie=oa(M,z),ie!=null&&be.push(oo(M,ie,V)))),zt)break;M=M.return}0<be.length&&(J=new pe(J,ye,null,o,te),ne.push({event:J,listeners:be}))}}if((a&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",pe=r==="mouseout"||r==="pointerout",J&&o!==zi&&(ye=o.relatedTarget||o.fromElement)&&(ca(ye)||ye[Zr]))break e;if((pe||J)&&(J=te.window===te?te:(J=te.ownerDocument)?J.defaultView||J.parentWindow:window,pe?(ye=o.relatedTarget||o.toElement,pe=Q,ye=ye?ca(ye):null,ye!==null&&(zt=it(ye),ye!==zt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(pe=null,ye=Q),pe!==ye)){if(be=zp,ie="onMouseLeave",z="onMouseEnter",M="mouse",(r==="pointerout"||r==="pointerover")&&(be=Bp,ie="onPointerLeave",z="onPointerEnter",M="pointer"),zt=pe==null?J:Ha(pe),V=ye==null?J:Ha(ye),J=new be(ie,M+"leave",pe,o,te),J.target=zt,J.relatedTarget=V,ie=null,ca(te)===Q&&(be=new be(z,M+"enter",ye,o,te),be.target=V,be.relatedTarget=zt,ie=be),zt=ie,pe&&ye)t:{for(be=pe,z=ye,M=0,V=be;V;V=Qa(V))M++;for(V=0,ie=z;ie;ie=Qa(ie))V++;for(;0<M-V;)be=Qa(be),M--;for(;0<V-M;)z=Qa(z),V--;for(;M--;){if(be===z||z!==null&&be===z.alternate)break t;be=Qa(be),z=Qa(z)}be=null}else be=null;pe!==null&&ph(ne,J,pe,be,!1),ye!==null&&zt!==null&&ph(ne,zt,ye,be,!0)}}e:{if(J=Q?Ha(Q):window,pe=J.nodeName&&J.nodeName.toLowerCase(),pe==="select"||pe==="input"&&J.type==="file")var je=Gj;else if(Hp(J))if(Kp)je=Xj;else{je=Zj;var Re=Kj}else(pe=J.nodeName)&&pe.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(je=Yj);if(je&&(je=je(r,Q))){Gp(ne,je,o,te);break e}Re&&Re(r,J,Q),r==="focusout"&&(Re=J._wrapperState)&&Re.controlled&&J.type==="number"&&Ue(J,"number",J.value)}switch(Re=Q?Ha(Q):window,r){case"focusin":(Hp(Re)||Re.contentEditable==="true")&&(qa=Re,au=Q,so=null);break;case"focusout":so=au=qa=null;break;case"mousedown":iu=!0;break;case"contextmenu":case"mouseup":case"dragend":iu=!1,rh(ne,o,te);break;case"selectionchange":if(t1)break;case"keydown":case"keyup":rh(ne,o,te)}var Ae;if(tu)e:{switch(r){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Va?Qp(r,o)&&(Qe="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Qe="onCompositionStart");Qe&&(Vp&&o.locale!=="ko"&&(Va||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Va&&(Ae=Op()):(js=te,Kd="value"in js?js.value:js.textContent,Va=!0)),Re=Dl(Q,Qe),0<Re.length&&(Qe=new $p(Qe,r,null,o,te),ne.push({event:Qe,listeners:Re}),Ae?Qe.data=Ae:(Ae=Wp(o),Ae!==null&&(Qe.data=Ae)))),(Ae=qj?Uj(r,o):Qj(r,o))&&(Q=Dl(Q,"onBeforeInput"),0<Q.length&&(te=new $p("onBeforeInput","beforeinput",null,o,te),ne.push({event:te,listeners:Q}),te.data=Ae))}fh(ne,a)})}function oo(r,a,o){return{instance:r,listener:a,currentTarget:o}}function Dl(r,a){for(var o=a+"Capture",d=[];r!==null;){var m=r,g=m.stateNode;m.tag===5&&g!==null&&(m=g,g=oa(r,o),g!=null&&d.unshift(oo(r,g,m)),g=oa(r,a),g!=null&&d.push(oo(r,g,m))),r=r.return}return d}function Qa(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function ph(r,a,o,d,m){for(var g=a._reactName,j=[];o!==null&&o!==d;){var A=o,D=A.alternate,Q=A.stateNode;if(D!==null&&D===d)break;A.tag===5&&Q!==null&&(A=Q,m?(D=oa(o,g),D!=null&&j.unshift(oo(o,D,A))):m||(D=oa(o,g),D!=null&&j.push(oo(o,D,A)))),o=o.return}j.length!==0&&r.push({event:a,listeners:j})}var a1=/\r\n?/g,i1=/\u0000|\uFFFD/g;function hh(r){return(typeof r=="string"?r:""+r).replace(a1,`
`).replace(i1,"")}function Ml(r,a,o){if(a=hh(a),hh(r)!==a&&o)throw Error(s(425))}function Ol(){}var fu=null,mu=null;function pu(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var hu=typeof setTimeout=="function"?setTimeout:void 0,o1=typeof clearTimeout=="function"?clearTimeout:void 0,gh=typeof Promise=="function"?Promise:void 0,l1=typeof queueMicrotask=="function"?queueMicrotask:typeof gh<"u"?function(r){return gh.resolve(null).then(r).catch(c1)}:hu;function c1(r){setTimeout(function(){throw r})}function gu(r,a){var o=a,d=0;do{var m=o.nextSibling;if(r.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(d===0){r.removeChild(m),Yi(a);return}d--}else o!=="$"&&o!=="$?"&&o!=="$!"||d++;o=m}while(o);Yi(a)}function Ss(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return r}function xh(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return r;a--}else o==="/$"&&a++}r=r.previousSibling}return null}var Wa=Math.random().toString(36).slice(2),Ar="__reactFiber$"+Wa,lo="__reactProps$"+Wa,Zr="__reactContainer$"+Wa,xu="__reactEvents$"+Wa,d1="__reactListeners$"+Wa,u1="__reactHandles$"+Wa;function ca(r){var a=r[Ar];if(a)return a;for(var o=r.parentNode;o;){if(a=o[Zr]||o[Ar]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(r=xh(r);r!==null;){if(o=r[Ar])return o;r=xh(r)}return a}r=o,o=r.parentNode}return null}function co(r){return r=r[Ar]||r[Zr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ha(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(s(33))}function Fl(r){return r[lo]||null}var vu=[],Ga=-1;function ks(r){return{current:r}}function bt(r){0>Ga||(r.current=vu[Ga],vu[Ga]=null,Ga--)}function vt(r,a){Ga++,vu[Ga]=r.current,r.current=a}var Cs={},hn=ks(Cs),Pn=ks(!1),da=Cs;function Ka(r,a){var o=r.type.contextTypes;if(!o)return Cs;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===a)return d.__reactInternalMemoizedMaskedChildContext;var m={},g;for(g in o)m[g]=a[g];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=a,r.__reactInternalMemoizedMaskedChildContext=m),m}function En(r){return r=r.childContextTypes,r!=null}function zl(){bt(Pn),bt(hn)}function vh(r,a,o){if(hn.current!==Cs)throw Error(s(168));vt(hn,a),vt(Pn,o)}function yh(r,a,o){var d=r.stateNode;if(a=a.childContextTypes,typeof d.getChildContext!="function")return o;d=d.getChildContext();for(var m in d)if(!(m in a))throw Error(s(108,ae(r)||"Unknown",m));return W({},o,d)}function $l(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Cs,da=hn.current,vt(hn,r),vt(Pn,Pn.current),!0}function wh(r,a,o){var d=r.stateNode;if(!d)throw Error(s(169));o?(r=yh(r,a,da),d.__reactInternalMemoizedMergedChildContext=r,bt(Pn),bt(hn),vt(hn,r)):bt(Pn),vt(Pn,o)}var Yr=null,Bl=!1,yu=!1;function bh(r){Yr===null?Yr=[r]:Yr.push(r)}function f1(r){Bl=!0,bh(r)}function _s(){if(!yu&&Yr!==null){yu=!0;var r=0,a=ut;try{var o=Yr;for(ut=1;r<o.length;r++){var d=o[r];do d=d(!0);while(d!==null)}Yr=null,Bl=!1}catch(m){throw Yr!==null&&(Yr=Yr.slice(r+1)),Np(Bd,_s),m}finally{ut=a,yu=!1}}return null}var Za=[],Ya=0,Vl=null,ql=0,Gn=[],Kn=0,ua=null,Xr=1,Jr="";function fa(r,a){Za[Ya++]=ql,Za[Ya++]=Vl,Vl=r,ql=a}function jh(r,a,o){Gn[Kn++]=Xr,Gn[Kn++]=Jr,Gn[Kn++]=ua,ua=r;var d=Xr;r=Jr;var m=32-cr(d)-1;d&=~(1<<m),o+=1;var g=32-cr(a)+m;if(30<g){var j=m-m%5;g=(d&(1<<j)-1).toString(32),d>>=j,m-=j,Xr=1<<32-cr(a)+m|o<<m|d,Jr=g+r}else Xr=1<<g|o<<m|d,Jr=r}function wu(r){r.return!==null&&(fa(r,1),jh(r,1,0))}function bu(r){for(;r===Vl;)Vl=Za[--Ya],Za[Ya]=null,ql=Za[--Ya],Za[Ya]=null;for(;r===ua;)ua=Gn[--Kn],Gn[Kn]=null,Jr=Gn[--Kn],Gn[Kn]=null,Xr=Gn[--Kn],Gn[Kn]=null}var On=null,Fn=null,Ct=!1,ur=null;function Nh(r,a){var o=Jn(5,null,null,0);o.elementType="DELETED",o.stateNode=a,o.return=r,a=r.deletions,a===null?(r.deletions=[o],r.flags|=16):a.push(o)}function Sh(r,a){switch(r.tag){case 5:var o=r.type;return a=a.nodeType!==1||o.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(r.stateNode=a,On=r,Fn=Ss(a.firstChild),!0):!1;case 6:return a=r.pendingProps===""||a.nodeType!==3?null:a,a!==null?(r.stateNode=a,On=r,Fn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(o=ua!==null?{id:Xr,overflow:Jr}:null,r.memoizedState={dehydrated:a,treeContext:o,retryLane:1073741824},o=Jn(18,null,null,0),o.stateNode=a,o.return=r,r.child=o,On=r,Fn=null,!0):!1;default:return!1}}function ju(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Nu(r){if(Ct){var a=Fn;if(a){var o=a;if(!Sh(r,a)){if(ju(r))throw Error(s(418));a=Ss(o.nextSibling);var d=On;a&&Sh(r,a)?Nh(d,o):(r.flags=r.flags&-4097|2,Ct=!1,On=r)}}else{if(ju(r))throw Error(s(418));r.flags=r.flags&-4097|2,Ct=!1,On=r}}}function kh(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;On=r}function Ul(r){if(r!==On)return!1;if(!Ct)return kh(r),Ct=!0,!1;var a;if((a=r.tag!==3)&&!(a=r.tag!==5)&&(a=r.type,a=a!=="head"&&a!=="body"&&!pu(r.type,r.memoizedProps)),a&&(a=Fn)){if(ju(r))throw Ch(),Error(s(418));for(;a;)Nh(r,a),a=Ss(a.nextSibling)}if(kh(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"){if(a===0){Fn=Ss(r.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++}r=r.nextSibling}Fn=null}}else Fn=On?Ss(r.stateNode.nextSibling):null;return!0}function Ch(){for(var r=Fn;r;)r=Ss(r.nextSibling)}function Xa(){Fn=On=null,Ct=!1}function Su(r){ur===null?ur=[r]:ur.push(r)}var m1=P.ReactCurrentBatchConfig;function uo(r,a,o){if(r=o.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(s(309));var d=o.stateNode}if(!d)throw Error(s(147,r));var m=d,g=""+r;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===g?a.ref:(a=function(j){var A=m.refs;j===null?delete A[g]:A[g]=j},a._stringRef=g,a)}if(typeof r!="string")throw Error(s(284));if(!o._owner)throw Error(s(290,r))}return r}function Ql(r,a){throw r=Object.prototype.toString.call(a),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r))}function _h(r){var a=r._init;return a(r._payload)}function Ph(r){function a(z,M){if(r){var V=z.deletions;V===null?(z.deletions=[M],z.flags|=16):V.push(M)}}function o(z,M){if(!r)return null;for(;M!==null;)a(z,M),M=M.sibling;return null}function d(z,M){for(z=new Map;M!==null;)M.key!==null?z.set(M.key,M):z.set(M.index,M),M=M.sibling;return z}function m(z,M){return z=Ds(z,M),z.index=0,z.sibling=null,z}function g(z,M,V){return z.index=V,r?(V=z.alternate,V!==null?(V=V.index,V<M?(z.flags|=2,M):V):(z.flags|=2,M)):(z.flags|=1048576,M)}function j(z){return r&&z.alternate===null&&(z.flags|=2),z}function A(z,M,V,ie){return M===null||M.tag!==6?(M=gf(V,z.mode,ie),M.return=z,M):(M=m(M,V),M.return=z,M)}function D(z,M,V,ie){var je=V.type;return je===q?te(z,M,V.props.children,ie,V.key):M!==null&&(M.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===B&&_h(je)===M.type)?(ie=m(M,V.props),ie.ref=uo(z,M,V),ie.return=z,ie):(ie=hc(V.type,V.key,V.props,null,z.mode,ie),ie.ref=uo(z,M,V),ie.return=z,ie)}function Q(z,M,V,ie){return M===null||M.tag!==4||M.stateNode.containerInfo!==V.containerInfo||M.stateNode.implementation!==V.implementation?(M=xf(V,z.mode,ie),M.return=z,M):(M=m(M,V.children||[]),M.return=z,M)}function te(z,M,V,ie,je){return M===null||M.tag!==7?(M=wa(V,z.mode,ie,je),M.return=z,M):(M=m(M,V),M.return=z,M)}function ne(z,M,V){if(typeof M=="string"&&M!==""||typeof M=="number")return M=gf(""+M,z.mode,V),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case O:return V=hc(M.type,M.key,M.props,null,z.mode,V),V.ref=uo(z,null,M),V.return=z,V;case G:return M=xf(M,z.mode,V),M.return=z,M;case B:var ie=M._init;return ne(z,ie(M._payload),V)}if(Ie(M)||U(M))return M=wa(M,z.mode,V,null),M.return=z,M;Ql(z,M)}return null}function J(z,M,V,ie){var je=M!==null?M.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return je!==null?null:A(z,M,""+V,ie);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case O:return V.key===je?D(z,M,V,ie):null;case G:return V.key===je?Q(z,M,V,ie):null;case B:return je=V._init,J(z,M,je(V._payload),ie)}if(Ie(V)||U(V))return je!==null?null:te(z,M,V,ie,null);Ql(z,V)}return null}function pe(z,M,V,ie,je){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return z=z.get(V)||null,A(M,z,""+ie,je);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case O:return z=z.get(ie.key===null?V:ie.key)||null,D(M,z,ie,je);case G:return z=z.get(ie.key===null?V:ie.key)||null,Q(M,z,ie,je);case B:var Re=ie._init;return pe(z,M,V,Re(ie._payload),je)}if(Ie(ie)||U(ie))return z=z.get(V)||null,te(M,z,ie,je,null);Ql(M,ie)}return null}function ye(z,M,V,ie){for(var je=null,Re=null,Ae=M,Qe=M=0,Yt=null;Ae!==null&&Qe<V.length;Qe++){Ae.index>Qe?(Yt=Ae,Ae=null):Yt=Ae.sibling;var ot=J(z,Ae,V[Qe],ie);if(ot===null){Ae===null&&(Ae=Yt);break}r&&Ae&&ot.alternate===null&&a(z,Ae),M=g(ot,M,Qe),Re===null?je=ot:Re.sibling=ot,Re=ot,Ae=Yt}if(Qe===V.length)return o(z,Ae),Ct&&fa(z,Qe),je;if(Ae===null){for(;Qe<V.length;Qe++)Ae=ne(z,V[Qe],ie),Ae!==null&&(M=g(Ae,M,Qe),Re===null?je=Ae:Re.sibling=Ae,Re=Ae);return Ct&&fa(z,Qe),je}for(Ae=d(z,Ae);Qe<V.length;Qe++)Yt=pe(Ae,z,Qe,V[Qe],ie),Yt!==null&&(r&&Yt.alternate!==null&&Ae.delete(Yt.key===null?Qe:Yt.key),M=g(Yt,M,Qe),Re===null?je=Yt:Re.sibling=Yt,Re=Yt);return r&&Ae.forEach(function(Ms){return a(z,Ms)}),Ct&&fa(z,Qe),je}function be(z,M,V,ie){var je=U(V);if(typeof je!="function")throw Error(s(150));if(V=je.call(V),V==null)throw Error(s(151));for(var Re=je=null,Ae=M,Qe=M=0,Yt=null,ot=V.next();Ae!==null&&!ot.done;Qe++,ot=V.next()){Ae.index>Qe?(Yt=Ae,Ae=null):Yt=Ae.sibling;var Ms=J(z,Ae,ot.value,ie);if(Ms===null){Ae===null&&(Ae=Yt);break}r&&Ae&&Ms.alternate===null&&a(z,Ae),M=g(Ms,M,Qe),Re===null?je=Ms:Re.sibling=Ms,Re=Ms,Ae=Yt}if(ot.done)return o(z,Ae),Ct&&fa(z,Qe),je;if(Ae===null){for(;!ot.done;Qe++,ot=V.next())ot=ne(z,ot.value,ie),ot!==null&&(M=g(ot,M,Qe),Re===null?je=ot:Re.sibling=ot,Re=ot);return Ct&&fa(z,Qe),je}for(Ae=d(z,Ae);!ot.done;Qe++,ot=V.next())ot=pe(Ae,z,Qe,ot.value,ie),ot!==null&&(r&&ot.alternate!==null&&Ae.delete(ot.key===null?Qe:ot.key),M=g(ot,M,Qe),Re===null?je=ot:Re.sibling=ot,Re=ot);return r&&Ae.forEach(function(W1){return a(z,W1)}),Ct&&fa(z,Qe),je}function zt(z,M,V,ie){if(typeof V=="object"&&V!==null&&V.type===q&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case O:e:{for(var je=V.key,Re=M;Re!==null;){if(Re.key===je){if(je=V.type,je===q){if(Re.tag===7){o(z,Re.sibling),M=m(Re,V.props.children),M.return=z,z=M;break e}}else if(Re.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===B&&_h(je)===Re.type){o(z,Re.sibling),M=m(Re,V.props),M.ref=uo(z,Re,V),M.return=z,z=M;break e}o(z,Re);break}else a(z,Re);Re=Re.sibling}V.type===q?(M=wa(V.props.children,z.mode,ie,V.key),M.return=z,z=M):(ie=hc(V.type,V.key,V.props,null,z.mode,ie),ie.ref=uo(z,M,V),ie.return=z,z=ie)}return j(z);case G:e:{for(Re=V.key;M!==null;){if(M.key===Re)if(M.tag===4&&M.stateNode.containerInfo===V.containerInfo&&M.stateNode.implementation===V.implementation){o(z,M.sibling),M=m(M,V.children||[]),M.return=z,z=M;break e}else{o(z,M);break}else a(z,M);M=M.sibling}M=xf(V,z.mode,ie),M.return=z,z=M}return j(z);case B:return Re=V._init,zt(z,M,Re(V._payload),ie)}if(Ie(V))return ye(z,M,V,ie);if(U(V))return be(z,M,V,ie);Ql(z,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,M!==null&&M.tag===6?(o(z,M.sibling),M=m(M,V),M.return=z,z=M):(o(z,M),M=gf(V,z.mode,ie),M.return=z,z=M),j(z)):o(z,M)}return zt}var Ja=Ph(!0),Eh=Ph(!1),Wl=ks(null),Hl=null,ei=null,ku=null;function Cu(){ku=ei=Hl=null}function _u(r){var a=Wl.current;bt(Wl),r._currentValue=a}function Pu(r,a,o){for(;r!==null;){var d=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),r===o)break;r=r.return}}function ti(r,a){Hl=r,ku=ei=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&a)!==0&&(Tn=!0),r.firstContext=null)}function Zn(r){var a=r._currentValue;if(ku!==r)if(r={context:r,memoizedValue:a,next:null},ei===null){if(Hl===null)throw Error(s(308));ei=r,Hl.dependencies={lanes:0,firstContext:r}}else ei=ei.next=r;return a}var ma=null;function Eu(r){ma===null?ma=[r]:ma.push(r)}function Th(r,a,o,d){var m=a.interleaved;return m===null?(o.next=o,Eu(a)):(o.next=m.next,m.next=o),a.interleaved=o,es(r,d)}function es(r,a){r.lanes|=a;var o=r.alternate;for(o!==null&&(o.lanes|=a),o=r,r=r.return;r!==null;)r.childLanes|=a,o=r.alternate,o!==null&&(o.childLanes|=a),o=r,r=r.return;return o.tag===3?o.stateNode:null}var Ps=!1;function Tu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ih(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function ts(r,a){return{eventTime:r,lane:a,tag:0,payload:null,callback:null,next:null}}function Es(r,a,o){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(rt&2)!==0){var m=d.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),d.pending=a,es(r,o)}return m=d.interleaved,m===null?(a.next=a,Eu(d)):(a.next=m.next,m.next=a),d.interleaved=a,es(r,o)}function Gl(r,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194240)!==0)){var d=a.lanes;d&=r.pendingLanes,o|=d,a.lanes=o,Ud(r,o)}}function Rh(r,a){var o=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var j={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};g===null?m=g=j:g=g.next=j,o=o.next}while(o!==null);g===null?m=g=a:g=g.next=a}else m=g=a;o={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:d.shared,effects:d.effects},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=a:r.next=a,o.lastBaseUpdate=a}function Kl(r,a,o,d){var m=r.updateQueue;Ps=!1;var g=m.firstBaseUpdate,j=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var D=A,Q=D.next;D.next=null,j===null?g=Q:j.next=Q,j=D;var te=r.alternate;te!==null&&(te=te.updateQueue,A=te.lastBaseUpdate,A!==j&&(A===null?te.firstBaseUpdate=Q:A.next=Q,te.lastBaseUpdate=D))}if(g!==null){var ne=m.baseState;j=0,te=Q=D=null,A=g;do{var J=A.lane,pe=A.eventTime;if((d&J)===J){te!==null&&(te=te.next={eventTime:pe,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var ye=r,be=A;switch(J=a,pe=o,be.tag){case 1:if(ye=be.payload,typeof ye=="function"){ne=ye.call(pe,ne,J);break e}ne=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=be.payload,J=typeof ye=="function"?ye.call(pe,ne,J):ye,J==null)break e;ne=W({},ne,J);break e;case 2:Ps=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,J=m.effects,J===null?m.effects=[A]:J.push(A))}else pe={eventTime:pe,lane:J,tag:A.tag,payload:A.payload,callback:A.callback,next:null},te===null?(Q=te=pe,D=ne):te=te.next=pe,j|=J;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;J=A,A=J.next,J.next=null,m.lastBaseUpdate=J,m.shared.pending=null}}while(!0);if(te===null&&(D=ne),m.baseState=D,m.firstBaseUpdate=Q,m.lastBaseUpdate=te,a=m.shared.interleaved,a!==null){m=a;do j|=m.lane,m=m.next;while(m!==a)}else g===null&&(m.shared.lanes=0);ga|=j,r.lanes=j,r.memoizedState=ne}}function Ah(r,a,o){if(r=a.effects,a.effects=null,r!==null)for(a=0;a<r.length;a++){var d=r[a],m=d.callback;if(m!==null){if(d.callback=null,d=o,typeof m!="function")throw Error(s(191,m));m.call(d)}}}var fo={},Lr=ks(fo),mo=ks(fo),po=ks(fo);function pa(r){if(r===fo)throw Error(s(174));return r}function Iu(r,a){switch(vt(po,a),vt(mo,r),vt(Lr,fo),r=a.nodeType,r){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Gr(null,"");break;default:r=r===8?a.parentNode:a,a=r.namespaceURI||null,r=r.tagName,a=Gr(a,r)}bt(Lr),vt(Lr,a)}function ni(){bt(Lr),bt(mo),bt(po)}function Lh(r){pa(po.current);var a=pa(Lr.current),o=Gr(a,r.type);a!==o&&(vt(mo,r),vt(Lr,o))}function Ru(r){mo.current===r&&(bt(Lr),bt(mo))}var Pt=ks(0);function Zl(r){for(var a=r;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Au=[];function Lu(){for(var r=0;r<Au.length;r++)Au[r]._workInProgressVersionPrimary=null;Au.length=0}var Yl=P.ReactCurrentDispatcher,Du=P.ReactCurrentBatchConfig,ha=0,Et=null,Ut=null,Kt=null,Xl=!1,ho=!1,go=0,p1=0;function gn(){throw Error(s(321))}function Mu(r,a){if(a===null)return!1;for(var o=0;o<a.length&&o<r.length;o++)if(!dr(r[o],a[o]))return!1;return!0}function Ou(r,a,o,d,m,g){if(ha=g,Et=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Yl.current=r===null||r.memoizedState===null?v1:y1,r=o(d,m),ho){g=0;do{if(ho=!1,go=0,25<=g)throw Error(s(301));g+=1,Kt=Ut=null,a.updateQueue=null,Yl.current=w1,r=o(d,m)}while(ho)}if(Yl.current=tc,a=Ut!==null&&Ut.next!==null,ha=0,Kt=Ut=Et=null,Xl=!1,a)throw Error(s(300));return r}function Fu(){var r=go!==0;return go=0,r}function Dr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Et.memoizedState=Kt=r:Kt=Kt.next=r,Kt}function Yn(){if(Ut===null){var r=Et.alternate;r=r!==null?r.memoizedState:null}else r=Ut.next;var a=Kt===null?Et.memoizedState:Kt.next;if(a!==null)Kt=a,Ut=r;else{if(r===null)throw Error(s(310));Ut=r,r={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Kt===null?Et.memoizedState=Kt=r:Kt=Kt.next=r}return Kt}function xo(r,a){return typeof a=="function"?a(r):a}function zu(r){var a=Yn(),o=a.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var d=Ut,m=d.baseQueue,g=o.pending;if(g!==null){if(m!==null){var j=m.next;m.next=g.next,g.next=j}d.baseQueue=m=g,o.pending=null}if(m!==null){g=m.next,d=d.baseState;var A=j=null,D=null,Q=g;do{var te=Q.lane;if((ha&te)===te)D!==null&&(D=D.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),d=Q.hasEagerState?Q.eagerState:r(d,Q.action);else{var ne={lane:te,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};D===null?(A=D=ne,j=d):D=D.next=ne,Et.lanes|=te,ga|=te}Q=Q.next}while(Q!==null&&Q!==g);D===null?j=d:D.next=A,dr(d,a.memoizedState)||(Tn=!0),a.memoizedState=d,a.baseState=j,a.baseQueue=D,o.lastRenderedState=d}if(r=o.interleaved,r!==null){m=r;do g=m.lane,Et.lanes|=g,ga|=g,m=m.next;while(m!==r)}else m===null&&(o.lanes=0);return[a.memoizedState,o.dispatch]}function $u(r){var a=Yn(),o=a.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var d=o.dispatch,m=o.pending,g=a.memoizedState;if(m!==null){o.pending=null;var j=m=m.next;do g=r(g,j.action),j=j.next;while(j!==m);dr(g,a.memoizedState)||(Tn=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),o.lastRenderedState=g}return[g,d]}function Dh(){}function Mh(r,a){var o=Et,d=Yn(),m=a(),g=!dr(d.memoizedState,m);if(g&&(d.memoizedState=m,Tn=!0),d=d.queue,Bu(zh.bind(null,o,d,r),[r]),d.getSnapshot!==a||g||Kt!==null&&Kt.memoizedState.tag&1){if(o.flags|=2048,vo(9,Fh.bind(null,o,d,m,a),void 0,null),Zt===null)throw Error(s(349));(ha&30)!==0||Oh(o,a,m)}return m}function Oh(r,a,o){r.flags|=16384,r={getSnapshot:a,value:o},a=Et.updateQueue,a===null?(a={lastEffect:null,stores:null},Et.updateQueue=a,a.stores=[r]):(o=a.stores,o===null?a.stores=[r]:o.push(r))}function Fh(r,a,o,d){a.value=o,a.getSnapshot=d,$h(a)&&Bh(r)}function zh(r,a,o){return o(function(){$h(a)&&Bh(r)})}function $h(r){var a=r.getSnapshot;r=r.value;try{var o=a();return!dr(r,o)}catch{return!0}}function Bh(r){var a=es(r,1);a!==null&&hr(a,r,1,-1)}function Vh(r){var a=Dr();return typeof r=="function"&&(r=r()),a.memoizedState=a.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:r},a.queue=r,r=r.dispatch=x1.bind(null,Et,r),[a.memoizedState,r]}function vo(r,a,o,d){return r={tag:r,create:a,destroy:o,deps:d,next:null},a=Et.updateQueue,a===null?(a={lastEffect:null,stores:null},Et.updateQueue=a,a.lastEffect=r.next=r):(o=a.lastEffect,o===null?a.lastEffect=r.next=r:(d=o.next,o.next=r,r.next=d,a.lastEffect=r)),r}function qh(){return Yn().memoizedState}function Jl(r,a,o,d){var m=Dr();Et.flags|=r,m.memoizedState=vo(1|a,o,void 0,d===void 0?null:d)}function ec(r,a,o,d){var m=Yn();d=d===void 0?null:d;var g=void 0;if(Ut!==null){var j=Ut.memoizedState;if(g=j.destroy,d!==null&&Mu(d,j.deps)){m.memoizedState=vo(a,o,g,d);return}}Et.flags|=r,m.memoizedState=vo(1|a,o,g,d)}function Uh(r,a){return Jl(8390656,8,r,a)}function Bu(r,a){return ec(2048,8,r,a)}function Qh(r,a){return ec(4,2,r,a)}function Wh(r,a){return ec(4,4,r,a)}function Hh(r,a){if(typeof a=="function")return r=r(),a(r),function(){a(null)};if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function Gh(r,a,o){return o=o!=null?o.concat([r]):null,ec(4,4,Hh.bind(null,a,r),o)}function Vu(){}function Kh(r,a){var o=Yn();a=a===void 0?null:a;var d=o.memoizedState;return d!==null&&a!==null&&Mu(a,d[1])?d[0]:(o.memoizedState=[r,a],r)}function Zh(r,a){var o=Yn();a=a===void 0?null:a;var d=o.memoizedState;return d!==null&&a!==null&&Mu(a,d[1])?d[0]:(r=r(),o.memoizedState=[r,a],r)}function Yh(r,a,o){return(ha&21)===0?(r.baseState&&(r.baseState=!1,Tn=!0),r.memoizedState=o):(dr(o,a)||(o=_p(),Et.lanes|=o,ga|=o,r.baseState=!0),a)}function h1(r,a){var o=ut;ut=o!==0&&4>o?o:4,r(!0);var d=Du.transition;Du.transition={};try{r(!1),a()}finally{ut=o,Du.transition=d}}function Xh(){return Yn().memoizedState}function g1(r,a,o){var d=As(r);if(o={lane:d,action:o,hasEagerState:!1,eagerState:null,next:null},Jh(r))eg(a,o);else if(o=Th(r,a,o,d),o!==null){var m=Sn();hr(o,r,d,m),tg(o,a,d)}}function x1(r,a,o){var d=As(r),m={lane:d,action:o,hasEagerState:!1,eagerState:null,next:null};if(Jh(r))eg(a,m);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var j=a.lastRenderedState,A=g(j,o);if(m.hasEagerState=!0,m.eagerState=A,dr(A,j)){var D=a.interleaved;D===null?(m.next=m,Eu(a)):(m.next=D.next,D.next=m),a.interleaved=m;return}}catch{}o=Th(r,a,m,d),o!==null&&(m=Sn(),hr(o,r,d,m),tg(o,a,d))}}function Jh(r){var a=r.alternate;return r===Et||a!==null&&a===Et}function eg(r,a){ho=Xl=!0;var o=r.pending;o===null?a.next=a:(a.next=o.next,o.next=a),r.pending=a}function tg(r,a,o){if((o&4194240)!==0){var d=a.lanes;d&=r.pendingLanes,o|=d,a.lanes=o,Ud(r,o)}}var tc={readContext:Zn,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useInsertionEffect:gn,useLayoutEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useMutableSource:gn,useSyncExternalStore:gn,useId:gn,unstable_isNewReconciler:!1},v1={readContext:Zn,useCallback:function(r,a){return Dr().memoizedState=[r,a===void 0?null:a],r},useContext:Zn,useEffect:Uh,useImperativeHandle:function(r,a,o){return o=o!=null?o.concat([r]):null,Jl(4194308,4,Hh.bind(null,a,r),o)},useLayoutEffect:function(r,a){return Jl(4194308,4,r,a)},useInsertionEffect:function(r,a){return Jl(4,2,r,a)},useMemo:function(r,a){var o=Dr();return a=a===void 0?null:a,r=r(),o.memoizedState=[r,a],r},useReducer:function(r,a,o){var d=Dr();return a=o!==void 0?o(a):a,d.memoizedState=d.baseState=a,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:a},d.queue=r,r=r.dispatch=g1.bind(null,Et,r),[d.memoizedState,r]},useRef:function(r){var a=Dr();return r={current:r},a.memoizedState=r},useState:Vh,useDebugValue:Vu,useDeferredValue:function(r){return Dr().memoizedState=r},useTransition:function(){var r=Vh(!1),a=r[0];return r=h1.bind(null,r[1]),Dr().memoizedState=r,[a,r]},useMutableSource:function(){},useSyncExternalStore:function(r,a,o){var d=Et,m=Dr();if(Ct){if(o===void 0)throw Error(s(407));o=o()}else{if(o=a(),Zt===null)throw Error(s(349));(ha&30)!==0||Oh(d,a,o)}m.memoizedState=o;var g={value:o,getSnapshot:a};return m.queue=g,Uh(zh.bind(null,d,g,r),[r]),d.flags|=2048,vo(9,Fh.bind(null,d,g,o,a),void 0,null),o},useId:function(){var r=Dr(),a=Zt.identifierPrefix;if(Ct){var o=Jr,d=Xr;o=(d&~(1<<32-cr(d)-1)).toString(32)+o,a=":"+a+"R"+o,o=go++,0<o&&(a+="H"+o.toString(32)),a+=":"}else o=p1++,a=":"+a+"r"+o.toString(32)+":";return r.memoizedState=a},unstable_isNewReconciler:!1},y1={readContext:Zn,useCallback:Kh,useContext:Zn,useEffect:Bu,useImperativeHandle:Gh,useInsertionEffect:Qh,useLayoutEffect:Wh,useMemo:Zh,useReducer:zu,useRef:qh,useState:function(){return zu(xo)},useDebugValue:Vu,useDeferredValue:function(r){var a=Yn();return Yh(a,Ut.memoizedState,r)},useTransition:function(){var r=zu(xo)[0],a=Yn().memoizedState;return[r,a]},useMutableSource:Dh,useSyncExternalStore:Mh,useId:Xh,unstable_isNewReconciler:!1},w1={readContext:Zn,useCallback:Kh,useContext:Zn,useEffect:Bu,useImperativeHandle:Gh,useInsertionEffect:Qh,useLayoutEffect:Wh,useMemo:Zh,useReducer:$u,useRef:qh,useState:function(){return $u(xo)},useDebugValue:Vu,useDeferredValue:function(r){var a=Yn();return Ut===null?a.memoizedState=r:Yh(a,Ut.memoizedState,r)},useTransition:function(){var r=$u(xo)[0],a=Yn().memoizedState;return[r,a]},useMutableSource:Dh,useSyncExternalStore:Mh,useId:Xh,unstable_isNewReconciler:!1};function fr(r,a){if(r&&r.defaultProps){a=W({},a),r=r.defaultProps;for(var o in r)a[o]===void 0&&(a[o]=r[o]);return a}return a}function qu(r,a,o,d){a=r.memoizedState,o=o(d,a),o=o==null?a:W({},a,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var nc={isMounted:function(r){return(r=r._reactInternals)?it(r)===r:!1},enqueueSetState:function(r,a,o){r=r._reactInternals;var d=Sn(),m=As(r),g=ts(d,m);g.payload=a,o!=null&&(g.callback=o),a=Es(r,g,m),a!==null&&(hr(a,r,m,d),Gl(a,r,m))},enqueueReplaceState:function(r,a,o){r=r._reactInternals;var d=Sn(),m=As(r),g=ts(d,m);g.tag=1,g.payload=a,o!=null&&(g.callback=o),a=Es(r,g,m),a!==null&&(hr(a,r,m,d),Gl(a,r,m))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var o=Sn(),d=As(r),m=ts(o,d);m.tag=2,a!=null&&(m.callback=a),a=Es(r,m,d),a!==null&&(hr(a,r,d,o),Gl(a,r,d))}};function ng(r,a,o,d,m,g,j){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,g,j):a.prototype&&a.prototype.isPureReactComponent?!ro(o,d)||!ro(m,g):!0}function rg(r,a,o){var d=!1,m=Cs,g=a.contextType;return typeof g=="object"&&g!==null?g=Zn(g):(m=En(a)?da:hn.current,d=a.contextTypes,g=(d=d!=null)?Ka(r,m):Cs),a=new a(o,g),r.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=nc,r.stateNode=a,a._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=m,r.__reactInternalMemoizedMaskedChildContext=g),a}function sg(r,a,o,d){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,d),a.state!==r&&nc.enqueueReplaceState(a,a.state,null)}function Uu(r,a,o,d){var m=r.stateNode;m.props=o,m.state=r.memoizedState,m.refs={},Tu(r);var g=a.contextType;typeof g=="object"&&g!==null?m.context=Zn(g):(g=En(a)?da:hn.current,m.context=Ka(r,g)),m.state=r.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(qu(r,a,g,o),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(a=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),a!==m.state&&nc.enqueueReplaceState(m,m.state,null),Kl(r,o,m,d),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308)}function ri(r,a){try{var o="",d=a;do o+=$e(d),d=d.return;while(d);var m=o}catch(g){m=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:a,stack:m,digest:null}}function Qu(r,a,o){return{value:r,source:null,stack:o??null,digest:a??null}}function Wu(r,a){try{console.error(a.value)}catch(o){setTimeout(function(){throw o})}}var b1=typeof WeakMap=="function"?WeakMap:Map;function ag(r,a,o){o=ts(-1,o),o.tag=3,o.payload={element:null};var d=a.value;return o.callback=function(){cc||(cc=!0,lf=d),Wu(r,a)},o}function ig(r,a,o){o=ts(-1,o),o.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var m=a.value;o.payload=function(){return d(m)},o.callback=function(){Wu(r,a)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(o.callback=function(){Wu(r,a),typeof d!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var j=a.stack;this.componentDidCatch(a.value,{componentStack:j!==null?j:""})}),o}function og(r,a,o){var d=r.pingCache;if(d===null){d=r.pingCache=new b1;var m=new Set;d.set(a,m)}else m=d.get(a),m===void 0&&(m=new Set,d.set(a,m));m.has(o)||(m.add(o),r=D1.bind(null,r,a,o),a.then(r,r))}function lg(r){do{var a;if((a=r.tag===13)&&(a=r.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return r;r=r.return}while(r!==null);return null}function cg(r,a,o,d,m){return(r.mode&1)===0?(r===a?r.flags|=65536:(r.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(a=ts(-1,1),a.tag=2,Es(o,a,1))),o.lanes|=1),r):(r.flags|=65536,r.lanes=m,r)}var j1=P.ReactCurrentOwner,Tn=!1;function Nn(r,a,o,d){a.child=r===null?Eh(a,null,o,d):Ja(a,r.child,o,d)}function dg(r,a,o,d,m){o=o.render;var g=a.ref;return ti(a,m),d=Ou(r,a,o,d,g,m),o=Fu(),r!==null&&!Tn?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~m,ns(r,a,m)):(Ct&&o&&wu(a),a.flags|=1,Nn(r,a,d,m),a.child)}function ug(r,a,o,d,m){if(r===null){var g=o.type;return typeof g=="function"&&!hf(g)&&g.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(a.tag=15,a.type=g,fg(r,a,g,d,m)):(r=hc(o.type,null,d,a,a.mode,m),r.ref=a.ref,r.return=a,a.child=r)}if(g=r.child,(r.lanes&m)===0){var j=g.memoizedProps;if(o=o.compare,o=o!==null?o:ro,o(j,d)&&r.ref===a.ref)return ns(r,a,m)}return a.flags|=1,r=Ds(g,d),r.ref=a.ref,r.return=a,a.child=r}function fg(r,a,o,d,m){if(r!==null){var g=r.memoizedProps;if(ro(g,d)&&r.ref===a.ref)if(Tn=!1,a.pendingProps=d=g,(r.lanes&m)!==0)(r.flags&131072)!==0&&(Tn=!0);else return a.lanes=r.lanes,ns(r,a,m)}return Hu(r,a,o,d,m)}function mg(r,a,o){var d=a.pendingProps,m=d.children,g=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt(ai,zn),zn|=o;else{if((o&1073741824)===0)return r=g!==null?g.baseLanes|o:o,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:r,cachePool:null,transitions:null},a.updateQueue=null,vt(ai,zn),zn|=r,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:o,vt(ai,zn),zn|=d}else g!==null?(d=g.baseLanes|o,a.memoizedState=null):d=o,vt(ai,zn),zn|=d;return Nn(r,a,m,o),a.child}function pg(r,a){var o=a.ref;(r===null&&o!==null||r!==null&&r.ref!==o)&&(a.flags|=512,a.flags|=2097152)}function Hu(r,a,o,d,m){var g=En(o)?da:hn.current;return g=Ka(a,g),ti(a,m),o=Ou(r,a,o,d,g,m),d=Fu(),r!==null&&!Tn?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~m,ns(r,a,m)):(Ct&&d&&wu(a),a.flags|=1,Nn(r,a,o,m),a.child)}function hg(r,a,o,d,m){if(En(o)){var g=!0;$l(a)}else g=!1;if(ti(a,m),a.stateNode===null)sc(r,a),rg(a,o,d),Uu(a,o,d,m),d=!0;else if(r===null){var j=a.stateNode,A=a.memoizedProps;j.props=A;var D=j.context,Q=o.contextType;typeof Q=="object"&&Q!==null?Q=Zn(Q):(Q=En(o)?da:hn.current,Q=Ka(a,Q));var te=o.getDerivedStateFromProps,ne=typeof te=="function"||typeof j.getSnapshotBeforeUpdate=="function";ne||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(A!==d||D!==Q)&&sg(a,j,d,Q),Ps=!1;var J=a.memoizedState;j.state=J,Kl(a,d,j,m),D=a.memoizedState,A!==d||J!==D||Pn.current||Ps?(typeof te=="function"&&(qu(a,o,te,d),D=a.memoizedState),(A=Ps||ng(a,o,A,d,J,D,Q))?(ne||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(a.flags|=4194308)):(typeof j.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=D),j.props=d,j.state=D,j.context=Q,d=A):(typeof j.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{j=a.stateNode,Ih(r,a),A=a.memoizedProps,Q=a.type===a.elementType?A:fr(a.type,A),j.props=Q,ne=a.pendingProps,J=j.context,D=o.contextType,typeof D=="object"&&D!==null?D=Zn(D):(D=En(o)?da:hn.current,D=Ka(a,D));var pe=o.getDerivedStateFromProps;(te=typeof pe=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(A!==ne||J!==D)&&sg(a,j,d,D),Ps=!1,J=a.memoizedState,j.state=J,Kl(a,d,j,m);var ye=a.memoizedState;A!==ne||J!==ye||Pn.current||Ps?(typeof pe=="function"&&(qu(a,o,pe,d),ye=a.memoizedState),(Q=Ps||ng(a,o,Q,d,J,ye,D)||!1)?(te||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(d,ye,D),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(d,ye,D)),typeof j.componentDidUpdate=="function"&&(a.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof j.componentDidUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(a.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=ye),j.props=d,j.state=ye,j.context=D,d=Q):(typeof j.componentDidUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(a.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(a.flags|=1024),d=!1)}return Gu(r,a,o,d,g,m)}function Gu(r,a,o,d,m,g){pg(r,a);var j=(a.flags&128)!==0;if(!d&&!j)return m&&wh(a,o,!1),ns(r,a,g);d=a.stateNode,j1.current=a;var A=j&&typeof o.getDerivedStateFromError!="function"?null:d.render();return a.flags|=1,r!==null&&j?(a.child=Ja(a,r.child,null,g),a.child=Ja(a,null,A,g)):Nn(r,a,A,g),a.memoizedState=d.state,m&&wh(a,o,!0),a.child}function gg(r){var a=r.stateNode;a.pendingContext?vh(r,a.pendingContext,a.pendingContext!==a.context):a.context&&vh(r,a.context,!1),Iu(r,a.containerInfo)}function xg(r,a,o,d,m){return Xa(),Su(m),a.flags|=256,Nn(r,a,o,d),a.child}var Ku={dehydrated:null,treeContext:null,retryLane:0};function Zu(r){return{baseLanes:r,cachePool:null,transitions:null}}function vg(r,a,o){var d=a.pendingProps,m=Pt.current,g=!1,j=(a.flags&128)!==0,A;if((A=j)||(A=r!==null&&r.memoizedState===null?!1:(m&2)!==0),A?(g=!0,a.flags&=-129):(r===null||r.memoizedState!==null)&&(m|=1),vt(Pt,m&1),r===null)return Nu(a),r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((a.mode&1)===0?a.lanes=1:r.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(j=d.children,r=d.fallback,g?(d=a.mode,g=a.child,j={mode:"hidden",children:j},(d&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=j):g=gc(j,d,0,null),r=wa(r,d,o,null),g.return=a,r.return=a,g.sibling=r,a.child=g,a.child.memoizedState=Zu(o),a.memoizedState=Ku,r):Yu(a,j));if(m=r.memoizedState,m!==null&&(A=m.dehydrated,A!==null))return N1(r,a,j,d,A,m,o);if(g){g=d.fallback,j=a.mode,m=r.child,A=m.sibling;var D={mode:"hidden",children:d.children};return(j&1)===0&&a.child!==m?(d=a.child,d.childLanes=0,d.pendingProps=D,a.deletions=null):(d=Ds(m,D),d.subtreeFlags=m.subtreeFlags&14680064),A!==null?g=Ds(A,g):(g=wa(g,j,o,null),g.flags|=2),g.return=a,d.return=a,d.sibling=g,a.child=d,d=g,g=a.child,j=r.child.memoizedState,j=j===null?Zu(o):{baseLanes:j.baseLanes|o,cachePool:null,transitions:j.transitions},g.memoizedState=j,g.childLanes=r.childLanes&~o,a.memoizedState=Ku,d}return g=r.child,r=g.sibling,d=Ds(g,{mode:"visible",children:d.children}),(a.mode&1)===0&&(d.lanes=o),d.return=a,d.sibling=null,r!==null&&(o=a.deletions,o===null?(a.deletions=[r],a.flags|=16):o.push(r)),a.child=d,a.memoizedState=null,d}function Yu(r,a){return a=gc({mode:"visible",children:a},r.mode,0,null),a.return=r,r.child=a}function rc(r,a,o,d){return d!==null&&Su(d),Ja(a,r.child,null,o),r=Yu(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function N1(r,a,o,d,m,g,j){if(o)return a.flags&256?(a.flags&=-257,d=Qu(Error(s(422))),rc(r,a,j,d)):a.memoizedState!==null?(a.child=r.child,a.flags|=128,null):(g=d.fallback,m=a.mode,d=gc({mode:"visible",children:d.children},m,0,null),g=wa(g,m,j,null),g.flags|=2,d.return=a,g.return=a,d.sibling=g,a.child=d,(a.mode&1)!==0&&Ja(a,r.child,null,j),a.child.memoizedState=Zu(j),a.memoizedState=Ku,g);if((a.mode&1)===0)return rc(r,a,j,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var A=d.dgst;return d=A,g=Error(s(419)),d=Qu(g,d,void 0),rc(r,a,j,d)}if(A=(j&r.childLanes)!==0,Tn||A){if(d=Zt,d!==null){switch(j&-j){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|j))!==0?0:m,m!==0&&m!==g.retryLane&&(g.retryLane=m,es(r,m),hr(d,r,m,-1))}return pf(),d=Qu(Error(s(421))),rc(r,a,j,d)}return m.data==="$?"?(a.flags|=128,a.child=r.child,a=M1.bind(null,r),m._reactRetry=a,null):(r=g.treeContext,Fn=Ss(m.nextSibling),On=a,Ct=!0,ur=null,r!==null&&(Gn[Kn++]=Xr,Gn[Kn++]=Jr,Gn[Kn++]=ua,Xr=r.id,Jr=r.overflow,ua=a),a=Yu(a,d.children),a.flags|=4096,a)}function yg(r,a,o){r.lanes|=a;var d=r.alternate;d!==null&&(d.lanes|=a),Pu(r.return,a,o)}function Xu(r,a,o,d,m){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:m}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=o,g.tailMode=m)}function wg(r,a,o){var d=a.pendingProps,m=d.revealOrder,g=d.tail;if(Nn(r,a,d.children,o),d=Pt.current,(d&2)!==0)d=d&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&yg(r,o,a);else if(r.tag===19)yg(r,o,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(vt(Pt,d),(a.mode&1)===0)a.memoizedState=null;else switch(m){case"forwards":for(o=a.child,m=null;o!==null;)r=o.alternate,r!==null&&Zl(r)===null&&(m=o),o=o.sibling;o=m,o===null?(m=a.child,a.child=null):(m=o.sibling,o.sibling=null),Xu(a,!1,m,o,g);break;case"backwards":for(o=null,m=a.child,a.child=null;m!==null;){if(r=m.alternate,r!==null&&Zl(r)===null){a.child=m;break}r=m.sibling,m.sibling=o,o=m,m=r}Xu(a,!0,o,null,g);break;case"together":Xu(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function sc(r,a){(a.mode&1)===0&&r!==null&&(r.alternate=null,a.alternate=null,a.flags|=2)}function ns(r,a,o){if(r!==null&&(a.dependencies=r.dependencies),ga|=a.lanes,(o&a.childLanes)===0)return null;if(r!==null&&a.child!==r.child)throw Error(s(153));if(a.child!==null){for(r=a.child,o=Ds(r,r.pendingProps),a.child=o,o.return=a;r.sibling!==null;)r=r.sibling,o=o.sibling=Ds(r,r.pendingProps),o.return=a;o.sibling=null}return a.child}function S1(r,a,o){switch(a.tag){case 3:gg(a),Xa();break;case 5:Lh(a);break;case 1:En(a.type)&&$l(a);break;case 4:Iu(a,a.stateNode.containerInfo);break;case 10:var d=a.type._context,m=a.memoizedProps.value;vt(Wl,d._currentValue),d._currentValue=m;break;case 13:if(d=a.memoizedState,d!==null)return d.dehydrated!==null?(vt(Pt,Pt.current&1),a.flags|=128,null):(o&a.child.childLanes)!==0?vg(r,a,o):(vt(Pt,Pt.current&1),r=ns(r,a,o),r!==null?r.sibling:null);vt(Pt,Pt.current&1);break;case 19:if(d=(o&a.childLanes)!==0,(r.flags&128)!==0){if(d)return wg(r,a,o);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),vt(Pt,Pt.current),d)break;return null;case 22:case 23:return a.lanes=0,mg(r,a,o)}return ns(r,a,o)}var bg,Ju,jg,Ng;bg=function(r,a){for(var o=a.child;o!==null;){if(o.tag===5||o.tag===6)r.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Ju=function(){},jg=function(r,a,o,d){var m=r.memoizedProps;if(m!==d){r=a.stateNode,pa(Lr.current);var g=null;switch(o){case"input":m=Je(r,m),d=Je(r,d),g=[];break;case"select":m=W({},m,{value:void 0}),d=W({},d,{value:void 0}),g=[];break;case"textarea":m=Hn(r,m),d=Hn(r,d),g=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=Ol)}Oi(o,d);var j;o=null;for(Q in m)if(!d.hasOwnProperty(Q)&&m.hasOwnProperty(Q)&&m[Q]!=null)if(Q==="style"){var A=m[Q];for(j in A)A.hasOwnProperty(j)&&(o||(o={}),o[j]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(l.hasOwnProperty(Q)?g||(g=[]):(g=g||[]).push(Q,null));for(Q in d){var D=d[Q];if(A=m?.[Q],d.hasOwnProperty(Q)&&D!==A&&(D!=null||A!=null))if(Q==="style")if(A){for(j in A)!A.hasOwnProperty(j)||D&&D.hasOwnProperty(j)||(o||(o={}),o[j]="");for(j in D)D.hasOwnProperty(j)&&A[j]!==D[j]&&(o||(o={}),o[j]=D[j])}else o||(g||(g=[]),g.push(Q,o)),o=D;else Q==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,A=A?A.__html:void 0,D!=null&&A!==D&&(g=g||[]).push(Q,D)):Q==="children"?typeof D!="string"&&typeof D!="number"||(g=g||[]).push(Q,""+D):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(l.hasOwnProperty(Q)?(D!=null&&Q==="onScroll"&&wt("scroll",r),g||A===D||(g=[])):(g=g||[]).push(Q,D))}o&&(g=g||[]).push("style",o);var Q=g;(a.updateQueue=Q)&&(a.flags|=4)}},Ng=function(r,a,o,d){o!==d&&(a.flags|=4)};function yo(r,a){if(!Ct)switch(r.tailMode){case"hidden":a=r.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function xn(r){var a=r.alternate!==null&&r.alternate.child===r.child,o=0,d=0;if(a)for(var m=r.child;m!==null;)o|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)o|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=d,r.childLanes=o,a}function k1(r,a,o){var d=a.pendingProps;switch(bu(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xn(a),null;case 1:return En(a.type)&&zl(),xn(a),null;case 3:return d=a.stateNode,ni(),bt(Pn),bt(hn),Lu(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Ul(a)?a.flags|=4:r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ur!==null&&(uf(ur),ur=null))),Ju(r,a),xn(a),null;case 5:Ru(a);var m=pa(po.current);if(o=a.type,r!==null&&a.stateNode!=null)jg(r,a,o,d,m),r.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!d){if(a.stateNode===null)throw Error(s(166));return xn(a),null}if(r=pa(Lr.current),Ul(a)){d=a.stateNode,o=a.type;var g=a.memoizedProps;switch(d[Ar]=a,d[lo]=g,r=(a.mode&1)!==0,o){case"dialog":wt("cancel",d),wt("close",d);break;case"iframe":case"object":case"embed":wt("load",d);break;case"video":case"audio":for(m=0;m<ao.length;m++)wt(ao[m],d);break;case"source":wt("error",d);break;case"img":case"image":case"link":wt("error",d),wt("load",d);break;case"details":wt("toggle",d);break;case"input":sn(d,g),wt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},wt("invalid",d);break;case"textarea":Aa(d,g),wt("invalid",d)}Oi(o,g),m=null;for(var j in g)if(g.hasOwnProperty(j)){var A=g[j];j==="children"?typeof A=="string"?d.textContent!==A&&(g.suppressHydrationWarning!==!0&&Ml(d.textContent,A,r),m=["children",A]):typeof A=="number"&&d.textContent!==""+A&&(g.suppressHydrationWarning!==!0&&Ml(d.textContent,A,r),m=["children",""+A]):l.hasOwnProperty(j)&&A!=null&&j==="onScroll"&&wt("scroll",d)}switch(o){case"input":Ke(d),F(d,g,!0);break;case"textarea":Ke(d),ml(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=Ol)}d=m,a.updateQueue=d,d!==null&&(a.flags|=4)}else{j=m.nodeType===9?m:m.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=aa(o)),r==="http://www.w3.org/1999/xhtml"?o==="script"?(r=j.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=j.createElement(o,{is:d.is}):(r=j.createElement(o),o==="select"&&(j=r,d.multiple?j.multiple=!0:d.size&&(j.size=d.size))):r=j.createElementNS(r,o),r[Ar]=a,r[lo]=d,bg(r,a,!1,!1),a.stateNode=r;e:{switch(j=Fi(o,d),o){case"dialog":wt("cancel",r),wt("close",r),m=d;break;case"iframe":case"object":case"embed":wt("load",r),m=d;break;case"video":case"audio":for(m=0;m<ao.length;m++)wt(ao[m],r);m=d;break;case"source":wt("error",r),m=d;break;case"img":case"image":case"link":wt("error",r),wt("load",r),m=d;break;case"details":wt("toggle",r),m=d;break;case"input":sn(r,d),m=Je(r,d),wt("invalid",r);break;case"option":m=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},m=W({},d,{value:void 0}),wt("invalid",r);break;case"textarea":Aa(r,d),m=Hn(r,d),wt("invalid",r);break;default:m=d}Oi(o,m),A=m;for(g in A)if(A.hasOwnProperty(g)){var D=A[g];g==="style"?La(r,D):g==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&pn(r,D)):g==="children"?typeof D=="string"?(o!=="textarea"||D!=="")&&Ir(r,D):typeof D=="number"&&Ir(r,""+D):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(l.hasOwnProperty(g)?D!=null&&g==="onScroll"&&wt("scroll",r):D!=null&&R(r,g,D,j))}switch(o){case"input":Ke(r),F(r,d,!1);break;case"textarea":Ke(r),ml(r);break;case"option":d.value!=null&&r.setAttribute("value",""+ue(d.value));break;case"select":r.multiple=!!d.multiple,g=d.value,g!=null?an(r,!!d.multiple,g,!1):d.defaultValue!=null&&an(r,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(r.onclick=Ol)}switch(o){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return xn(a),null;case 6:if(r&&a.stateNode!=null)Ng(r,a,r.memoizedProps,d);else{if(typeof d!="string"&&a.stateNode===null)throw Error(s(166));if(o=pa(po.current),pa(Lr.current),Ul(a)){if(d=a.stateNode,o=a.memoizedProps,d[Ar]=a,(g=d.nodeValue!==o)&&(r=On,r!==null))switch(r.tag){case 3:Ml(d.nodeValue,o,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Ml(d.nodeValue,o,(r.mode&1)!==0)}g&&(a.flags|=4)}else d=(o.nodeType===9?o:o.ownerDocument).createTextNode(d),d[Ar]=a,a.stateNode=d}return xn(a),null;case 13:if(bt(Pt),d=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ct&&Fn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Ch(),Xa(),a.flags|=98560,g=!1;else if(g=Ul(a),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(s(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[Ar]=a}else Xa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;xn(a),g=!1}else ur!==null&&(uf(ur),ur=null),g=!0;if(!g)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=o,a):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(a.child.flags|=8192,(a.mode&1)!==0&&(r===null||(Pt.current&1)!==0?Qt===0&&(Qt=3):pf())),a.updateQueue!==null&&(a.flags|=4),xn(a),null);case 4:return ni(),Ju(r,a),r===null&&io(a.stateNode.containerInfo),xn(a),null;case 10:return _u(a.type._context),xn(a),null;case 17:return En(a.type)&&zl(),xn(a),null;case 19:if(bt(Pt),g=a.memoizedState,g===null)return xn(a),null;if(d=(a.flags&128)!==0,j=g.rendering,j===null)if(d)yo(g,!1);else{if(Qt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(j=Zl(r),j!==null){for(a.flags|=128,yo(g,!1),d=j.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),a.subtreeFlags=0,d=o,o=a.child;o!==null;)g=o,r=d,g.flags&=14680066,j=g.alternate,j===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=j.childLanes,g.lanes=j.lanes,g.child=j.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=j.memoizedProps,g.memoizedState=j.memoizedState,g.updateQueue=j.updateQueue,g.type=j.type,r=j.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),o=o.sibling;return vt(Pt,Pt.current&1|2),a.child}r=r.sibling}g.tail!==null&&Ft()>ii&&(a.flags|=128,d=!0,yo(g,!1),a.lanes=4194304)}else{if(!d)if(r=Zl(j),r!==null){if(a.flags|=128,d=!0,o=r.updateQueue,o!==null&&(a.updateQueue=o,a.flags|=4),yo(g,!0),g.tail===null&&g.tailMode==="hidden"&&!j.alternate&&!Ct)return xn(a),null}else 2*Ft()-g.renderingStartTime>ii&&o!==1073741824&&(a.flags|=128,d=!0,yo(g,!1),a.lanes=4194304);g.isBackwards?(j.sibling=a.child,a.child=j):(o=g.last,o!==null?o.sibling=j:a.child=j,g.last=j)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=Ft(),a.sibling=null,o=Pt.current,vt(Pt,d?o&1|2:o&1),a):(xn(a),null);case 22:case 23:return mf(),d=a.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(a.flags|=8192),d&&(a.mode&1)!==0?(zn&1073741824)!==0&&(xn(a),a.subtreeFlags&6&&(a.flags|=8192)):xn(a),null;case 24:return null;case 25:return null}throw Error(s(156,a.tag))}function C1(r,a){switch(bu(a),a.tag){case 1:return En(a.type)&&zl(),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return ni(),bt(Pn),bt(hn),Lu(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 5:return Ru(a),null;case 13:if(bt(Pt),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(s(340));Xa()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return bt(Pt),null;case 4:return ni(),null;case 10:return _u(a.type._context),null;case 22:case 23:return mf(),null;case 24:return null;default:return null}}var ac=!1,vn=!1,_1=typeof WeakSet=="function"?WeakSet:Set,ve=null;function si(r,a){var o=r.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(d){Dt(r,a,d)}else o.current=null}function ef(r,a,o){try{o()}catch(d){Dt(r,a,d)}}var Sg=!1;function P1(r,a){if(fu=kl,r=nh(),su(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var m=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var j=0,A=-1,D=-1,Q=0,te=0,ne=r,J=null;t:for(;;){for(var pe;ne!==o||m!==0&&ne.nodeType!==3||(A=j+m),ne!==g||d!==0&&ne.nodeType!==3||(D=j+d),ne.nodeType===3&&(j+=ne.nodeValue.length),(pe=ne.firstChild)!==null;)J=ne,ne=pe;for(;;){if(ne===r)break t;if(J===o&&++Q===m&&(A=j),J===g&&++te===d&&(D=j),(pe=ne.nextSibling)!==null)break;ne=J,J=ne.parentNode}ne=pe}o=A===-1||D===-1?null:{start:A,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(mu={focusedElem:r,selectionRange:o},kl=!1,ve=a;ve!==null;)if(a=ve,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,ve=r;else for(;ve!==null;){a=ve;try{var ye=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var be=ye.memoizedProps,zt=ye.memoizedState,z=a.stateNode,M=z.getSnapshotBeforeUpdate(a.elementType===a.type?be:fr(a.type,be),zt);z.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var V=a.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(ie){Dt(a,a.return,ie)}if(r=a.sibling,r!==null){r.return=a.return,ve=r;break}ve=a.return}return ye=Sg,Sg=!1,ye}function wo(r,a,o){var d=a.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&r)===r){var g=m.destroy;m.destroy=void 0,g!==void 0&&ef(a,o,g)}m=m.next}while(m!==d)}}function ic(r,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var o=a=a.next;do{if((o.tag&r)===r){var d=o.create;o.destroy=d()}o=o.next}while(o!==a)}}function tf(r){var a=r.ref;if(a!==null){var o=r.stateNode;r.tag,r=o,typeof a=="function"?a(r):a.current=r}}function kg(r){var a=r.alternate;a!==null&&(r.alternate=null,kg(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&(delete a[Ar],delete a[lo],delete a[xu],delete a[d1],delete a[u1])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Cg(r){return r.tag===5||r.tag===3||r.tag===4}function _g(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Cg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function nf(r,a,o){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?o.nodeType===8?o.parentNode.insertBefore(r,a):o.insertBefore(r,a):(o.nodeType===8?(a=o.parentNode,a.insertBefore(r,o)):(a=o,a.appendChild(r)),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=Ol));else if(d!==4&&(r=r.child,r!==null))for(nf(r,a,o),r=r.sibling;r!==null;)nf(r,a,o),r=r.sibling}function rf(r,a,o){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?o.insertBefore(r,a):o.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(rf(r,a,o),r=r.sibling;r!==null;)rf(r,a,o),r=r.sibling}var ln=null,mr=!1;function Ts(r,a,o){for(o=o.child;o!==null;)Pg(r,a,o),o=o.sibling}function Pg(r,a,o){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(yl,o)}catch{}switch(o.tag){case 5:vn||si(o,a);case 6:var d=ln,m=mr;ln=null,Ts(r,a,o),ln=d,mr=m,ln!==null&&(mr?(r=ln,o=o.stateNode,r.nodeType===8?r.parentNode.removeChild(o):r.removeChild(o)):ln.removeChild(o.stateNode));break;case 18:ln!==null&&(mr?(r=ln,o=o.stateNode,r.nodeType===8?gu(r.parentNode,o):r.nodeType===1&&gu(r,o),Yi(r)):gu(ln,o.stateNode));break;case 4:d=ln,m=mr,ln=o.stateNode.containerInfo,mr=!0,Ts(r,a,o),ln=d,mr=m;break;case 0:case 11:case 14:case 15:if(!vn&&(d=o.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var g=m,j=g.destroy;g=g.tag,j!==void 0&&((g&2)!==0||(g&4)!==0)&&ef(o,a,j),m=m.next}while(m!==d)}Ts(r,a,o);break;case 1:if(!vn&&(si(o,a),d=o.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=o.memoizedProps,d.state=o.memoizedState,d.componentWillUnmount()}catch(A){Dt(o,a,A)}Ts(r,a,o);break;case 21:Ts(r,a,o);break;case 22:o.mode&1?(vn=(d=vn)||o.memoizedState!==null,Ts(r,a,o),vn=d):Ts(r,a,o);break;default:Ts(r,a,o)}}function Eg(r){var a=r.updateQueue;if(a!==null){r.updateQueue=null;var o=r.stateNode;o===null&&(o=r.stateNode=new _1),a.forEach(function(d){var m=O1.bind(null,r,d);o.has(d)||(o.add(d),d.then(m,m))})}}function pr(r,a){var o=a.deletions;if(o!==null)for(var d=0;d<o.length;d++){var m=o[d];try{var g=r,j=a,A=j;e:for(;A!==null;){switch(A.tag){case 5:ln=A.stateNode,mr=!1;break e;case 3:ln=A.stateNode.containerInfo,mr=!0;break e;case 4:ln=A.stateNode.containerInfo,mr=!0;break e}A=A.return}if(ln===null)throw Error(s(160));Pg(g,j,m),ln=null,mr=!1;var D=m.alternate;D!==null&&(D.return=null),m.return=null}catch(Q){Dt(m,a,Q)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Tg(a,r),a=a.sibling}function Tg(r,a){var o=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(pr(a,r),Mr(r),d&4){try{wo(3,r,r.return),ic(3,r)}catch(be){Dt(r,r.return,be)}try{wo(5,r,r.return)}catch(be){Dt(r,r.return,be)}}break;case 1:pr(a,r),Mr(r),d&512&&o!==null&&si(o,o.return);break;case 5:if(pr(a,r),Mr(r),d&512&&o!==null&&si(o,o.return),r.flags&32){var m=r.stateNode;try{Ir(m,"")}catch(be){Dt(r,r.return,be)}}if(d&4&&(m=r.stateNode,m!=null)){var g=r.memoizedProps,j=o!==null?o.memoizedProps:g,A=r.type,D=r.updateQueue;if(r.updateQueue=null,D!==null)try{A==="input"&&g.type==="radio"&&g.name!=null&&Dn(m,g),Fi(A,j);var Q=Fi(A,g);for(j=0;j<D.length;j+=2){var te=D[j],ne=D[j+1];te==="style"?La(m,ne):te==="dangerouslySetInnerHTML"?pn(m,ne):te==="children"?Ir(m,ne):R(m,te,ne,Q)}switch(A){case"input":lr(m,g);break;case"textarea":Mi(m,g);break;case"select":var J=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!g.multiple;var pe=g.value;pe!=null?an(m,!!g.multiple,pe,!1):J!==!!g.multiple&&(g.defaultValue!=null?an(m,!!g.multiple,g.defaultValue,!0):an(m,!!g.multiple,g.multiple?[]:"",!1))}m[lo]=g}catch(be){Dt(r,r.return,be)}}break;case 6:if(pr(a,r),Mr(r),d&4){if(r.stateNode===null)throw Error(s(162));m=r.stateNode,g=r.memoizedProps;try{m.nodeValue=g}catch(be){Dt(r,r.return,be)}}break;case 3:if(pr(a,r),Mr(r),d&4&&o!==null&&o.memoizedState.isDehydrated)try{Yi(a.containerInfo)}catch(be){Dt(r,r.return,be)}break;case 4:pr(a,r),Mr(r);break;case 13:pr(a,r),Mr(r),m=r.child,m.flags&8192&&(g=m.memoizedState!==null,m.stateNode.isHidden=g,!g||m.alternate!==null&&m.alternate.memoizedState!==null||(of=Ft())),d&4&&Eg(r);break;case 22:if(te=o!==null&&o.memoizedState!==null,r.mode&1?(vn=(Q=vn)||te,pr(a,r),vn=Q):pr(a,r),Mr(r),d&8192){if(Q=r.memoizedState!==null,(r.stateNode.isHidden=Q)&&!te&&(r.mode&1)!==0)for(ve=r,te=r.child;te!==null;){for(ne=ve=te;ve!==null;){switch(J=ve,pe=J.child,J.tag){case 0:case 11:case 14:case 15:wo(4,J,J.return);break;case 1:si(J,J.return);var ye=J.stateNode;if(typeof ye.componentWillUnmount=="function"){d=J,o=J.return;try{a=d,ye.props=a.memoizedProps,ye.state=a.memoizedState,ye.componentWillUnmount()}catch(be){Dt(d,o,be)}}break;case 5:si(J,J.return);break;case 22:if(J.memoizedState!==null){Ag(ne);continue}}pe!==null?(pe.return=J,ve=pe):Ag(ne)}te=te.sibling}e:for(te=null,ne=r;;){if(ne.tag===5){if(te===null){te=ne;try{m=ne.stateNode,Q?(g=m.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(A=ne.stateNode,D=ne.memoizedProps.style,j=D!=null&&D.hasOwnProperty("display")?D.display:null,A.style.display=ia("display",j))}catch(be){Dt(r,r.return,be)}}}else if(ne.tag===6){if(te===null)try{ne.stateNode.nodeValue=Q?"":ne.memoizedProps}catch(be){Dt(r,r.return,be)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===r)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===r)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===r)break e;te===ne&&(te=null),ne=ne.return}te===ne&&(te=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:pr(a,r),Mr(r),d&4&&Eg(r);break;case 21:break;default:pr(a,r),Mr(r)}}function Mr(r){var a=r.flags;if(a&2){try{e:{for(var o=r.return;o!==null;){if(Cg(o)){var d=o;break e}o=o.return}throw Error(s(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(Ir(m,""),d.flags&=-33);var g=_g(r);rf(r,g,m);break;case 3:case 4:var j=d.stateNode.containerInfo,A=_g(r);nf(r,A,j);break;default:throw Error(s(161))}}catch(D){Dt(r,r.return,D)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function E1(r,a,o){ve=r,Ig(r)}function Ig(r,a,o){for(var d=(r.mode&1)!==0;ve!==null;){var m=ve,g=m.child;if(m.tag===22&&d){var j=m.memoizedState!==null||ac;if(!j){var A=m.alternate,D=A!==null&&A.memoizedState!==null||vn;A=ac;var Q=vn;if(ac=j,(vn=D)&&!Q)for(ve=m;ve!==null;)j=ve,D=j.child,j.tag===22&&j.memoizedState!==null?Lg(m):D!==null?(D.return=j,ve=D):Lg(m);for(;g!==null;)ve=g,Ig(g),g=g.sibling;ve=m,ac=A,vn=Q}Rg(r)}else(m.subtreeFlags&8772)!==0&&g!==null?(g.return=m,ve=g):Rg(r)}}function Rg(r){for(;ve!==null;){var a=ve;if((a.flags&8772)!==0){var o=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:vn||ic(5,a);break;case 1:var d=a.stateNode;if(a.flags&4&&!vn)if(o===null)d.componentDidMount();else{var m=a.elementType===a.type?o.memoizedProps:fr(a.type,o.memoizedProps);d.componentDidUpdate(m,o.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=a.updateQueue;g!==null&&Ah(a,g,d);break;case 3:var j=a.updateQueue;if(j!==null){if(o=null,a.child!==null)switch(a.child.tag){case 5:o=a.child.stateNode;break;case 1:o=a.child.stateNode}Ah(a,j,o)}break;case 5:var A=a.stateNode;if(o===null&&a.flags&4){o=A;var D=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&o.focus();break;case"img":D.src&&(o.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Q=a.alternate;if(Q!==null){var te=Q.memoizedState;if(te!==null){var ne=te.dehydrated;ne!==null&&Yi(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}vn||a.flags&512&&tf(a)}catch(J){Dt(a,a.return,J)}}if(a===r){ve=null;break}if(o=a.sibling,o!==null){o.return=a.return,ve=o;break}ve=a.return}}function Ag(r){for(;ve!==null;){var a=ve;if(a===r){ve=null;break}var o=a.sibling;if(o!==null){o.return=a.return,ve=o;break}ve=a.return}}function Lg(r){for(;ve!==null;){var a=ve;try{switch(a.tag){case 0:case 11:case 15:var o=a.return;try{ic(4,a)}catch(D){Dt(a,o,D)}break;case 1:var d=a.stateNode;if(typeof d.componentDidMount=="function"){var m=a.return;try{d.componentDidMount()}catch(D){Dt(a,m,D)}}var g=a.return;try{tf(a)}catch(D){Dt(a,g,D)}break;case 5:var j=a.return;try{tf(a)}catch(D){Dt(a,j,D)}}}catch(D){Dt(a,a.return,D)}if(a===r){ve=null;break}var A=a.sibling;if(A!==null){A.return=a.return,ve=A;break}ve=a.return}}var T1=Math.ceil,oc=P.ReactCurrentDispatcher,sf=P.ReactCurrentOwner,Xn=P.ReactCurrentBatchConfig,rt=0,Zt=null,Vt=null,cn=0,zn=0,ai=ks(0),Qt=0,bo=null,ga=0,lc=0,af=0,jo=null,In=null,of=0,ii=1/0,rs=null,cc=!1,lf=null,Is=null,dc=!1,Rs=null,uc=0,No=0,cf=null,fc=-1,mc=0;function Sn(){return(rt&6)!==0?Ft():fc!==-1?fc:fc=Ft()}function As(r){return(r.mode&1)===0?1:(rt&2)!==0&&cn!==0?cn&-cn:m1.transition!==null?(mc===0&&(mc=_p()),mc):(r=ut,r!==0||(r=window.event,r=r===void 0?16:Mp(r.type)),r)}function hr(r,a,o,d){if(50<No)throw No=0,cf=null,Error(s(185));Wi(r,o,d),((rt&2)===0||r!==Zt)&&(r===Zt&&((rt&2)===0&&(lc|=o),Qt===4&&Ls(r,cn)),Rn(r,d),o===1&&rt===0&&(a.mode&1)===0&&(ii=Ft()+500,Bl&&_s()))}function Rn(r,a){var o=r.callbackNode;mj(r,a);var d=jl(r,r===Zt?cn:0);if(d===0)o!==null&&Sp(o),r.callbackNode=null,r.callbackPriority=0;else if(a=d&-d,r.callbackPriority!==a){if(o!=null&&Sp(o),a===1)r.tag===0?f1(Mg.bind(null,r)):bh(Mg.bind(null,r)),l1(function(){(rt&6)===0&&_s()}),o=null;else{switch(Pp(d)){case 1:o=Bd;break;case 4:o=kp;break;case 16:o=vl;break;case 536870912:o=Cp;break;default:o=vl}o=Ug(o,Dg.bind(null,r))}r.callbackPriority=a,r.callbackNode=o}}function Dg(r,a){if(fc=-1,mc=0,(rt&6)!==0)throw Error(s(327));var o=r.callbackNode;if(oi()&&r.callbackNode!==o)return null;var d=jl(r,r===Zt?cn:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||a)a=pc(r,d);else{a=d;var m=rt;rt|=2;var g=Fg();(Zt!==r||cn!==a)&&(rs=null,ii=Ft()+500,va(r,a));do try{A1();break}catch(A){Og(r,A)}while(!0);Cu(),oc.current=g,rt=m,Vt!==null?a=0:(Zt=null,cn=0,a=Qt)}if(a!==0){if(a===2&&(m=Vd(r),m!==0&&(d=m,a=df(r,m))),a===1)throw o=bo,va(r,0),Ls(r,d),Rn(r,Ft()),o;if(a===6)Ls(r,d);else{if(m=r.current.alternate,(d&30)===0&&!I1(m)&&(a=pc(r,d),a===2&&(g=Vd(r),g!==0&&(d=g,a=df(r,g))),a===1))throw o=bo,va(r,0),Ls(r,d),Rn(r,Ft()),o;switch(r.finishedWork=m,r.finishedLanes=d,a){case 0:case 1:throw Error(s(345));case 2:ya(r,In,rs);break;case 3:if(Ls(r,d),(d&130023424)===d&&(a=of+500-Ft(),10<a)){if(jl(r,0)!==0)break;if(m=r.suspendedLanes,(m&d)!==d){Sn(),r.pingedLanes|=r.suspendedLanes&m;break}r.timeoutHandle=hu(ya.bind(null,r,In,rs),a);break}ya(r,In,rs);break;case 4:if(Ls(r,d),(d&4194240)===d)break;for(a=r.eventTimes,m=-1;0<d;){var j=31-cr(d);g=1<<j,j=a[j],j>m&&(m=j),d&=~g}if(d=m,d=Ft()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*T1(d/1960))-d,10<d){r.timeoutHandle=hu(ya.bind(null,r,In,rs),d);break}ya(r,In,rs);break;case 5:ya(r,In,rs);break;default:throw Error(s(329))}}}return Rn(r,Ft()),r.callbackNode===o?Dg.bind(null,r):null}function df(r,a){var o=jo;return r.current.memoizedState.isDehydrated&&(va(r,a).flags|=256),r=pc(r,a),r!==2&&(a=In,In=o,a!==null&&uf(a)),r}function uf(r){In===null?In=r:In.push.apply(In,r)}function I1(r){for(var a=r;;){if(a.flags&16384){var o=a.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var d=0;d<o.length;d++){var m=o[d],g=m.getSnapshot;m=m.value;try{if(!dr(g(),m))return!1}catch{return!1}}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ls(r,a){for(a&=~af,a&=~lc,r.suspendedLanes|=a,r.pingedLanes&=~a,r=r.expirationTimes;0<a;){var o=31-cr(a),d=1<<o;r[o]=-1,a&=~d}}function Mg(r){if((rt&6)!==0)throw Error(s(327));oi();var a=jl(r,0);if((a&1)===0)return Rn(r,Ft()),null;var o=pc(r,a);if(r.tag!==0&&o===2){var d=Vd(r);d!==0&&(a=d,o=df(r,d))}if(o===1)throw o=bo,va(r,0),Ls(r,a),Rn(r,Ft()),o;if(o===6)throw Error(s(345));return r.finishedWork=r.current.alternate,r.finishedLanes=a,ya(r,In,rs),Rn(r,Ft()),null}function ff(r,a){var o=rt;rt|=1;try{return r(a)}finally{rt=o,rt===0&&(ii=Ft()+500,Bl&&_s())}}function xa(r){Rs!==null&&Rs.tag===0&&(rt&6)===0&&oi();var a=rt;rt|=1;var o=Xn.transition,d=ut;try{if(Xn.transition=null,ut=1,r)return r()}finally{ut=d,Xn.transition=o,rt=a,(rt&6)===0&&_s()}}function mf(){zn=ai.current,bt(ai)}function va(r,a){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;if(o!==-1&&(r.timeoutHandle=-1,o1(o)),Vt!==null)for(o=Vt.return;o!==null;){var d=o;switch(bu(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&zl();break;case 3:ni(),bt(Pn),bt(hn),Lu();break;case 5:Ru(d);break;case 4:ni();break;case 13:bt(Pt);break;case 19:bt(Pt);break;case 10:_u(d.type._context);break;case 22:case 23:mf()}o=o.return}if(Zt=r,Vt=r=Ds(r.current,null),cn=zn=a,Qt=0,bo=null,af=lc=ga=0,In=jo=null,ma!==null){for(a=0;a<ma.length;a++)if(o=ma[a],d=o.interleaved,d!==null){o.interleaved=null;var m=d.next,g=o.pending;if(g!==null){var j=g.next;g.next=m,d.next=j}o.pending=d}ma=null}return r}function Og(r,a){do{var o=Vt;try{if(Cu(),Yl.current=tc,Xl){for(var d=Et.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Xl=!1}if(ha=0,Kt=Ut=Et=null,ho=!1,go=0,sf.current=null,o===null||o.return===null){Qt=1,bo=a,Vt=null;break}e:{var g=r,j=o.return,A=o,D=a;if(a=cn,A.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var Q=D,te=A,ne=te.tag;if((te.mode&1)===0&&(ne===0||ne===11||ne===15)){var J=te.alternate;J?(te.updateQueue=J.updateQueue,te.memoizedState=J.memoizedState,te.lanes=J.lanes):(te.updateQueue=null,te.memoizedState=null)}var pe=lg(j);if(pe!==null){pe.flags&=-257,cg(pe,j,A,g,a),pe.mode&1&&og(g,Q,a),a=pe,D=Q;var ye=a.updateQueue;if(ye===null){var be=new Set;be.add(D),a.updateQueue=be}else ye.add(D);break e}else{if((a&1)===0){og(g,Q,a),pf();break e}D=Error(s(426))}}else if(Ct&&A.mode&1){var zt=lg(j);if(zt!==null){(zt.flags&65536)===0&&(zt.flags|=256),cg(zt,j,A,g,a),Su(ri(D,A));break e}}g=D=ri(D,A),Qt!==4&&(Qt=2),jo===null?jo=[g]:jo.push(g),g=j;do{switch(g.tag){case 3:g.flags|=65536,a&=-a,g.lanes|=a;var z=ag(g,D,a);Rh(g,z);break e;case 1:A=D;var M=g.type,V=g.stateNode;if((g.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(Is===null||!Is.has(V)))){g.flags|=65536,a&=-a,g.lanes|=a;var ie=ig(g,A,a);Rh(g,ie);break e}}g=g.return}while(g!==null)}$g(o)}catch(je){a=je,Vt===o&&o!==null&&(Vt=o=o.return);continue}break}while(!0)}function Fg(){var r=oc.current;return oc.current=tc,r===null?tc:r}function pf(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),Zt===null||(ga&268435455)===0&&(lc&268435455)===0||Ls(Zt,cn)}function pc(r,a){var o=rt;rt|=2;var d=Fg();(Zt!==r||cn!==a)&&(rs=null,va(r,a));do try{R1();break}catch(m){Og(r,m)}while(!0);if(Cu(),rt=o,oc.current=d,Vt!==null)throw Error(s(261));return Zt=null,cn=0,Qt}function R1(){for(;Vt!==null;)zg(Vt)}function A1(){for(;Vt!==null&&!sj();)zg(Vt)}function zg(r){var a=qg(r.alternate,r,zn);r.memoizedProps=r.pendingProps,a===null?$g(r):Vt=a,sf.current=null}function $g(r){var a=r;do{var o=a.alternate;if(r=a.return,(a.flags&32768)===0){if(o=k1(o,a,zn),o!==null){Vt=o;return}}else{if(o=C1(o,a),o!==null){o.flags&=32767,Vt=o;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Qt=6,Vt=null;return}}if(a=a.sibling,a!==null){Vt=a;return}Vt=a=r}while(a!==null);Qt===0&&(Qt=5)}function ya(r,a,o){var d=ut,m=Xn.transition;try{Xn.transition=null,ut=1,L1(r,a,o,d)}finally{Xn.transition=m,ut=d}return null}function L1(r,a,o,d){do oi();while(Rs!==null);if((rt&6)!==0)throw Error(s(327));o=r.finishedWork;var m=r.finishedLanes;if(o===null)return null;if(r.finishedWork=null,r.finishedLanes=0,o===r.current)throw Error(s(177));r.callbackNode=null,r.callbackPriority=0;var g=o.lanes|o.childLanes;if(pj(r,g),r===Zt&&(Vt=Zt=null,cn=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||dc||(dc=!0,Ug(vl,function(){return oi(),null})),g=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||g){g=Xn.transition,Xn.transition=null;var j=ut;ut=1;var A=rt;rt|=4,sf.current=null,P1(r,o),Tg(o,r),e1(mu),kl=!!fu,mu=fu=null,r.current=o,E1(o),aj(),rt=A,ut=j,Xn.transition=g}else r.current=o;if(dc&&(dc=!1,Rs=r,uc=m),g=r.pendingLanes,g===0&&(Is=null),lj(o.stateNode),Rn(r,Ft()),a!==null)for(d=r.onRecoverableError,o=0;o<a.length;o++)m=a[o],d(m.value,{componentStack:m.stack,digest:m.digest});if(cc)throw cc=!1,r=lf,lf=null,r;return(uc&1)!==0&&r.tag!==0&&oi(),g=r.pendingLanes,(g&1)!==0?r===cf?No++:(No=0,cf=r):No=0,_s(),null}function oi(){if(Rs!==null){var r=Pp(uc),a=Xn.transition,o=ut;try{if(Xn.transition=null,ut=16>r?16:r,Rs===null)var d=!1;else{if(r=Rs,Rs=null,uc=0,(rt&6)!==0)throw Error(s(331));var m=rt;for(rt|=4,ve=r.current;ve!==null;){var g=ve,j=g.child;if((ve.flags&16)!==0){var A=g.deletions;if(A!==null){for(var D=0;D<A.length;D++){var Q=A[D];for(ve=Q;ve!==null;){var te=ve;switch(te.tag){case 0:case 11:case 15:wo(8,te,g)}var ne=te.child;if(ne!==null)ne.return=te,ve=ne;else for(;ve!==null;){te=ve;var J=te.sibling,pe=te.return;if(kg(te),te===Q){ve=null;break}if(J!==null){J.return=pe,ve=J;break}ve=pe}}}var ye=g.alternate;if(ye!==null){var be=ye.child;if(be!==null){ye.child=null;do{var zt=be.sibling;be.sibling=null,be=zt}while(be!==null)}}ve=g}}if((g.subtreeFlags&2064)!==0&&j!==null)j.return=g,ve=j;else e:for(;ve!==null;){if(g=ve,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:wo(9,g,g.return)}var z=g.sibling;if(z!==null){z.return=g.return,ve=z;break e}ve=g.return}}var M=r.current;for(ve=M;ve!==null;){j=ve;var V=j.child;if((j.subtreeFlags&2064)!==0&&V!==null)V.return=j,ve=V;else e:for(j=M;ve!==null;){if(A=ve,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:ic(9,A)}}catch(je){Dt(A,A.return,je)}if(A===j){ve=null;break e}var ie=A.sibling;if(ie!==null){ie.return=A.return,ve=ie;break e}ve=A.return}}if(rt=m,_s(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(yl,r)}catch{}d=!0}return d}finally{ut=o,Xn.transition=a}}return!1}function Bg(r,a,o){a=ri(o,a),a=ag(r,a,1),r=Es(r,a,1),a=Sn(),r!==null&&(Wi(r,1,a),Rn(r,a))}function Dt(r,a,o){if(r.tag===3)Bg(r,r,o);else for(;a!==null;){if(a.tag===3){Bg(a,r,o);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Is===null||!Is.has(d))){r=ri(o,r),r=ig(a,r,1),a=Es(a,r,1),r=Sn(),a!==null&&(Wi(a,1,r),Rn(a,r));break}}a=a.return}}function D1(r,a,o){var d=r.pingCache;d!==null&&d.delete(a),a=Sn(),r.pingedLanes|=r.suspendedLanes&o,Zt===r&&(cn&o)===o&&(Qt===4||Qt===3&&(cn&130023424)===cn&&500>Ft()-of?va(r,0):af|=o),Rn(r,a)}function Vg(r,a){a===0&&((r.mode&1)===0?a=1:(a=bl,bl<<=1,(bl&130023424)===0&&(bl=4194304)));var o=Sn();r=es(r,a),r!==null&&(Wi(r,a,o),Rn(r,o))}function M1(r){var a=r.memoizedState,o=0;a!==null&&(o=a.retryLane),Vg(r,o)}function O1(r,a){var o=0;switch(r.tag){case 13:var d=r.stateNode,m=r.memoizedState;m!==null&&(o=m.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(s(314))}d!==null&&d.delete(a),Vg(r,o)}var qg;qg=function(r,a,o){if(r!==null)if(r.memoizedProps!==a.pendingProps||Pn.current)Tn=!0;else{if((r.lanes&o)===0&&(a.flags&128)===0)return Tn=!1,S1(r,a,o);Tn=(r.flags&131072)!==0}else Tn=!1,Ct&&(a.flags&1048576)!==0&&jh(a,ql,a.index);switch(a.lanes=0,a.tag){case 2:var d=a.type;sc(r,a),r=a.pendingProps;var m=Ka(a,hn.current);ti(a,o),m=Ou(null,a,d,r,m,o);var g=Fu();return a.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,En(d)?(g=!0,$l(a)):g=!1,a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Tu(a),m.updater=nc,a.stateNode=m,m._reactInternals=a,Uu(a,d,r,o),a=Gu(null,a,d,!0,g,o)):(a.tag=0,Ct&&g&&wu(a),Nn(null,a,m,o),a=a.child),a;case 16:d=a.elementType;e:{switch(sc(r,a),r=a.pendingProps,m=d._init,d=m(d._payload),a.type=d,m=a.tag=z1(d),r=fr(d,r),m){case 0:a=Hu(null,a,d,r,o);break e;case 1:a=hg(null,a,d,r,o);break e;case 11:a=dg(null,a,d,r,o);break e;case 14:a=ug(null,a,d,fr(d.type,r),o);break e}throw Error(s(306,d,""))}return a;case 0:return d=a.type,m=a.pendingProps,m=a.elementType===d?m:fr(d,m),Hu(r,a,d,m,o);case 1:return d=a.type,m=a.pendingProps,m=a.elementType===d?m:fr(d,m),hg(r,a,d,m,o);case 3:e:{if(gg(a),r===null)throw Error(s(387));d=a.pendingProps,g=a.memoizedState,m=g.element,Ih(r,a),Kl(a,d,null,o);var j=a.memoizedState;if(d=j.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){m=ri(Error(s(423)),a),a=xg(r,a,d,o,m);break e}else if(d!==m){m=ri(Error(s(424)),a),a=xg(r,a,d,o,m);break e}else for(Fn=Ss(a.stateNode.containerInfo.firstChild),On=a,Ct=!0,ur=null,o=Eh(a,null,d,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Xa(),d===m){a=ns(r,a,o);break e}Nn(r,a,d,o)}a=a.child}return a;case 5:return Lh(a),r===null&&Nu(a),d=a.type,m=a.pendingProps,g=r!==null?r.memoizedProps:null,j=m.children,pu(d,m)?j=null:g!==null&&pu(d,g)&&(a.flags|=32),pg(r,a),Nn(r,a,j,o),a.child;case 6:return r===null&&Nu(a),null;case 13:return vg(r,a,o);case 4:return Iu(a,a.stateNode.containerInfo),d=a.pendingProps,r===null?a.child=Ja(a,null,d,o):Nn(r,a,d,o),a.child;case 11:return d=a.type,m=a.pendingProps,m=a.elementType===d?m:fr(d,m),dg(r,a,d,m,o);case 7:return Nn(r,a,a.pendingProps,o),a.child;case 8:return Nn(r,a,a.pendingProps.children,o),a.child;case 12:return Nn(r,a,a.pendingProps.children,o),a.child;case 10:e:{if(d=a.type._context,m=a.pendingProps,g=a.memoizedProps,j=m.value,vt(Wl,d._currentValue),d._currentValue=j,g!==null)if(dr(g.value,j)){if(g.children===m.children&&!Pn.current){a=ns(r,a,o);break e}}else for(g=a.child,g!==null&&(g.return=a);g!==null;){var A=g.dependencies;if(A!==null){j=g.child;for(var D=A.firstContext;D!==null;){if(D.context===d){if(g.tag===1){D=ts(-1,o&-o),D.tag=2;var Q=g.updateQueue;if(Q!==null){Q=Q.shared;var te=Q.pending;te===null?D.next=D:(D.next=te.next,te.next=D),Q.pending=D}}g.lanes|=o,D=g.alternate,D!==null&&(D.lanes|=o),Pu(g.return,o,a),A.lanes|=o;break}D=D.next}}else if(g.tag===10)j=g.type===a.type?null:g.child;else if(g.tag===18){if(j=g.return,j===null)throw Error(s(341));j.lanes|=o,A=j.alternate,A!==null&&(A.lanes|=o),Pu(j,o,a),j=g.sibling}else j=g.child;if(j!==null)j.return=g;else for(j=g;j!==null;){if(j===a){j=null;break}if(g=j.sibling,g!==null){g.return=j.return,j=g;break}j=j.return}g=j}Nn(r,a,m.children,o),a=a.child}return a;case 9:return m=a.type,d=a.pendingProps.children,ti(a,o),m=Zn(m),d=d(m),a.flags|=1,Nn(r,a,d,o),a.child;case 14:return d=a.type,m=fr(d,a.pendingProps),m=fr(d.type,m),ug(r,a,d,m,o);case 15:return fg(r,a,a.type,a.pendingProps,o);case 17:return d=a.type,m=a.pendingProps,m=a.elementType===d?m:fr(d,m),sc(r,a),a.tag=1,En(d)?(r=!0,$l(a)):r=!1,ti(a,o),rg(a,d,m),Uu(a,d,m,o),Gu(null,a,d,!0,r,o);case 19:return wg(r,a,o);case 22:return mg(r,a,o)}throw Error(s(156,a.tag))};function Ug(r,a){return Np(r,a)}function F1(r,a,o,d){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(r,a,o,d){return new F1(r,a,o,d)}function hf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function z1(r){if(typeof r=="function")return hf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===oe)return 11;if(r===me)return 14}return 2}function Ds(r,a){var o=r.alternate;return o===null?(o=Jn(r.tag,a,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=a,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&14680064,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,a=r.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o}function hc(r,a,o,d,m,g){var j=2;if(d=r,typeof r=="function")hf(r)&&(j=1);else if(typeof r=="string")j=5;else e:switch(r){case q:return wa(o.children,m,g,a);case X:j=8,m|=8;break;case se:return r=Jn(12,o,a,m|2),r.elementType=se,r.lanes=g,r;case K:return r=Jn(13,o,a,m),r.elementType=K,r.lanes=g,r;case $:return r=Jn(19,o,a,m),r.elementType=$,r.lanes=g,r;case Y:return gc(o,m,g,a);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case de:j=10;break e;case xe:j=9;break e;case oe:j=11;break e;case me:j=14;break e;case B:j=16,d=null;break e}throw Error(s(130,r==null?r:typeof r,""))}return a=Jn(j,o,a,m),a.elementType=r,a.type=d,a.lanes=g,a}function wa(r,a,o,d){return r=Jn(7,r,d,a),r.lanes=o,r}function gc(r,a,o,d){return r=Jn(22,r,d,a),r.elementType=Y,r.lanes=o,r.stateNode={isHidden:!1},r}function gf(r,a,o){return r=Jn(6,r,null,a),r.lanes=o,r}function xf(r,a,o){return a=Jn(4,r.children!==null?r.children:[],r.key,a),a.lanes=o,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}function $1(r,a,o,d,m){this.tag=a,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qd(0),this.expirationTimes=qd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qd(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function vf(r,a,o,d,m,g,j,A,D){return r=new $1(r,a,o,A,D),a===1?(a=1,g===!0&&(a|=8)):a=0,g=Jn(3,null,null,a),r.current=g,g.stateNode=r,g.memoizedState={element:d,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tu(g),r}function B1(r,a,o){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:d==null?null:""+d,children:r,containerInfo:a,implementation:o}}function Qg(r){if(!r)return Cs;r=r._reactInternals;e:{if(it(r)!==r||r.tag!==1)throw Error(s(170));var a=r;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(En(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(s(171))}if(r.tag===1){var o=r.type;if(En(o))return yh(r,o,a)}return a}function Wg(r,a,o,d,m,g,j,A,D){return r=vf(o,d,!0,r,m,g,j,A,D),r.context=Qg(null),o=r.current,d=Sn(),m=As(o),g=ts(d,m),g.callback=a??null,Es(o,g,m),r.current.lanes=m,Wi(r,m,d),Rn(r,d),r}function xc(r,a,o,d){var m=a.current,g=Sn(),j=As(m);return o=Qg(o),a.context===null?a.context=o:a.pendingContext=o,a=ts(g,j),a.payload={element:r},d=d===void 0?null:d,d!==null&&(a.callback=d),r=Es(m,a,j),r!==null&&(hr(r,m,j,g),Gl(r,m,j)),j}function vc(r){return r=r.current,r.child?(r.child.tag===5,r.child.stateNode):null}function Hg(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<a?o:a}}function yf(r,a){Hg(r,a),(r=r.alternate)&&Hg(r,a)}function V1(){return null}var Gg=typeof reportError=="function"?reportError:function(r){console.error(r)};function wf(r){this._internalRoot=r}yc.prototype.render=wf.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(s(409));xc(r,a,null,null)},yc.prototype.unmount=wf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;xa(function(){xc(null,r,null,null)}),a[Zr]=null}};function yc(r){this._internalRoot=r}yc.prototype.unstable_scheduleHydration=function(r){if(r){var a=Ip();r={blockedOn:null,target:r,priority:a};for(var o=0;o<bs.length&&a!==0&&a<bs[o].priority;o++);bs.splice(o,0,r),o===0&&Lp(r)}};function bf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function wc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Kg(){}function q1(r,a,o,d,m){if(m){if(typeof d=="function"){var g=d;d=function(){var Q=vc(j);g.call(Q)}}var j=Wg(a,d,r,0,null,!1,!1,"",Kg);return r._reactRootContainer=j,r[Zr]=j.current,io(r.nodeType===8?r.parentNode:r),xa(),j}for(;m=r.lastChild;)r.removeChild(m);if(typeof d=="function"){var A=d;d=function(){var Q=vc(D);A.call(Q)}}var D=vf(r,0,!1,null,null,!1,!1,"",Kg);return r._reactRootContainer=D,r[Zr]=D.current,io(r.nodeType===8?r.parentNode:r),xa(function(){xc(a,D,o,d)}),D}function bc(r,a,o,d,m){var g=o._reactRootContainer;if(g){var j=g;if(typeof m=="function"){var A=m;m=function(){var D=vc(j);A.call(D)}}xc(a,j,r,m)}else j=q1(o,a,r,m,d);return vc(j)}Ep=function(r){switch(r.tag){case 3:var a=r.stateNode;if(a.current.memoizedState.isDehydrated){var o=Qi(a.pendingLanes);o!==0&&(Ud(a,o|1),Rn(a,Ft()),(rt&6)===0&&(ii=Ft()+500,_s()))}break;case 13:xa(function(){var d=es(r,1);if(d!==null){var m=Sn();hr(d,r,1,m)}}),yf(r,1)}},Qd=function(r){if(r.tag===13){var a=es(r,134217728);if(a!==null){var o=Sn();hr(a,r,134217728,o)}yf(r,134217728)}},Tp=function(r){if(r.tag===13){var a=As(r),o=es(r,a);if(o!==null){var d=Sn();hr(o,r,a,d)}yf(r,a)}},Ip=function(){return ut},Rp=function(r,a){var o=ut;try{return ut=r,a()}finally{ut=o}},Bi=function(r,a,o){switch(a){case"input":if(lr(r,o),a=o.name,o.type==="radio"&&a!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<o.length;a++){var d=o[a];if(d!==r&&d.form===r.form){var m=Fl(d);if(!m)throw Error(s(90));dt(d),lr(d,m)}}}break;case"textarea":Mi(r,o);break;case"select":a=o.value,a!=null&&an(r,!!o.multiple,a,!1)}},hl=ff,gl=xa;var U1={usingClientEntryPoint:!1,Events:[co,Ha,Fl,Vi,pl,ff]},So={findFiberByHostInstance:ca,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Q1={bundleType:So.bundleType,version:So.version,rendererPackageName:So.rendererPackageName,rendererConfig:So.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=bp(r),r===null?null:r.stateNode},findFiberByHostInstance:So.findFiberByHostInstance||V1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{yl=jc.inject(Q1),Rr=jc}catch{}}return An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U1,An.createPortal=function(r,a){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bf(a))throw Error(s(200));return B1(r,a,null,o)},An.createRoot=function(r,a){if(!bf(r))throw Error(s(299));var o=!1,d="",m=Gg;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onRecoverableError!==void 0&&(m=a.onRecoverableError)),a=vf(r,1,!1,null,null,o,!1,d,m),r[Zr]=a.current,io(r.nodeType===8?r.parentNode:r),new wf(a)},An.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=bp(a),r=r===null?null:r.stateNode,r},An.flushSync=function(r){return xa(r)},An.hydrate=function(r,a,o){if(!wc(a))throw Error(s(200));return bc(null,r,a,!0,o)},An.hydrateRoot=function(r,a,o){if(!bf(r))throw Error(s(405));var d=o!=null&&o.hydratedSources||null,m=!1,g="",j=Gg;if(o!=null&&(o.unstable_strictMode===!0&&(m=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onRecoverableError!==void 0&&(j=o.onRecoverableError)),a=Wg(a,null,r,1,o??null,m,!1,g,j),r[Zr]=a.current,io(r),d)for(r=0;r<d.length;r++)o=d[r],m=o._getVersion,m=m(o._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[o,m]:a.mutableSourceEagerHydrationData.push(o,m);return new yc(a)},An.render=function(r,a,o){if(!wc(a))throw Error(s(200));return bc(null,r,a,!1,o)},An.unmountComponentAtNode=function(r){if(!wc(r))throw Error(s(40));return r._reactRootContainer?(xa(function(){bc(null,null,r,!1,function(){r._reactRootContainer=null,r[Zr]=null})}),!0):!1},An.unstable_batchedUpdates=ff,An.unstable_renderSubtreeIntoContainer=function(r,a,o,d){if(!wc(o))throw Error(s(200));if(r==null||r._reactInternals===void 0)throw Error(s(38));return bc(r,a,o,!1,d)},An.version="18.3.1-next-f1338f8080-20240426",An}var rx;function Pv(){if(rx)return Sf.exports;rx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Sf.exports=J1(),Sf.exports}var sx;function eN(){if(sx)return Nc;sx=1;var e=Pv();return Nc.createRoot=e.createRoot,Nc.hydrateRoot=e.hydrateRoot,Nc}var tN=eN();function nN(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var s,i,l,c,u=[],f="",h=e.split("/");for(h[0]||h.shift();l=h.shift();)s=l[0],s==="*"?(u.push(s),f+=l[1]==="?"?"(?:/(.*))?":"/(.*)"):s===":"?(i=l.indexOf("?",1),c=l.indexOf(".",1),u.push(l.substring(1,~i?i:~c?c:l.length)),f+=~i&&!~c?"(?:/([^/]+?))?":"/([^/]+?)",~c&&(f+=(~i?"?":"")+"\\"+l.substring(c))):f+="/"+l;return{keys:u,pattern:new RegExp("^"+f+(t?"(?=$|/)":"/?$"),"i")}}var x=pd();const zs=_v(x),Ev=H1({__proto__:null,default:zs},[x]);var _f={exports:{}},Pf={};var ax;function rN(){if(ax)return Pf;ax=1;var e=pd();function t(b,N){return b===N&&(b!==0||1/b===1/N)||b!==b&&N!==N}var s=typeof Object.is=="function"?Object.is:t,i=e.useState,l=e.useEffect,c=e.useLayoutEffect,u=e.useDebugValue;function f(b,N){var _=N(),E=i({inst:{value:_,getSnapshot:N}}),w=E[0].inst,S=E[1];return c(function(){w.value=_,w.getSnapshot=N,h(w)&&S({inst:w})},[b,_,N]),l(function(){return h(w)&&S({inst:w}),b(function(){h(w)&&S({inst:w})})},[b]),u(_),_}function h(b){var N=b.getSnapshot;b=b.value;try{var _=N();return!s(b,_)}catch{return!0}}function p(b,N){return N()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:f;return Pf.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:v,Pf}var ix;function sN(){return ix||(ix=1,_f.exports=rN()),_f.exports}var aN=sN();const iN=Ev.useInsertionEffect,oN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lN=oN?x.useLayoutEffect:x.useEffect,cN=iN||lN,Tv=e=>{const t=x.useRef([e,(...s)=>t[0](...s)]).current;return cN(()=>{t[0]=e}),t[1]},dN="popstate",Am="pushState",Lm="replaceState",uN="hashchange",ox=[dN,Am,Lm,uN],fN=e=>{for(const t of ox)addEventListener(t,e);return()=>{for(const t of ox)removeEventListener(t,e)}},Iv=(e,t)=>aN.useSyncExternalStore(fN,e,t),mN=()=>location.search,pN=({ssrSearch:e=""}={})=>Iv(mN,()=>e),lx=()=>location.pathname,hN=({ssrPath:e}={})=>Iv(lx,e?()=>e:lx),gN=(e,{replace:t=!1,state:s=null}={})=>history[t?Lm:Am](s,"",e),xN=(e={})=>[hN(e),gN],cx=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[cx]>"u"){for(const e of[Am,Lm]){const t=history[e];history[e]=function(){const s=t.apply(this,arguments),i=new Event(e);return i.arguments=arguments,dispatchEvent(i),s}}Object.defineProperty(window,cx,{value:!0})}const vN=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",Rv=(e="")=>e==="/"?"":e,yN=(e,t)=>e[0]==="~"?e.slice(1):Rv(t)+e,wN=(e="",t)=>vN(dx(Rv(e)),dx(t)),dx=e=>{try{return decodeURI(e)}catch{return e}},Av={hook:xN,searchHook:pN,parser:nN,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},Lv=x.createContext(Av),al=()=>x.useContext(Lv),Dv={},Mv=x.createContext(Dv),bN=()=>x.useContext(Mv),hd=e=>{const[t,s]=e.hook(e);return[wN(e.base,t),Tv((i,l)=>s(yN(i,e.base),l))]},Un=()=>hd(al()),Ov=(e,t,s,i)=>{const{pattern:l,keys:c}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",i),u=l.exec(s)||[],[f,...h]=u;return f!==void 0?[!0,(()=>{const p=c!==!1?Object.fromEntries(c.map((b,N)=>[b,h[N]])):u.groups;let v={...h};return p&&Object.assign(v,p),v})(),...i?[f]:[]]:[!1,null]},jN=({children:e,...t})=>{const s=al(),i=t.hook?Av:s;let l=i;const[c,u]=t.ssrPath?.split("?")??[];u&&(t.ssrSearch=u,t.ssrPath=c),t.hrefs=t.hrefs??t.hook?.hrefs;let f=x.useRef({}),h=f.current,p=h;for(let v in i){const b=v==="base"?i[v]+(t[v]||""):t[v]||i[v];h===p&&b!==p[v]&&(f.current=p={...p}),p[v]=b,b!==i[v]&&(l=p)}return x.createElement(Lv.Provider,{value:l,children:e})},ux=({children:e,component:t},s)=>t?x.createElement(t,{params:s}):typeof e=="function"?e(s):e,NN=e=>{let t=x.useRef(Dv),s=t.current;for(const i in e)e[i]!==s[i]&&(s=e);return Object.keys(e).length===0&&(s=e),t.current=s},Ln=({path:e,nest:t,match:s,...i})=>{const l=al(),[c]=hd(l),[u,f,h]=s??Ov(l.parser,e,c,t),p=NN({...bN(),...f});if(!u)return null;const v=h?x.createElement(jN,{base:h},ux(i,p)):ux(i,p);return x.createElement(Mv.Provider,{value:p,children:v})};x.forwardRef((e,t)=>{const s=al(),[i,l]=hd(s),{to:c="",href:u=c,onClick:f,asChild:h,children:p,className:v,replace:b,state:N,..._}=e,E=Tv(S=>{S.ctrlKey||S.metaKey||S.altKey||S.shiftKey||S.button!==0||(f?.(S),S.defaultPrevented||(S.preventDefault(),l(u,e)))}),w=s.hrefs(u[0]==="~"?u.slice(1):s.base+u,s);return h&&x.isValidElement(p)?x.cloneElement(p,{onClick:E,href:w}):x.createElement("a",{..._,onClick:E,href:w,className:v?.call?v(i===u):v,children:p,ref:t})});const Fv=e=>Array.isArray(e)?e.flatMap(t=>Fv(t&&t.type===x.Fragment?t.props.children:t)):[e],SN=({children:e,location:t})=>{const s=al(),[i]=hd(s);for(const l of Fv(e)){let c=0;if(x.isValidElement(l)&&(c=Ov(s.parser,l.props.path,t||i,l.props.nest))[0])return x.cloneElement(l,{match:c})}return null};var Ti=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Sa=typeof window>"u"||"Deno"in globalThis;function tr(){}function kN(e,t){return typeof e=="function"?e(t):e}function Jf(e){return typeof e=="number"&&e>=0&&e!==1/0}function zv(e,t){return Math.max(e+(t||0)-Date.now(),0)}function hi(e,t){return typeof e=="function"?e(t):e}function vr(e,t){return typeof e=="function"?e(t):e}function fx(e,t){const{type:s="all",exact:i,fetchStatus:l,predicate:c,queryKey:u,stale:f}=e;if(u){if(i){if(t.queryHash!==Dm(u,t.options))return!1}else if(!$o(t.queryKey,u))return!1}if(s!=="all"){const h=t.isActive();if(s==="active"&&!h||s==="inactive"&&h)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||l&&l!==t.state.fetchStatus||c&&!c(t))}function mx(e,t){const{exact:s,status:i,predicate:l,mutationKey:c}=e;if(c){if(!t.options.mutationKey)return!1;if(s){if(ka(t.options.mutationKey)!==ka(c))return!1}else if(!$o(t.options.mutationKey,c))return!1}return!(i&&t.state.status!==i||l&&!l(t))}function Dm(e,t){return(t?.queryKeyHashFn||ka)(e)}function ka(e){return JSON.stringify(e,(t,s)=>em(s)?Object.keys(s).sort().reduce((i,l)=>(i[l]=s[l],i),{}):s)}function $o(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(s=>!$o(e[s],t[s])):!1}function $v(e,t){if(e===t)return e;const s=px(e)&&px(t);if(s||em(e)&&em(t)){const i=s?e:Object.keys(e),l=i.length,c=s?t:Object.keys(t),u=c.length,f=s?[]:{};let h=0;for(let p=0;p<u;p++){const v=s?p:c[p];(!s&&i.includes(v)||s)&&e[v]===void 0&&t[v]===void 0?(f[v]=void 0,h++):(f[v]=$v(e[v],t[v]),f[v]===e[v]&&e[v]!==void 0&&h++)}return l===u&&h===l?e:f}return t}function Uc(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function px(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function em(e){if(!hx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!hx(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function hx(e){return Object.prototype.toString.call(e)==="[object Object]"}function CN(e){return new Promise(t=>{setTimeout(t,e)})}function tm(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?$v(e,t):t}function _N(e,t,s=0){const i=[...e,t];return s&&i.length>s?i.slice(1):i}function PN(e,t,s=0){const i=[t,...e];return s&&i.length>s?i.slice(0,-1):i}var Mm=Symbol();function Bv(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Mm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var EN=class extends Ti{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!Sa&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Om=new EN,TN=class extends Ti{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!Sa&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},Qc=new TN;function nm(){let e,t;const s=new Promise((l,c)=>{e=l,t=c});s.status="pending",s.catch(()=>{});function i(l){Object.assign(s,l),delete s.resolve,delete s.reject}return s.resolve=l=>{i({status:"fulfilled",value:l}),e(l)},s.reject=l=>{i({status:"rejected",reason:l}),t(l)},s}function IN(e){return Math.min(1e3*2**e,3e4)}function Vv(e){return(e??"online")==="online"?Qc.isOnline():!0}var qv=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Ef(e){return e instanceof qv}function Uv(e){let t=!1,s=0,i=!1,l;const c=nm(),u=w=>{i||(N(new qv(w)),e.abort?.())},f=()=>{t=!0},h=()=>{t=!1},p=()=>Om.isFocused()&&(e.networkMode==="always"||Qc.isOnline())&&e.canRun(),v=()=>Vv(e.networkMode)&&e.canRun(),b=w=>{i||(i=!0,e.onSuccess?.(w),l?.(),c.resolve(w))},N=w=>{i||(i=!0,e.onError?.(w),l?.(),c.reject(w))},_=()=>new Promise(w=>{l=S=>{(i||p())&&w(S)},e.onPause?.()}).then(()=>{l=void 0,i||e.onContinue?.()}),E=()=>{if(i)return;let w;const S=s===0?e.initialPromise:void 0;try{w=S??e.fn()}catch(k){w=Promise.reject(k)}Promise.resolve(w).then(b).catch(k=>{if(i)return;const C=e.retry??(Sa?0:3),R=e.retryDelay??IN,P=typeof R=="function"?R(s,k):R,O=C===!0||typeof C=="number"&&s<C||typeof C=="function"&&C(s,k);if(t||!O){N(k);return}s++,e.onFail?.(s,k),CN(P).then(()=>p()?void 0:_()).then(()=>{t?N(k):E()})})};return{promise:c,cancel:u,continue:()=>(l?.(),c),cancelRetry:f,continueRetry:h,canStart:v,start:()=>(v()?E():_().then(E),c)}}function RN(){let e=[],t=0,s=f=>{f()},i=f=>{f()},l=f=>setTimeout(f,0);const c=f=>{t?e.push(f):l(()=>{s(f)})},u=()=>{const f=e;e=[],f.length&&l(()=>{i(()=>{f.forEach(h=>{s(h)})})})};return{batch:f=>{let h;t++;try{h=f()}finally{t--,t||u()}return h},batchCalls:f=>(...h)=>{c(()=>{f(...h)})},schedule:c,setNotifyFunction:f=>{s=f},setBatchNotifyFunction:f=>{i=f},setScheduler:f=>{l=f}}}var Wt=RN(),Qv=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Jf(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Sa?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},AN=class extends Qv{#e;#t;#r;#n;#i;#a;constructor(e){super(),this.#a=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=LN(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const s=tm(this.state.data,e,this.options);return this.#s({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(tr).catch(tr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>vr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Mm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!zv(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#a?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#a=!0,s.signal)})},l=()=>{const f=Bv(this.options,t),h={queryKey:this.queryKey,meta:this.meta};return i(h),this.#a=!1,this.options.persister?this.options.persister(f,h,this):f(h)},c={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:l};i(c),this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#s({type:"fetch",meta:c.fetchOptions?.meta});const u=f=>{Ef(f)&&f.silent||this.#s({type:"error",error:f}),Ef(f)||(this.#r.config.onError?.(f,this),this.#r.config.onSettled?.(this.state.data,f,this)),this.scheduleGc()};return this.#n=Uv({initialPromise:t?.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{if(f===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(h){u(h);return}this.#r.config.onSuccess?.(f,this),this.#r.config.onSettled?.(f,this.state.error,this),this.scheduleGc()},onError:u,onFail:(f,h)=>{this.#s({type:"failed",failureCount:f,error:h})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}),this.#n.start()}#s(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Wv(s.data,this.options),fetchMeta:e.meta??null};case"success":return{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Ef(i)&&i.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),Wt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function Wv(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Vv(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function LN(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,i=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var DN=class extends Ti{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,s){const i=t.queryKey,l=t.queryHash??Dm(i,t);let c=this.get(l);return c||(c=new AN({cache:this,queryKey:i,queryHash:l,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(i)}),this.add(c)),c}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Wt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>fx(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>fx(e,s)):t}notify(e){Wt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Wt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Wt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},MN=class extends Qv{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||Hv(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){this.#r=Uv({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,l)=>{this.#n({type:"failed",failureCount:i,error:l})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",s=!this.#r.canStart();try{if(!t){this.#n({type:"pending",variables:e,isPaused:s}),await this.#t.config.onMutate?.(e,this);const l=await this.options.onMutate?.(e);l!==this.state.context&&this.#n({type:"pending",context:l,variables:e,isPaused:s})}const i=await this.#r.start();return await this.#t.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#t.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#t.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#t.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#n({type:"error",error:i})}}finally{this.#t.runNext(this)}}#n(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Wt.batch(()=>{this.#e.forEach(s=>{s.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function Hv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ON=class extends Ti{constructor(e={}){super(),this.config=e,this.#e=new Map,this.#t=Date.now()}#e;#t;build(e,t,s){const i=new MN({mutationCache:this,mutationId:++this.#t,options:e.defaultMutationOptions(t),state:s});return this.add(i),i}add(e){const t=Sc(e),s=this.#e.get(t)??[];s.push(e),this.#e.set(t,s),this.notify({type:"added",mutation:e})}remove(e){const t=Sc(e);if(this.#e.has(t)){const s=this.#e.get(t)?.filter(i=>i!==e);s&&(s.length===0?this.#e.delete(t):this.#e.set(t,s))}this.notify({type:"removed",mutation:e})}canRun(e){const t=this.#e.get(Sc(e))?.find(s=>s.state.status==="pending");return!t||t===e}runNext(e){return this.#e.get(Sc(e))?.find(s=>s!==e&&s.state.isPaused)?.continue()??Promise.resolve()}clear(){Wt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#e.values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(s=>mx(t,s))}findAll(e={}){return this.getAll().filter(t=>mx(e,t))}notify(e){Wt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Wt.batch(()=>Promise.all(e.map(t=>t.continue().catch(tr))))}};function Sc(e){return e.options.scope?.id??String(e.mutationId)}function gx(e){return{onFetch:(t,s)=>{const i=t.options,l=t.fetchOptions?.meta?.fetchMore?.direction,c=t.state.data?.pages||[],u=t.state.data?.pageParams||[];let f={pages:[],pageParams:[]},h=0;const p=async()=>{let v=!1;const b=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},N=Bv(t.options,t.fetchOptions),_=async(E,w,S)=>{if(v)return Promise.reject();if(w==null&&E.pages.length)return Promise.resolve(E);const k={queryKey:t.queryKey,pageParam:w,direction:S?"backward":"forward",meta:t.options.meta};b(k);const C=await N(k),{maxPages:R}=t.options,P=S?PN:_N;return{pages:P(E.pages,C,R),pageParams:P(E.pageParams,w,R)}};if(l&&c.length){const E=l==="backward",w=E?FN:xx,S={pages:c,pageParams:u},k=w(i,S);f=await _(S,k,E)}else{const E=e??c.length;do{const w=h===0?u[0]??i.initialPageParam:xx(i,f);if(h>0&&w==null)break;f=await _(f,w),h++}while(h<E)}return f};t.options.persister?t.fetchFn=()=>t.options.persister?.(p,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s):t.fetchFn=p}}}function xx(e,{pages:t,pageParams:s}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,s[i],s):void 0}function FN(e,{pages:t,pageParams:s}){return t.length>0?e.getPreviousPageParam?.(t[0],t,s[0],s):void 0}var zN=class{#e;#t;#r;#n;#i;#a;#s;#o;constructor(e={}){this.#e=e.queryCache||new DN,this.#t=e.mutationCache||new ON,this.#r=e.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#s=Om.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=Qc.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#s?.(),this.#s=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const s=this.defaultQueryOptions(e),i=this.#e.build(this,s);return e.revalidateIfStale&&i.isStaleByTime(hi(s.staleTime,i))&&this.prefetchQuery(s),Promise.resolve(t)}}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:s})=>{const i=s.data;return[t,i]})}setQueryData(e,t,s){const i=this.defaultQueryOptions({queryKey:e}),c=this.#e.get(i.queryHash)?.state.data,u=kN(t,c);if(u!==void 0)return this.#e.build(this,i).setData(u,{...s,manual:!0})}setQueriesData(e,t,s){return Wt.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,s)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Wt.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=this.#e,i={type:"active",...e};return Wt.batch(()=>(s.findAll(e).forEach(l=>{l.reset()}),this.refetchQueries(i,t)))}cancelQueries(e={},t={}){const s={revert:!0,...t},i=Wt.batch(()=>this.#e.findAll(e).map(l=>l.cancel(s)));return Promise.all(i).then(tr).catch(tr)}invalidateQueries(e={},t={}){return Wt.batch(()=>{if(this.#e.findAll(e).forEach(i=>{i.invalidate()}),e.refetchType==="none")return Promise.resolve();const s={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(s,t)})}refetchQueries(e={},t){const s={...t,cancelRefetch:t?.cancelRefetch??!0},i=Wt.batch(()=>this.#e.findAll(e).filter(l=>!l.isDisabled()).map(l=>{let c=l.fetch(void 0,s);return s.throwOnError||(c=c.catch(tr)),l.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(i).then(tr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=this.#e.build(this,t);return s.isStaleByTime(hi(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(tr).catch(tr)}fetchInfiniteQuery(e){return e.behavior=gx(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(tr).catch(tr)}ensureInfiniteQueryData(e){return e.behavior=gx(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Qc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(ka(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()];let s={};return t.forEach(i=>{$o(e,i.queryKey)&&(s={...s,...i.defaultOptions})}),s}setMutationDefaults(e,t){this.#i.set(ka(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()];let s={};return t.forEach(i=>{$o(e,i.mutationKey)&&(s={...s,...i.defaultOptions})}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Dm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Mm&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},$N=class extends Ti{constructor(e,t){super(),this.options=t,this.#e=e,this.#o=null,this.#s=nm(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#n=void 0;#i;#a;#s;#o;#h;#f;#m;#c;#d;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),vx(this.#t,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return rm(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return rm(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#b(),this.#t.removeObserver(this)}setOptions(e,t){const s=this.options,i=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof vr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#j(),this.#t.setOptions(this.options),s._defaulted&&!Uc(this.options,s)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const l=this.hasListeners();l&&yx(this.#t,i,this.options,s)&&this.#u(),this.updateResult(t),l&&(this.#t!==i||vr(this.options.enabled,this.#t)!==vr(s.enabled,this.#t)||hi(this.options.staleTime,this.#t)!==hi(s.staleTime,this.#t))&&this.#g();const c=this.#x();l&&(this.#t!==i||vr(this.options.enabled,this.#t)!==vr(s.enabled,this.#t)||c!==this.#l)&&this.#v(c)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(t,e);return VN(this,s)&&(this.#n=s,this.#a=this.options,this.#i=this.#t.state),s}getCurrentResult(){return this.#n}trackResult(e,t){const s={};return Object.keys(e).forEach(i=>{Object.defineProperty(s,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),t?.(i),e[i])})}),s}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.#u({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#u(e){this.#j();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(tr)),t}#g(){this.#w();const e=hi(this.options.staleTime,this.#t);if(Sa||this.#n.isStale||!Jf(e))return;const s=zv(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},s)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#b(),this.#l=e,!(Sa||vr(this.options.enabled,this.#t)===!1||!Jf(this.#l)||this.#l===0)&&(this.#d=setInterval(()=>{(this.options.refetchIntervalInBackground||Om.isFocused())&&this.#u()},this.#l))}#y(){this.#g(),this.#v(this.#x())}#w(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#b(){this.#d&&(clearInterval(this.#d),this.#d=void 0)}createResult(e,t){const s=this.#t,i=this.options,l=this.#n,c=this.#i,u=this.#a,h=e!==s?e.state:this.#r,{state:p}=e;let v={...p},b=!1,N;if(t._optimisticResults){const q=this.hasListeners(),X=!q&&vx(e,t),se=q&&yx(e,s,t,i);(X||se)&&(v={...v,...Wv(p.data,e.options)}),t._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:_,errorUpdatedAt:E,status:w}=v;if(t.select&&v.data!==void 0)if(l&&v.data===c?.data&&t.select===this.#h)N=this.#f;else try{this.#h=t.select,N=t.select(v.data),N=tm(l?.data,N,t),this.#f=N,this.#o=null}catch(q){this.#o=q}else N=v.data;if(t.placeholderData!==void 0&&N===void 0&&w==="pending"){let q;if(l?.isPlaceholderData&&t.placeholderData===u?.placeholderData)q=l.data;else if(q=typeof t.placeholderData=="function"?t.placeholderData(this.#m?.state.data,this.#m):t.placeholderData,t.select&&q!==void 0)try{q=t.select(q),this.#o=null}catch(X){this.#o=X}q!==void 0&&(w="success",N=tm(l?.data,q,t),b=!0)}this.#o&&(_=this.#o,N=this.#f,E=Date.now(),w="error");const S=v.fetchStatus==="fetching",k=w==="pending",C=w==="error",R=k&&S,P=N!==void 0,G={status:w,fetchStatus:v.fetchStatus,isPending:k,isSuccess:w==="success",isError:C,isInitialLoading:R,isLoading:R,data:N,dataUpdatedAt:v.dataUpdatedAt,error:_,errorUpdatedAt:E,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>h.dataUpdateCount||v.errorUpdateCount>h.errorUpdateCount,isFetching:S,isRefetching:S&&!k,isLoadingError:C&&!P,isPaused:v.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:C&&P,isStale:Fm(e,t),refetch:this.refetch,promise:this.#s};if(this.options.experimental_prefetchInRender){const q=de=>{G.status==="error"?de.reject(G.error):G.data!==void 0&&de.resolve(G.data)},X=()=>{const de=this.#s=G.promise=nm();q(de)},se=this.#s;switch(se.status){case"pending":e.queryHash===s.queryHash&&q(se);break;case"fulfilled":(G.status==="error"||G.data!==se.value)&&X();break;case"rejected":(G.status!=="error"||G.error!==se.reason)&&X();break}}return G}updateResult(e){const t=this.#n,s=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#a=this.options,this.#i.data!==void 0&&(this.#m=this.#t),Uc(s,t))return;this.#n=s;const i={},l=()=>{if(!t)return!0;const{notifyOnChangeProps:c}=this.options,u=typeof c=="function"?c():c;if(u==="all"||!u&&!this.#p.size)return!0;const f=new Set(u??this.#p);return this.options.throwOnError&&f.add("error"),Object.keys(this.#n).some(h=>{const p=h;return this.#n[p]!==t[p]&&f.has(p)})};e?.listeners!==!1&&l()&&(i.listeners=!0),this.#N({...i,...e})}#j(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#N(e){Wt.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function BN(e,t){return vr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function vx(e,t){return BN(e,t)||e.state.data!==void 0&&rm(e,t,t.refetchOnMount)}function rm(e,t,s){if(vr(t.enabled,e)!==!1){const i=typeof s=="function"?s(e):s;return i==="always"||i!==!1&&Fm(e,t)}return!1}function yx(e,t,s,i){return(e!==t||vr(i.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&Fm(e,s)}function Fm(e,t){return vr(t.enabled,e)!==!1&&e.isStaleByTime(hi(t.staleTime,e))}function VN(e,t){return!Uc(e.getCurrentResult(),t)}var qN=class extends Ti{#e;#t=void 0;#r;#n;constructor(t,s){super(),this.#e=t,this.setOptions(s),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const s=this.options;this.options=this.#e.defaultMutationOptions(t),Uc(this.options,s)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),s?.mutationKey&&this.options.mutationKey&&ka(s.mutationKey)!==ka(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#a(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#a()}mutate(t,s){return this.#n=s,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#i(){const t=this.#r?.state??Hv();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){Wt.batch(()=>{if(this.#n&&this.hasListeners()){const s=this.#t.variables,i=this.#t.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,s,i),this.#n.onSettled?.(t.data,null,s,i)):t?.type==="error"&&(this.#n.onError?.(t.error,s,i),this.#n.onSettled?.(void 0,t.error,s,i))}this.listeners.forEach(s=>{s(this.#t)})})}},Gv=x.createContext(void 0),zm=e=>{const t=x.useContext(Gv);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},UN=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(Gv.Provider,{value:e,children:t})),Kv=x.createContext(!1),QN=()=>x.useContext(Kv);Kv.Provider;function WN(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var HN=x.createContext(WN()),GN=()=>x.useContext(HN);function Zv(e,t){return typeof e=="function"?e(...t):!!e}function sm(){}var KN=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},ZN=e=>{x.useEffect(()=>{e.clearReset()},[e])},YN=({result:e,errorResetBoundary:t,throwOnError:s,query:i})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&Zv(s,[e.error,i]),XN=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},JN=(e,t)=>e.isLoading&&e.isFetching&&!t,eS=(e,t)=>e?.suspense&&t.isPending,wx=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function tS(e,t,s){const i=zm(),l=QN(),c=GN(),u=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(u),u._optimisticResults=l?"isRestoring":"optimistic",XN(u),KN(u,c),ZN(c);const f=!i.getQueryCache().get(u.queryHash),[h]=x.useState(()=>new t(i,u)),p=h.getOptimisticResult(u);if(x.useSyncExternalStore(x.useCallback(v=>{const b=l?sm:h.subscribe(Wt.batchCalls(v));return h.updateResult(),b},[h,l]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),x.useEffect(()=>{h.setOptions(u,{listeners:!1})},[u,h]),eS(u,p))throw wx(u,h,c);if(YN({result:p,errorResetBoundary:c,throwOnError:u.throwOnError,query:i.getQueryCache().get(u.queryHash)}))throw p.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(u,p),u.experimental_prefetchInRender&&!Sa&&JN(p,l)&&(f?wx(u,h,c):i.getQueryCache().get(u.queryHash)?.promise)?.catch(sm).finally(()=>{h.updateResult()}),u.notifyOnChangeProps?p:h.trackResult(p)}function lt(e,t){return tS(e,$N)}function Mt(e,t){const s=zm(),[i]=x.useState(()=>new qN(s,e));x.useEffect(()=>{i.setOptions(e)},[i,e]);const l=x.useSyncExternalStore(x.useCallback(u=>i.subscribe(Wt.batchCalls(u)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),c=x.useCallback((u,f)=>{i.mutate(u,f).catch(sm)},[i]);if(l.error&&Zv(i.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:c,mutateAsync:l.mutate}}async function Yv(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function he(e,t,s){const i=await fetch(t,{method:e,headers:s?{"Content-Type":"application/json"}:{},body:s?JSON.stringify(s):void 0,credentials:"include"});return await Yv(i),i}const nS=({on401:e})=>async({queryKey:t})=>{const s=await fetch(t.join("/"),{credentials:"include"});return await Yv(s),await s.json()},ce=new zN({defaultOptions:{queries:{queryFn:nS({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),rS=1,sS=1e6;let Tf=0;function aS(){return Tf=(Tf+1)%Number.MAX_SAFE_INTEGER,Tf.toString()}const If=new Map,bx=e=>{if(If.has(e))return;const t=setTimeout(()=>{If.delete(e),Lo({type:"REMOVE_TOAST",toastId:e})},sS);If.set(e,t)},iS=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,rS)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?bx(s):e.toasts.forEach(i=>{bx(i.id)}),{...e,toasts:e.toasts.map(i=>i.id===s||s===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},Oc=[];let Fc={toasts:[]};function Lo(e){Fc=iS(Fc,e),Oc.forEach(t=>{t(Fc)})}function oS({...e}){const t=aS(),s=l=>Lo({type:"UPDATE_TOAST",toast:{...l,id:t}}),i=()=>Lo({type:"DISMISS_TOAST",toastId:t});return Lo({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:l=>{l||i()}}}),{id:t,dismiss:i,update:s}}function Qn(){const[e,t]=x.useState(Fc);return x.useEffect(()=>(Oc.push(t),()=>{const s=Oc.indexOf(t);s>-1&&Oc.splice(s,1)}),[e]),{...e,toast:oS,dismiss:s=>Lo({type:"DISMISS_TOAST",toastId:s})}}var Ii=Pv();const lS=_v(Ii);function Ce(e,t,{checkForDefaultPrevented:s=!0}={}){return function(l){if(e?.(l),s===!1||!l.defaultPrevented)return t?.(l)}}function jx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Xv(...e){return t=>{let s=!1;const i=e.map(l=>{const c=jx(l,t);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let l=0;l<i.length;l++){const c=i[l];typeof c=="function"?c():jx(e[l],null)}}}}function st(...e){return x.useCallback(Xv(...e),e)}function cS(e,t){const s=x.createContext(t),i=c=>{const{children:u,...f}=c,h=x.useMemo(()=>f,Object.values(f));return n.jsx(s.Provider,{value:h,children:u})};i.displayName=e+"Provider";function l(c){const u=x.useContext(s);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${c}\` must be used within \`${e}\``)}return[i,l]}function Er(e,t=[]){let s=[];function i(c,u){const f=x.createContext(u),h=s.length;s=[...s,u];const p=b=>{const{scope:N,children:_,...E}=b,w=N?.[e]?.[h]||f,S=x.useMemo(()=>E,Object.values(E));return n.jsx(w.Provider,{value:S,children:_})};p.displayName=c+"Provider";function v(b,N){const _=N?.[e]?.[h]||f,E=x.useContext(_);if(E)return E;if(u!==void 0)return u;throw new Error(`\`${b}\` must be used within \`${c}\``)}return[p,v]}const l=()=>{const c=s.map(u=>x.createContext(u));return function(f){const h=f?.[e]||c;return x.useMemo(()=>({[`__scope${e}`]:{...f,[e]:h}}),[f,h])}};return l.scopeName=e,[i,dS(l,...t)]}function dS(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const i=e.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(c){const u=i.reduce((f,{useScope:h,scopeName:p})=>{const b=h(c)[`__scope${p}`];return{...f,...b}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return s.scopeName=t.scopeName,s}function ji(e){const t=fS(e),s=x.forwardRef((i,l)=>{const{children:c,...u}=i,f=x.Children.toArray(c),h=f.find(pS);if(h){const p=h.props.children,v=f.map(b=>b===h?x.Children.count(p)>1?x.Children.only(null):x.isValidElement(p)?p.props.children:null:b);return n.jsx(t,{...u,ref:l,children:x.isValidElement(p)?x.cloneElement(p,void 0,v):null})}return n.jsx(t,{...u,ref:l,children:c})});return s.displayName=`${e}.Slot`,s}var uS=ji("Slot");function fS(e){const t=x.forwardRef((s,i)=>{const{children:l,...c}=s;if(x.isValidElement(l)){const u=gS(l),f=hS(c,l.props);return l.type!==x.Fragment&&(f.ref=i?Xv(i,u):u),x.cloneElement(l,f)}return x.Children.count(l)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Jv=Symbol("radix.slottable");function mS(e){const t=({children:s})=>n.jsx(n.Fragment,{children:s});return t.displayName=`${e}.Slottable`,t.__radixId=Jv,t}function pS(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Jv}function hS(e,t){const s={...t};for(const i in t){const l=e[i],c=t[i];/^on[A-Z]/.test(i)?l&&c?s[i]=(...f)=>{c(...f),l(...f)}:l&&(s[i]=l):i==="style"?s[i]={...l,...c}:i==="className"&&(s[i]=[l,c].filter(Boolean).join(" "))}return{...e,...s}}function gS(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function $m(e){const t=e+"CollectionProvider",[s,i]=Er(t),[l,c]=s(t,{collectionRef:{current:null},itemMap:new Map}),u=w=>{const{scope:S,children:k}=w,C=zs.useRef(null),R=zs.useRef(new Map).current;return n.jsx(l,{scope:S,itemMap:R,collectionRef:C,children:k})};u.displayName=t;const f=e+"CollectionSlot",h=ji(f),p=zs.forwardRef((w,S)=>{const{scope:k,children:C}=w,R=c(f,k),P=st(S,R.collectionRef);return n.jsx(h,{ref:P,children:C})});p.displayName=f;const v=e+"CollectionItemSlot",b="data-radix-collection-item",N=ji(v),_=zs.forwardRef((w,S)=>{const{scope:k,children:C,...R}=w,P=zs.useRef(null),O=st(S,P),G=c(v,k);return zs.useEffect(()=>(G.itemMap.set(P,{ref:P,...R}),()=>{G.itemMap.delete(P)})),n.jsx(N,{[b]:"",ref:O,children:C})});_.displayName=v;function E(w){const S=c(e+"CollectionConsumer",w);return zs.useCallback(()=>{const C=S.collectionRef.current;if(!C)return[];const R=Array.from(C.querySelectorAll(`[${b}]`));return Array.from(S.itemMap.values()).sort((G,q)=>R.indexOf(G.ref.current)-R.indexOf(q.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:u,Slot:p,ItemSlot:_},E,i]}var xS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],qe=xS.reduce((e,t)=>{const s=ji(`Primitive.${t}`),i=x.forwardRef((l,c)=>{const{asChild:u,...f}=l,h=u?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(h,{...f,ref:c})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function ey(e,t){e&&Ii.flushSync(()=>e.dispatchEvent(t))}function Bt(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...s)=>t.current?.(...s),[])}function vS(e,t=globalThis?.document){const s=Bt(e);x.useEffect(()=>{const i=l=>{l.key==="Escape"&&s(l)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[s,t])}var yS="DismissableLayer",am="dismissableLayer.update",wS="dismissableLayer.pointerDownOutside",bS="dismissableLayer.focusOutside",Nx,ty=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),il=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,onDismiss:f,...h}=e,p=x.useContext(ty),[v,b]=x.useState(null),N=v?.ownerDocument??globalThis?.document,[,_]=x.useState({}),E=st(t,q=>b(q)),w=Array.from(p.layers),[S]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),k=w.indexOf(S),C=v?w.indexOf(v):-1,R=p.layersWithOutsidePointerEventsDisabled.size>0,P=C>=k,O=NS(q=>{const X=q.target,se=[...p.branches].some(de=>de.contains(X));!P||se||(l?.(q),u?.(q),q.defaultPrevented||f?.())},N),G=SS(q=>{const X=q.target;[...p.branches].some(de=>de.contains(X))||(c?.(q),u?.(q),q.defaultPrevented||f?.())},N);return vS(q=>{C===p.layers.size-1&&(i?.(q),!q.defaultPrevented&&f&&(q.preventDefault(),f()))},N),x.useEffect(()=>{if(v)return s&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Nx=N.body.style.pointerEvents,N.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),Sx(),()=>{s&&p.layersWithOutsidePointerEventsDisabled.size===1&&(N.body.style.pointerEvents=Nx)}},[v,N,s,p]),x.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),Sx())},[v,p]),x.useEffect(()=>{const q=()=>_({});return document.addEventListener(am,q),()=>document.removeEventListener(am,q)},[]),n.jsx(qe.div,{...h,ref:E,style:{pointerEvents:R?P?"auto":"none":void 0,...e.style},onFocusCapture:Ce(e.onFocusCapture,G.onFocusCapture),onBlurCapture:Ce(e.onBlurCapture,G.onBlurCapture),onPointerDownCapture:Ce(e.onPointerDownCapture,O.onPointerDownCapture)})});il.displayName=yS;var jS="DismissableLayerBranch",ny=x.forwardRef((e,t)=>{const s=x.useContext(ty),i=x.useRef(null),l=st(t,i);return x.useEffect(()=>{const c=i.current;if(c)return s.branches.add(c),()=>{s.branches.delete(c)}},[s.branches]),n.jsx(qe.div,{...e,ref:l})});ny.displayName=jS;function NS(e,t=globalThis?.document){const s=Bt(e),i=x.useRef(!1),l=x.useRef(()=>{});return x.useEffect(()=>{const c=f=>{if(f.target&&!i.current){let h=function(){ry(wS,s,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(t.removeEventListener("click",l.current),l.current=h,t.addEventListener("click",l.current,{once:!0})):h()}else t.removeEventListener("click",l.current);i.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",c),t.removeEventListener("click",l.current)}},[t,s]),{onPointerDownCapture:()=>i.current=!0}}function SS(e,t=globalThis?.document){const s=Bt(e),i=x.useRef(!1);return x.useEffect(()=>{const l=c=>{c.target&&!i.current&&ry(bS,s,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",l),()=>t.removeEventListener("focusin",l)},[t,s]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Sx(){const e=new CustomEvent(am);document.dispatchEvent(e)}function ry(e,t,s,{discrete:i}){const l=s.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&l.addEventListener(e,t,{once:!0}),i?ey(l,c):l.dispatchEvent(c)}var kS=il,CS=ny,mn=globalThis?.document?x.useLayoutEffect:()=>{},_S="Portal",gd=x.forwardRef((e,t)=>{const{container:s,...i}=e,[l,c]=x.useState(!1);mn(()=>c(!0),[]);const u=s||l&&globalThis?.document?.body;return u?lS.createPortal(n.jsx(qe.div,{...i,ref:t}),u):null});gd.displayName=_S;function PS(e,t){return x.useReducer((s,i)=>t[s][i]??s,e)}var ir=e=>{const{present:t,children:s}=e,i=ES(t),l=typeof s=="function"?s({present:i.isPresent}):x.Children.only(s),c=st(i.ref,TS(l));return typeof s=="function"||i.isPresent?x.cloneElement(l,{ref:c}):null};ir.displayName="Presence";function ES(e){const[t,s]=x.useState(),i=x.useRef({}),l=x.useRef(e),c=x.useRef("none"),u=e?"mounted":"unmounted",[f,h]=PS(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const p=kc(i.current);c.current=f==="mounted"?p:"none"},[f]),mn(()=>{const p=i.current,v=l.current;if(v!==e){const N=c.current,_=kc(p);e?h("MOUNT"):_==="none"||p?.display==="none"?h("UNMOUNT"):h(v&&N!==_?"ANIMATION_OUT":"UNMOUNT"),l.current=e}},[e,h]),mn(()=>{if(t){let p;const v=t.ownerDocument.defaultView??window,b=_=>{const w=kc(i.current).includes(_.animationName);if(_.target===t&&w&&(h("ANIMATION_END"),!l.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",p=v.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},N=_=>{_.target===t&&(c.current=kc(i.current))};return t.addEventListener("animationstart",N),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{v.clearTimeout(p),t.removeEventListener("animationstart",N),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:x.useCallback(p=>{p&&(i.current=getComputedStyle(p)),s(p)},[])}}function kc(e){return e?.animationName||"none"}function TS(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Ca({prop:e,defaultProp:t,onChange:s=()=>{}}){const[i,l]=IS({defaultProp:t,onChange:s}),c=e!==void 0,u=c?e:i,f=Bt(s),h=x.useCallback(p=>{if(c){const b=typeof p=="function"?p(e):p;b!==e&&f(b)}else l(p)},[c,e,l,f]);return[u,h]}function IS({defaultProp:e,onChange:t}){const s=x.useState(e),[i]=s,l=x.useRef(i),c=Bt(t);return x.useEffect(()=>{l.current!==i&&(c(i),l.current=i)},[i,l,c]),s}var RS="VisuallyHidden",ol=x.forwardRef((e,t)=>n.jsx(qe.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));ol.displayName=RS;var AS=ol,Bm="ToastProvider",[Vm,LS,DS]=$m("Toast"),[sy]=Er("Toast",[DS]),[MS,xd]=sy(Bm),ay=e=>{const{__scopeToast:t,label:s="Notification",duration:i=5e3,swipeDirection:l="right",swipeThreshold:c=50,children:u}=e,[f,h]=x.useState(null),[p,v]=x.useState(0),b=x.useRef(!1),N=x.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${Bm}\`. Expected non-empty \`string\`.`),n.jsx(Vm.Provider,{scope:t,children:n.jsx(MS,{scope:t,label:s,duration:i,swipeDirection:l,swipeThreshold:c,toastCount:p,viewport:f,onViewportChange:h,onToastAdd:x.useCallback(()=>v(_=>_+1),[]),onToastRemove:x.useCallback(()=>v(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:b,isClosePausedRef:N,children:u})})};ay.displayName=Bm;var iy="ToastViewport",OS=["F8"],im="toast.viewportPause",om="toast.viewportResume",oy=x.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:i=OS,label:l="Notifications ({hotkey})",...c}=e,u=xd(iy,s),f=LS(s),h=x.useRef(null),p=x.useRef(null),v=x.useRef(null),b=x.useRef(null),N=st(t,b,u.onViewportChange),_=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=u.toastCount>0;x.useEffect(()=>{const S=k=>{i.length!==0&&i.every(R=>k[R]||k.code===R)&&b.current?.focus()};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[i]),x.useEffect(()=>{const S=h.current,k=b.current;if(E&&S&&k){const C=()=>{if(!u.isClosePausedRef.current){const G=new CustomEvent(im);k.dispatchEvent(G),u.isClosePausedRef.current=!0}},R=()=>{if(u.isClosePausedRef.current){const G=new CustomEvent(om);k.dispatchEvent(G),u.isClosePausedRef.current=!1}},P=G=>{!S.contains(G.relatedTarget)&&R()},O=()=>{S.contains(document.activeElement)||R()};return S.addEventListener("focusin",C),S.addEventListener("focusout",P),S.addEventListener("pointermove",C),S.addEventListener("pointerleave",O),window.addEventListener("blur",C),window.addEventListener("focus",R),()=>{S.removeEventListener("focusin",C),S.removeEventListener("focusout",P),S.removeEventListener("pointermove",C),S.removeEventListener("pointerleave",O),window.removeEventListener("blur",C),window.removeEventListener("focus",R)}}},[E,u.isClosePausedRef]);const w=x.useCallback(({tabbingDirection:S})=>{const C=f().map(R=>{const P=R.ref.current,O=[P,...ZS(P)];return S==="forwards"?O:O.reverse()});return(S==="forwards"?C.reverse():C).flat()},[f]);return x.useEffect(()=>{const S=b.current;if(S){const k=C=>{const R=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!R){const O=document.activeElement,G=C.shiftKey;if(C.target===S&&G){p.current?.focus();return}const se=w({tabbingDirection:G?"backwards":"forwards"}),de=se.findIndex(xe=>xe===O);Rf(se.slice(de+1))?C.preventDefault():G?p.current?.focus():v.current?.focus()}};return S.addEventListener("keydown",k),()=>S.removeEventListener("keydown",k)}},[f,w]),n.jsxs(CS,{ref:h,role:"region","aria-label":l.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&n.jsx(lm,{ref:p,onFocusFromOutsideViewport:()=>{const S=w({tabbingDirection:"forwards"});Rf(S)}}),n.jsx(Vm.Slot,{scope:s,children:n.jsx(qe.ol,{tabIndex:-1,...c,ref:N})}),E&&n.jsx(lm,{ref:v,onFocusFromOutsideViewport:()=>{const S=w({tabbingDirection:"backwards"});Rf(S)}})]})});oy.displayName=iy;var ly="ToastFocusProxy",lm=x.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:i,...l}=e,c=xd(ly,s);return n.jsx(ol,{"aria-hidden":!0,tabIndex:0,...l,ref:t,style:{position:"fixed"},onFocus:u=>{const f=u.relatedTarget;!c.viewport?.contains(f)&&i()}})});lm.displayName=ly;var vd="Toast",FS="toast.swipeStart",zS="toast.swipeMove",$S="toast.swipeCancel",BS="toast.swipeEnd",cy=x.forwardRef((e,t)=>{const{forceMount:s,open:i,defaultOpen:l,onOpenChange:c,...u}=e,[f=!0,h]=Ca({prop:i,defaultProp:l,onChange:c});return n.jsx(ir,{present:s||f,children:n.jsx(US,{open:f,...u,ref:t,onClose:()=>h(!1),onPause:Bt(e.onPause),onResume:Bt(e.onResume),onSwipeStart:Ce(e.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ce(e.onSwipeMove,p=>{const{x:v,y:b}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${v}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${b}px`)}),onSwipeCancel:Ce(e.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ce(e.onSwipeEnd,p=>{const{x:v,y:b}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${v}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${b}px`),h(!1)})})})});cy.displayName=vd;var[VS,qS]=sy(vd,{onClose(){}}),US=x.forwardRef((e,t)=>{const{__scopeToast:s,type:i="foreground",duration:l,open:c,onClose:u,onEscapeKeyDown:f,onPause:h,onResume:p,onSwipeStart:v,onSwipeMove:b,onSwipeCancel:N,onSwipeEnd:_,...E}=e,w=xd(vd,s),[S,k]=x.useState(null),C=st(t,$=>k($)),R=x.useRef(null),P=x.useRef(null),O=l||w.duration,G=x.useRef(0),q=x.useRef(O),X=x.useRef(0),{onToastAdd:se,onToastRemove:de}=w,xe=Bt(()=>{S?.contains(document.activeElement)&&w.viewport?.focus(),u()}),oe=x.useCallback($=>{!$||$===1/0||(window.clearTimeout(X.current),G.current=new Date().getTime(),X.current=window.setTimeout(xe,$))},[xe]);x.useEffect(()=>{const $=w.viewport;if($){const me=()=>{oe(q.current),p?.()},B=()=>{const Y=new Date().getTime()-G.current;q.current=q.current-Y,window.clearTimeout(X.current),h?.()};return $.addEventListener(im,B),$.addEventListener(om,me),()=>{$.removeEventListener(im,B),$.removeEventListener(om,me)}}},[w.viewport,O,h,p,oe]),x.useEffect(()=>{c&&!w.isClosePausedRef.current&&oe(O)},[c,O,w.isClosePausedRef,oe]),x.useEffect(()=>(se(),()=>de()),[se,de]);const K=x.useMemo(()=>S?gy(S):null,[S]);return w.viewport?n.jsxs(n.Fragment,{children:[K&&n.jsx(QS,{__scopeToast:s,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:K}),n.jsx(VS,{scope:s,onClose:xe,children:Ii.createPortal(n.jsx(Vm.ItemSlot,{scope:s,children:n.jsx(kS,{asChild:!0,onEscapeKeyDown:Ce(f,()=>{w.isFocusedToastEscapeKeyDownRef.current||xe(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(qe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":w.swipeDirection,...E,ref:C,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ce(e.onKeyDown,$=>{$.key==="Escape"&&(f?.($.nativeEvent),$.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,xe()))}),onPointerDown:Ce(e.onPointerDown,$=>{$.button===0&&(R.current={x:$.clientX,y:$.clientY})}),onPointerMove:Ce(e.onPointerMove,$=>{if(!R.current)return;const me=$.clientX-R.current.x,B=$.clientY-R.current.y,Y=!!P.current,T=["left","right"].includes(w.swipeDirection),U=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,W=T?U(0,me):0,L=T?0:U(0,B),H=$.pointerType==="touch"?10:2,_e={x:W,y:L},Ee={originalEvent:$,delta:_e};Y?(P.current=_e,Cc(zS,b,Ee,{discrete:!1})):kx(_e,w.swipeDirection,H)?(P.current=_e,Cc(FS,v,Ee,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(me)>H||Math.abs(B)>H)&&(R.current=null)}),onPointerUp:Ce(e.onPointerUp,$=>{const me=P.current,B=$.target;if(B.hasPointerCapture($.pointerId)&&B.releasePointerCapture($.pointerId),P.current=null,R.current=null,me){const Y=$.currentTarget,T={originalEvent:$,delta:me};kx(me,w.swipeDirection,w.swipeThreshold)?Cc(BS,_,T,{discrete:!0}):Cc($S,N,T,{discrete:!0}),Y.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),QS=e=>{const{__scopeToast:t,children:s,...i}=e,l=xd(vd,t),[c,u]=x.useState(!1),[f,h]=x.useState(!1);return GS(()=>u(!0)),x.useEffect(()=>{const p=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(p)},[]),f?null:n.jsx(gd,{asChild:!0,children:n.jsx(ol,{...i,children:c&&n.jsxs(n.Fragment,{children:[l.label," ",s]})})})},WS="ToastTitle",dy=x.forwardRef((e,t)=>{const{__scopeToast:s,...i}=e;return n.jsx(qe.div,{...i,ref:t})});dy.displayName=WS;var HS="ToastDescription",uy=x.forwardRef((e,t)=>{const{__scopeToast:s,...i}=e;return n.jsx(qe.div,{...i,ref:t})});uy.displayName=HS;var fy="ToastAction",my=x.forwardRef((e,t)=>{const{altText:s,...i}=e;return s.trim()?n.jsx(hy,{altText:s,asChild:!0,children:n.jsx(qm,{...i,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${fy}\`. Expected non-empty \`string\`.`),null)});my.displayName=fy;var py="ToastClose",qm=x.forwardRef((e,t)=>{const{__scopeToast:s,...i}=e,l=qS(py,s);return n.jsx(hy,{asChild:!0,children:n.jsx(qe.button,{type:"button",...i,ref:t,onClick:Ce(e.onClick,l.onClose)})})});qm.displayName=py;var hy=x.forwardRef((e,t)=>{const{__scopeToast:s,altText:i,...l}=e;return n.jsx(qe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...l,ref:t})});function gy(e){const t=[];return Array.from(e.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&t.push(i.textContent),KS(i)){const l=i.ariaHidden||i.hidden||i.style.display==="none",c=i.dataset.radixToastAnnounceExclude==="";if(!l)if(c){const u=i.dataset.radixToastAnnounceAlt;u&&t.push(u)}else t.push(...gy(i))}}),t}function Cc(e,t,s,{discrete:i}){const l=s.originalEvent.currentTarget,c=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&l.addEventListener(e,t,{once:!0}),i?ey(l,c):l.dispatchEvent(c)}var kx=(e,t,s=0)=>{const i=Math.abs(e.x),l=Math.abs(e.y),c=i>l;return t==="left"||t==="right"?c&&i>s:!c&&l>s};function GS(e=()=>{}){const t=Bt(e);mn(()=>{let s=0,i=0;return s=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(i)}},[t])}function KS(e){return e.nodeType===e.ELEMENT_NODE}function ZS(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const l=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||l?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function Rf(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var YS=ay,xy=oy,vy=cy,yy=dy,wy=uy,by=my,jy=qm;function Ny(e){var t,s,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(s=Ny(e[t]))&&(i&&(i+=" "),i+=s)}else for(s in e)e[s]&&(i&&(i+=" "),i+=s);return i}function Sy(){for(var e,t,s=0,i="",l=arguments.length;s<l;s++)(e=arguments[s])&&(t=Ny(e))&&(i&&(i+=" "),i+=t);return i}const Cx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,_x=Sy,yd=(e,t)=>s=>{var i;if(t?.variants==null)return _x(e,s?.class,s?.className);const{variants:l,defaultVariants:c}=t,u=Object.keys(l).map(p=>{const v=s?.[p],b=c?.[p];if(v===null)return null;const N=Cx(v)||Cx(b);return l[p][N]}),f=s&&Object.entries(s).reduce((p,v)=>{let[b,N]=v;return N===void 0||(p[b]=N),p},{}),h=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((p,v)=>{let{class:b,className:N,..._}=v;return Object.entries(_).every(E=>{let[w,S]=E;return Array.isArray(S)?S.includes({...c,...f}[w]):{...c,...f}[w]===S})?[...p,b,N]:p},[]);return _x(e,u,h,s?.class,s?.className)};const XS=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ky=(...e)=>e.filter((t,s,i)=>!!t&&i.indexOf(t)===s).join(" ");var JS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ek=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:l="",children:c,iconNode:u,...f},h)=>x.createElement("svg",{ref:h,...JS,width:t,height:t,stroke:e,strokeWidth:i?Number(s)*24/Number(t):s,className:ky("lucide",l),...f},[...u.map(([p,v])=>x.createElement(p,v)),...Array.isArray(c)?c:[c]]));const Pe=(e,t)=>{const s=x.forwardRef(({className:i,...l},c)=>x.createElement(ek,{ref:c,iconNode:t,className:ky(`lucide-${XS(e)}`,i),...l}));return s.displayName=`${e}`,s};const Af=Pe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const kr=Pe("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);const Um=Pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const tk=Pe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);const Px=Pe("Backpack",[["path",{d:"M4 10a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",key:"1ol0lm"}],["path",{d:"M8 10h8",key:"c7uz4u"}],["path",{d:"M8 18h8",key:"1no2b1"}],["path",{d:"M8 22v-6a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v6",key:"1fr6do"}],["path",{d:"M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2",key:"donm21"}]]);const Cy=Pe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);const nk=Pe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const en=Pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const Bo=Pe("Castle",[["path",{d:"M22 20v-9H2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2Z",key:"109fe4"}],["path",{d:"M18 11V4H6v7",key:"mon5oj"}],["path",{d:"M15 22v-4a3 3 0 0 0-3-3a3 3 0 0 0-3 3v4",key:"1k4jtn"}],["path",{d:"M22 11V9",key:"3zbp94"}],["path",{d:"M2 11V9",key:"1x5rnq"}],["path",{d:"M6 4V2",key:"1rsq15"}],["path",{d:"M18 4V2",key:"1jsdo1"}],["path",{d:"M10 4V2",key:"75d9ly"}],["path",{d:"M14 4V2",key:"8nj3z6"}]]);const Wc=Pe("Cat",[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]]);const cs=Pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const _y=Pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const rk=Pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const sk=Pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const ak=Pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const ik=Pe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Gs=Pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Py=Pe("Clover",[["path",{d:"M16.17 7.83 2 22",key:"t58vo8"}],["path",{d:"M4.02 12a2.827 2.827 0 1 1 3.81-4.17A2.827 2.827 0 1 1 12 4.02a2.827 2.827 0 1 1 4.17 3.81A2.827 2.827 0 1 1 19.98 12a2.827 2.827 0 1 1-3.81 4.17A2.827 2.827 0 1 1 12 19.98a2.827 2.827 0 1 1-4.17-3.81A1 1 0 1 1 4 12",key:"17k36q"}],["path",{d:"m7.83 7.83 8.34 8.34",key:"1d7sxk"}]]);const rr=Pe("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);const ds=Pe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);const cm=Pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const ok=Pe("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);const mi=Pe("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);const qs=Pe("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);const is=Pe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);const Ex=Pe("GitMerge",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]);const jr=Pe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const lk=Pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const ck=Pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const ar=Pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const bn=Pe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);const dk=Pe("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);const uk=Pe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const nr=Pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const fk=Pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const Nr=Pe("ScrollText",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);const To=Pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const tn=Pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const kn=Pe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);const Tx=Pe("Skull",[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]]);const kt=Pe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const Ix=Pe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);const dm=Pe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const Us=Pe("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]);const St=Pe("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);const Ht=Pe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const mk=Pe("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);const ba=Pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const pk=Pe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const um=Pe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const yt=Pe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const Ey=Pe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const Ty=Pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Qs=Pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const hk=Pe("Vault",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}],["path",{d:"m7.9 7.9 2.7 2.7",key:"hpeyl3"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}],["path",{d:"m13.4 10.6 2.7-2.7",key:"264c1n"}],["circle",{cx:"7.5",cy:"16.5",r:".5",fill:"currentColor",key:"nkw3mc"}],["path",{d:"m7.9 16.1 2.7-2.7",key:"p81g5e"}],["circle",{cx:"16.5",cy:"16.5",r:".5",fill:"currentColor",key:"fubopw"}],["path",{d:"m13.4 13.4 2.7 2.7",key:"abhel3"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const gk=Pe("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);const $r=Pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const Ks=Pe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Qm="-",xk=e=>{const t=yk(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:u=>{const f=u.split(Qm);return f[0]===""&&f.length!==1&&f.shift(),Iy(f,t)||vk(u)},getConflictingClassGroupIds:(u,f)=>{const h=s[u]||[];return f&&i[u]?[...h,...i[u]]:h}}},Iy=(e,t)=>{if(e.length===0)return t.classGroupId;const s=e[0],i=t.nextPart.get(s),l=i?Iy(e.slice(1),i):void 0;if(l)return l;if(t.validators.length===0)return;const c=e.join(Qm);return t.validators.find(({validator:u})=>u(c))?.classGroupId},Rx=/^\[(.+)\]$/,vk=e=>{if(Rx.test(e)){const t=Rx.exec(e)[1],s=t?.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},yk=e=>{const{theme:t,prefix:s}=e,i={nextPart:new Map,validators:[]};return bk(Object.entries(e.classGroups),s).forEach(([c,u])=>{fm(u,i,c,t)}),i},fm=(e,t,s,i)=>{e.forEach(l=>{if(typeof l=="string"){const c=l===""?t:Ax(t,l);c.classGroupId=s;return}if(typeof l=="function"){if(wk(l)){fm(l(i),t,s,i);return}t.validators.push({validator:l,classGroupId:s});return}Object.entries(l).forEach(([c,u])=>{fm(u,Ax(t,c),s,i)})})},Ax=(e,t)=>{let s=e;return t.split(Qm).forEach(i=>{s.nextPart.has(i)||s.nextPart.set(i,{nextPart:new Map,validators:[]}),s=s.nextPart.get(i)}),s},wk=e=>e.isThemeGetter,bk=(e,t)=>t?e.map(([s,i])=>{const l=i.map(c=>typeof c=="string"?t+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([u,f])=>[t+u,f])):c);return[s,l]}):e,jk=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,i=new Map;const l=(c,u)=>{s.set(c,u),t++,t>e&&(t=0,i=s,s=new Map)};return{get(c){let u=s.get(c);if(u!==void 0)return u;if((u=i.get(c))!==void 0)return l(c,u),u},set(c,u){s.has(c)?s.set(c,u):l(c,u)}}},Ry="!",Nk=e=>{const{separator:t,experimentalParseClassName:s}=e,i=t.length===1,l=t[0],c=t.length,u=f=>{const h=[];let p=0,v=0,b;for(let S=0;S<f.length;S++){let k=f[S];if(p===0){if(k===l&&(i||f.slice(S,S+c)===t)){h.push(f.slice(v,S)),v=S+c;continue}if(k==="/"){b=S;continue}}k==="["?p++:k==="]"&&p--}const N=h.length===0?f:f.substring(v),_=N.startsWith(Ry),E=_?N.substring(1):N,w=b&&b>v?b-v:void 0;return{modifiers:h,hasImportantModifier:_,baseClassName:E,maybePostfixModifierPosition:w}};return s?f=>s({className:f,parseClassName:u}):u},Sk=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(i=>{i[0]==="["?(t.push(...s.sort(),i),s=[]):s.push(i)}),t.push(...s.sort()),t},kk=e=>({cache:jk(e.cacheSize),parseClassName:Nk(e),...xk(e)}),Ck=/\s+/,_k=(e,t)=>{const{parseClassName:s,getClassGroupId:i,getConflictingClassGroupIds:l}=t,c=[],u=e.trim().split(Ck);let f="";for(let h=u.length-1;h>=0;h-=1){const p=u[h],{modifiers:v,hasImportantModifier:b,baseClassName:N,maybePostfixModifierPosition:_}=s(p);let E=!!_,w=i(E?N.substring(0,_):N);if(!w){if(!E){f=p+(f.length>0?" "+f:f);continue}if(w=i(N),!w){f=p+(f.length>0?" "+f:f);continue}E=!1}const S=Sk(v).join(":"),k=b?S+Ry:S,C=k+w;if(c.includes(C))continue;c.push(C);const R=l(w,E);for(let P=0;P<R.length;++P){const O=R[P];c.push(k+O)}f=p+(f.length>0?" "+f:f)}return f};function Pk(){let e=0,t,s,i="";for(;e<arguments.length;)(t=arguments[e++])&&(s=Ay(t))&&(i&&(i+=" "),i+=s);return i}const Ay=e=>{if(typeof e=="string")return e;let t,s="";for(let i=0;i<e.length;i++)e[i]&&(t=Ay(e[i]))&&(s&&(s+=" "),s+=t);return s};function Ek(e,...t){let s,i,l,c=u;function u(h){const p=t.reduce((v,b)=>b(v),e());return s=kk(p),i=s.cache.get,l=s.cache.set,c=f,f(h)}function f(h){const p=i(h);if(p)return p;const v=_k(h,s);return l(h,v),v}return function(){return c(Pk.apply(null,arguments))}}const jt=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},Ly=/^\[(?:([a-z-]+):)?(.+)\]$/i,Tk=/^\d+\/\d+$/,Ik=new Set(["px","full","screen"]),Rk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ak=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Lk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Dk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Mk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ss=e=>gi(e)||Ik.has(e)||Tk.test(e),Os=e=>Ri(e,"length",Uk),gi=e=>!!e&&!Number.isNaN(Number(e)),Lf=e=>Ri(e,"number",gi),Co=e=>!!e&&Number.isInteger(Number(e)),Ok=e=>e.endsWith("%")&&gi(e.slice(0,-1)),Ze=e=>Ly.test(e),Fs=e=>Rk.test(e),Fk=new Set(["length","size","percentage"]),zk=e=>Ri(e,Fk,Dy),$k=e=>Ri(e,"position",Dy),Bk=new Set(["image","url"]),Vk=e=>Ri(e,Bk,Wk),qk=e=>Ri(e,"",Qk),_o=()=>!0,Ri=(e,t,s)=>{const i=Ly.exec(e);return i?i[1]?typeof t=="string"?i[1]===t:t.has(i[1]):s(i[2]):!1},Uk=e=>Ak.test(e)&&!Lk.test(e),Dy=()=>!1,Qk=e=>Dk.test(e),Wk=e=>Mk.test(e),Hk=()=>{const e=jt("colors"),t=jt("spacing"),s=jt("blur"),i=jt("brightness"),l=jt("borderColor"),c=jt("borderRadius"),u=jt("borderSpacing"),f=jt("borderWidth"),h=jt("contrast"),p=jt("grayscale"),v=jt("hueRotate"),b=jt("invert"),N=jt("gap"),_=jt("gradientColorStops"),E=jt("gradientColorStopPositions"),w=jt("inset"),S=jt("margin"),k=jt("opacity"),C=jt("padding"),R=jt("saturate"),P=jt("scale"),O=jt("sepia"),G=jt("skew"),q=jt("space"),X=jt("translate"),se=()=>["auto","contain","none"],de=()=>["auto","hidden","clip","visible","scroll"],xe=()=>["auto",Ze,t],oe=()=>[Ze,t],K=()=>["",ss,Os],$=()=>["auto",gi,Ze],me=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",Ze],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>[gi,Ze];return{cacheSize:500,separator:":",theme:{colors:[_o],spacing:[ss,Os],blur:["none","",Fs,Ze],brightness:L(),borderColor:[e],borderRadius:["none","","full",Fs,Ze],borderSpacing:oe(),borderWidth:K(),contrast:L(),grayscale:U(),hueRotate:L(),invert:U(),gap:oe(),gradientColorStops:[e],gradientColorStopPositions:[Ok,Os],inset:xe(),margin:xe(),opacity:L(),padding:oe(),saturate:L(),scale:L(),sepia:U(),skew:L(),space:oe(),translate:oe()},classGroups:{aspect:[{aspect:["auto","square","video",Ze]}],container:["container"],columns:[{columns:[Fs]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...me(),Ze]}],overflow:[{overflow:de()}],"overflow-x":[{"overflow-x":de()}],"overflow-y":[{"overflow-y":de()}],overscroll:[{overscroll:se()}],"overscroll-x":[{"overscroll-x":se()}],"overscroll-y":[{"overscroll-y":se()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Co,Ze]}],basis:[{basis:xe()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ze]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Co,Ze]}],"grid-cols":[{"grid-cols":[_o]}],"col-start-end":[{col:["auto",{span:["full",Co,Ze]},Ze]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[_o]}],"row-start-end":[{row:["auto",{span:[Co,Ze]},Ze]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ze]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ze]}],gap:[{gap:[N]}],"gap-x":[{"gap-x":[N]}],"gap-y":[{"gap-y":[N]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[q]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[q]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ze,t]}],"min-w":[{"min-w":[Ze,t,"min","max","fit"]}],"max-w":[{"max-w":[Ze,t,"none","full","min","max","fit","prose",{screen:[Fs]},Fs]}],h:[{h:[Ze,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ze,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ze,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ze,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Fs,Os]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Lf]}],"font-family":[{font:[_o]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ze]}],"line-clamp":[{"line-clamp":["none",gi,Lf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ss,Ze]}],"list-image":[{"list-image":["none",Ze]}],"list-style-type":[{list:["none","disc","decimal",Ze]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ss,Os]}],"underline-offset":[{"underline-offset":["auto",ss,Ze]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:oe()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...me(),$k]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",zk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Vk]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[f]}],"border-w-x":[{"border-x":[f]}],"border-w-y":[{"border-y":[f]}],"border-w-s":[{"border-s":[f]}],"border-w-e":[{"border-e":[f]}],"border-w-t":[{"border-t":[f]}],"border-w-r":[{"border-r":[f]}],"border-w-b":[{"border-b":[f]}],"border-w-l":[{"border-l":[f]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[f]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[f]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:B()}],"border-color":[{border:[l]}],"border-color-x":[{"border-x":[l]}],"border-color-y":[{"border-y":[l]}],"border-color-s":[{"border-s":[l]}],"border-color-e":[{"border-e":[l]}],"border-color-t":[{"border-t":[l]}],"border-color-r":[{"border-r":[l]}],"border-color-b":[{"border-b":[l]}],"border-color-l":[{"border-l":[l]}],"divide-color":[{divide:[l]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[ss,Ze]}],"outline-w":[{outline:[ss,Os]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[ss,Os]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Fs,qk]}],"shadow-color":[{shadow:[_o]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[i]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Fs,Ze]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[b]}],saturate:[{saturate:[R]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[R]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ze]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",Ze]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ze]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Co,Ze]}],"translate-x":[{"translate-x":[X]}],"translate-y":[{"translate-y":[X]}],"skew-x":[{"skew-x":[G]}],"skew-y":[{"skew-y":[G]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ze]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ze]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":oe()}],"scroll-mx":[{"scroll-mx":oe()}],"scroll-my":[{"scroll-my":oe()}],"scroll-ms":[{"scroll-ms":oe()}],"scroll-me":[{"scroll-me":oe()}],"scroll-mt":[{"scroll-mt":oe()}],"scroll-mr":[{"scroll-mr":oe()}],"scroll-mb":[{"scroll-mb":oe()}],"scroll-ml":[{"scroll-ml":oe()}],"scroll-p":[{"scroll-p":oe()}],"scroll-px":[{"scroll-px":oe()}],"scroll-py":[{"scroll-py":oe()}],"scroll-ps":[{"scroll-ps":oe()}],"scroll-pe":[{"scroll-pe":oe()}],"scroll-pt":[{"scroll-pt":oe()}],"scroll-pr":[{"scroll-pr":oe()}],"scroll-pb":[{"scroll-pb":oe()}],"scroll-pl":[{"scroll-pl":oe()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ze]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ss,Os,Lf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Gk=Ek(Hk);function we(...e){return Gk(Sy(e))}const Kk=YS,My=x.forwardRef(({className:e,...t},s)=>n.jsx(xy,{ref:s,className:we("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));My.displayName=xy.displayName;const Zk=yd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Oy=x.forwardRef(({className:e,variant:t,...s},i)=>n.jsx(vy,{ref:i,className:we(Zk({variant:t}),e),...s}));Oy.displayName=vy.displayName;const Yk=x.forwardRef(({className:e,...t},s)=>n.jsx(by,{ref:s,className:we("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Yk.displayName=by.displayName;const Fy=x.forwardRef(({className:e,...t},s)=>n.jsx(jy,{ref:s,className:we("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx($r,{className:"h-4 w-4"})}));Fy.displayName=jy.displayName;const zy=x.forwardRef(({className:e,...t},s)=>n.jsx(yy,{ref:s,className:we("text-sm font-semibold",e),...t}));zy.displayName=yy.displayName;const $y=x.forwardRef(({className:e,...t},s)=>n.jsx(wy,{ref:s,className:we("text-sm opacity-90",e),...t}));$y.displayName=wy.displayName;function Xk(){const{toasts:e}=Qn();return n.jsxs(Kk,{children:[e.map(function({id:t,title:s,description:i,action:l,...c}){return n.jsxs(Oy,{...c,children:[n.jsxs("div",{className:"grid gap-1",children:[s&&n.jsx(zy,{children:s}),i&&n.jsx($y,{children:i})]}),l,n.jsx(Fy,{})]},t)}),n.jsx(My,{})]})}var Jk=Ev[" useId ".trim().toString()]||(()=>{}),eC=0;function Ws(e){const[t,s]=x.useState(Jk());return mn(()=>{s(i=>i??String(eC++))},[e]),t?`radix-${t}`:""}const tC=["top","right","bottom","left"],Zs=Math.min,$n=Math.max,Hc=Math.round,_c=Math.floor,Br=e=>({x:e,y:e}),nC={left:"right",right:"left",bottom:"top",top:"bottom"},rC={start:"end",end:"start"};function mm(e,t,s){return $n(e,Zs(t,s))}function us(e,t){return typeof e=="function"?e(t):e}function fs(e){return e.split("-")[0]}function Ai(e){return e.split("-")[1]}function Wm(e){return e==="x"?"y":"x"}function Hm(e){return e==="y"?"height":"width"}function Ys(e){return["top","bottom"].includes(fs(e))?"y":"x"}function Gm(e){return Wm(Ys(e))}function sC(e,t,s){s===void 0&&(s=!1);const i=Ai(e),l=Gm(e),c=Hm(l);let u=l==="x"?i===(s?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[c]>t.floating[c]&&(u=Gc(u)),[u,Gc(u)]}function aC(e){const t=Gc(e);return[pm(e),t,pm(t)]}function pm(e){return e.replace(/start|end/g,t=>rC[t])}function iC(e,t,s){const i=["left","right"],l=["right","left"],c=["top","bottom"],u=["bottom","top"];switch(e){case"top":case"bottom":return s?t?l:i:t?i:l;case"left":case"right":return t?c:u;default:return[]}}function oC(e,t,s,i){const l=Ai(e);let c=iC(fs(e),s==="start",i);return l&&(c=c.map(u=>u+"-"+l),t&&(c=c.concat(c.map(pm)))),c}function Gc(e){return e.replace(/left|right|bottom|top/g,t=>nC[t])}function lC(e){return{top:0,right:0,bottom:0,left:0,...e}}function By(e){return typeof e!="number"?lC(e):{top:e,right:e,bottom:e,left:e}}function Kc(e){const{x:t,y:s,width:i,height:l}=e;return{width:i,height:l,top:s,left:t,right:t+i,bottom:s+l,x:t,y:s}}function Lx(e,t,s){let{reference:i,floating:l}=e;const c=Ys(t),u=Gm(t),f=Hm(u),h=fs(t),p=c==="y",v=i.x+i.width/2-l.width/2,b=i.y+i.height/2-l.height/2,N=i[f]/2-l[f]/2;let _;switch(h){case"top":_={x:v,y:i.y-l.height};break;case"bottom":_={x:v,y:i.y+i.height};break;case"right":_={x:i.x+i.width,y:b};break;case"left":_={x:i.x-l.width,y:b};break;default:_={x:i.x,y:i.y}}switch(Ai(t)){case"start":_[u]-=N*(s&&p?-1:1);break;case"end":_[u]+=N*(s&&p?-1:1);break}return _}const cC=async(e,t,s)=>{const{placement:i="bottom",strategy:l="absolute",middleware:c=[],platform:u}=s,f=c.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(t));let p=await u.getElementRects({reference:e,floating:t,strategy:l}),{x:v,y:b}=Lx(p,i,h),N=i,_={},E=0;for(let w=0;w<f.length;w++){const{name:S,fn:k}=f[w],{x:C,y:R,data:P,reset:O}=await k({x:v,y:b,initialPlacement:i,placement:N,strategy:l,middlewareData:_,rects:p,platform:u,elements:{reference:e,floating:t}});v=C??v,b=R??b,_={..._,[S]:{..._[S],...P}},O&&E<=50&&(E++,typeof O=="object"&&(O.placement&&(N=O.placement),O.rects&&(p=O.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:l}):O.rects),{x:v,y:b}=Lx(p,N,h)),w=-1)}return{x:v,y:b,placement:N,strategy:l,middlewareData:_}};async function Vo(e,t){var s;t===void 0&&(t={});const{x:i,y:l,platform:c,rects:u,elements:f,strategy:h}=e,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:b="floating",altBoundary:N=!1,padding:_=0}=us(t,e),E=By(_),S=f[N?b==="floating"?"reference":"floating":b],k=Kc(await c.getClippingRect({element:(s=await(c.isElement==null?void 0:c.isElement(S)))==null||s?S:S.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:p,rootBoundary:v,strategy:h})),C=b==="floating"?{x:i,y:l,width:u.floating.width,height:u.floating.height}:u.reference,R=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),P=await(c.isElement==null?void 0:c.isElement(R))?await(c.getScale==null?void 0:c.getScale(R))||{x:1,y:1}:{x:1,y:1},O=Kc(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:C,offsetParent:R,strategy:h}):C);return{top:(k.top-O.top+E.top)/P.y,bottom:(O.bottom-k.bottom+E.bottom)/P.y,left:(k.left-O.left+E.left)/P.x,right:(O.right-k.right+E.right)/P.x}}const dC=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:i,placement:l,rects:c,platform:u,elements:f,middlewareData:h}=t,{element:p,padding:v=0}=us(e,t)||{};if(p==null)return{};const b=By(v),N={x:s,y:i},_=Gm(l),E=Hm(_),w=await u.getDimensions(p),S=_==="y",k=S?"top":"left",C=S?"bottom":"right",R=S?"clientHeight":"clientWidth",P=c.reference[E]+c.reference[_]-N[_]-c.floating[E],O=N[_]-c.reference[_],G=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let q=G?G[R]:0;(!q||!await(u.isElement==null?void 0:u.isElement(G)))&&(q=f.floating[R]||c.floating[E]);const X=P/2-O/2,se=q/2-w[E]/2-1,de=Zs(b[k],se),xe=Zs(b[C],se),oe=de,K=q-w[E]-xe,$=q/2-w[E]/2+X,me=mm(oe,$,K),B=!h.arrow&&Ai(l)!=null&&$!==me&&c.reference[E]/2-($<oe?de:xe)-w[E]/2<0,Y=B?$<oe?$-oe:$-K:0;return{[_]:N[_]+Y,data:{[_]:me,centerOffset:$-me-Y,...B&&{alignmentOffset:Y}},reset:B}}}),uC=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,i;const{placement:l,middlewareData:c,rects:u,initialPlacement:f,platform:h,elements:p}=t,{mainAxis:v=!0,crossAxis:b=!0,fallbackPlacements:N,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:w=!0,...S}=us(e,t);if((s=c.arrow)!=null&&s.alignmentOffset)return{};const k=fs(l),C=Ys(f),R=fs(f)===f,P=await(h.isRTL==null?void 0:h.isRTL(p.floating)),O=N||(R||!w?[Gc(f)]:aC(f)),G=E!=="none";!N&&G&&O.push(...oC(f,w,E,P));const q=[f,...O],X=await Vo(t,S),se=[];let de=((i=c.flip)==null?void 0:i.overflows)||[];if(v&&se.push(X[k]),b){const $=sC(l,u,P);se.push(X[$[0]],X[$[1]])}if(de=[...de,{placement:l,overflows:se}],!se.every($=>$<=0)){var xe,oe;const $=(((xe=c.flip)==null?void 0:xe.index)||0)+1,me=q[$];if(me)return{data:{index:$,overflows:de},reset:{placement:me}};let B=(oe=de.filter(Y=>Y.overflows[0]<=0).sort((Y,T)=>Y.overflows[1]-T.overflows[1])[0])==null?void 0:oe.placement;if(!B)switch(_){case"bestFit":{var K;const Y=(K=de.filter(T=>{if(G){const U=Ys(T.placement);return U===C||U==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(U=>U>0).reduce((U,W)=>U+W,0)]).sort((T,U)=>T[1]-U[1])[0])==null?void 0:K[0];Y&&(B=Y);break}case"initialPlacement":B=f;break}if(l!==B)return{reset:{placement:B}}}return{}}}};function Dx(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Mx(e){return tC.some(t=>e[t]>=0)}const fC=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:i="referenceHidden",...l}=us(e,t);switch(i){case"referenceHidden":{const c=await Vo(t,{...l,elementContext:"reference"}),u=Dx(c,s.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Mx(u)}}}case"escaped":{const c=await Vo(t,{...l,altBoundary:!0}),u=Dx(c,s.floating);return{data:{escapedOffsets:u,escaped:Mx(u)}}}default:return{}}}}};async function mC(e,t){const{placement:s,platform:i,elements:l}=e,c=await(i.isRTL==null?void 0:i.isRTL(l.floating)),u=fs(s),f=Ai(s),h=Ys(s)==="y",p=["left","top"].includes(u)?-1:1,v=c&&h?-1:1,b=us(t,e);let{mainAxis:N,crossAxis:_,alignmentAxis:E}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return f&&typeof E=="number"&&(_=f==="end"?E*-1:E),h?{x:_*v,y:N*p}:{x:N*p,y:_*v}}const pC=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,i;const{x:l,y:c,placement:u,middlewareData:f}=t,h=await mC(t,e);return u===((s=f.offset)==null?void 0:s.placement)&&(i=f.arrow)!=null&&i.alignmentOffset?{}:{x:l+h.x,y:c+h.y,data:{...h,placement:u}}}}},hC=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:i,placement:l}=t,{mainAxis:c=!0,crossAxis:u=!1,limiter:f={fn:S=>{let{x:k,y:C}=S;return{x:k,y:C}}},...h}=us(e,t),p={x:s,y:i},v=await Vo(t,h),b=Ys(fs(l)),N=Wm(b);let _=p[N],E=p[b];if(c){const S=N==="y"?"top":"left",k=N==="y"?"bottom":"right",C=_+v[S],R=_-v[k];_=mm(C,_,R)}if(u){const S=b==="y"?"top":"left",k=b==="y"?"bottom":"right",C=E+v[S],R=E-v[k];E=mm(C,E,R)}const w=f.fn({...t,[N]:_,[b]:E});return{...w,data:{x:w.x-s,y:w.y-i,enabled:{[N]:c,[b]:u}}}}}},gC=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:i,placement:l,rects:c,middlewareData:u}=t,{offset:f=0,mainAxis:h=!0,crossAxis:p=!0}=us(e,t),v={x:s,y:i},b=Ys(l),N=Wm(b);let _=v[N],E=v[b];const w=us(f,t),S=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(h){const R=N==="y"?"height":"width",P=c.reference[N]-c.floating[R]+S.mainAxis,O=c.reference[N]+c.reference[R]-S.mainAxis;_<P?_=P:_>O&&(_=O)}if(p){var k,C;const R=N==="y"?"width":"height",P=["top","left"].includes(fs(l)),O=c.reference[b]-c.floating[R]+(P&&((k=u.offset)==null?void 0:k[b])||0)+(P?0:S.crossAxis),G=c.reference[b]+c.reference[R]+(P?0:((C=u.offset)==null?void 0:C[b])||0)-(P?S.crossAxis:0);E<O?E=O:E>G&&(E=G)}return{[N]:_,[b]:E}}}},xC=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,i;const{placement:l,rects:c,platform:u,elements:f}=t,{apply:h=()=>{},...p}=us(e,t),v=await Vo(t,p),b=fs(l),N=Ai(l),_=Ys(l)==="y",{width:E,height:w}=c.floating;let S,k;b==="top"||b==="bottom"?(S=b,k=N===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(k=b,S=N==="end"?"top":"bottom");const C=w-v.top-v.bottom,R=E-v.left-v.right,P=Zs(w-v[S],C),O=Zs(E-v[k],R),G=!t.middlewareData.shift;let q=P,X=O;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(X=R),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(q=C),G&&!N){const de=$n(v.left,0),xe=$n(v.right,0),oe=$n(v.top,0),K=$n(v.bottom,0);_?X=E-2*(de!==0||xe!==0?de+xe:$n(v.left,v.right)):q=w-2*(oe!==0||K!==0?oe+K:$n(v.top,v.bottom))}await h({...t,availableWidth:X,availableHeight:q});const se=await u.getDimensions(f.floating);return E!==se.width||w!==se.height?{reset:{rects:!0}}:{}}}};function wd(){return typeof window<"u"}function Li(e){return Vy(e)?(e.nodeName||"").toLowerCase():"#document"}function Vn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Wr(e){var t;return(t=(Vy(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Vy(e){return wd()?e instanceof Node||e instanceof Vn(e).Node:!1}function Cr(e){return wd()?e instanceof Element||e instanceof Vn(e).Element:!1}function qr(e){return wd()?e instanceof HTMLElement||e instanceof Vn(e).HTMLElement:!1}function Ox(e){return!wd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Vn(e).ShadowRoot}function ll(e){const{overflow:t,overflowX:s,overflowY:i,display:l}=_r(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+s)&&!["inline","contents"].includes(l)}function vC(e){return["table","td","th"].includes(Li(e))}function bd(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Km(e){const t=Zm(),s=Cr(e)?_r(e):e;return["transform","translate","scale","rotate","perspective"].some(i=>s[i]?s[i]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(s.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(s.contain||"").includes(i))}function yC(e){let t=Xs(e);for(;qr(t)&&!Ni(t);){if(Km(t))return t;if(bd(t))return null;t=Xs(t)}return null}function Zm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ni(e){return["html","body","#document"].includes(Li(e))}function _r(e){return Vn(e).getComputedStyle(e)}function jd(e){return Cr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Xs(e){if(Li(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ox(e)&&e.host||Wr(e);return Ox(t)?t.host:t}function qy(e){const t=Xs(e);return Ni(t)?e.ownerDocument?e.ownerDocument.body:e.body:qr(t)&&ll(t)?t:qy(t)}function qo(e,t,s){var i;t===void 0&&(t=[]),s===void 0&&(s=!0);const l=qy(e),c=l===((i=e.ownerDocument)==null?void 0:i.body),u=Vn(l);if(c){const f=hm(u);return t.concat(u,u.visualViewport||[],ll(l)?l:[],f&&s?qo(f):[])}return t.concat(l,qo(l,[],s))}function hm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Uy(e){const t=_r(e);let s=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const l=qr(e),c=l?e.offsetWidth:s,u=l?e.offsetHeight:i,f=Hc(s)!==c||Hc(i)!==u;return f&&(s=c,i=u),{width:s,height:i,$:f}}function Ym(e){return Cr(e)?e:e.contextElement}function xi(e){const t=Ym(e);if(!qr(t))return Br(1);const s=t.getBoundingClientRect(),{width:i,height:l,$:c}=Uy(t);let u=(c?Hc(s.width):s.width)/i,f=(c?Hc(s.height):s.height)/l;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const wC=Br(0);function Qy(e){const t=Vn(e);return!Zm()||!t.visualViewport?wC:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function bC(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==Vn(e)?!1:t}function _a(e,t,s,i){t===void 0&&(t=!1),s===void 0&&(s=!1);const l=e.getBoundingClientRect(),c=Ym(e);let u=Br(1);t&&(i?Cr(i)&&(u=xi(i)):u=xi(e));const f=bC(c,s,i)?Qy(c):Br(0);let h=(l.left+f.x)/u.x,p=(l.top+f.y)/u.y,v=l.width/u.x,b=l.height/u.y;if(c){const N=Vn(c),_=i&&Cr(i)?Vn(i):i;let E=N,w=hm(E);for(;w&&i&&_!==E;){const S=xi(w),k=w.getBoundingClientRect(),C=_r(w),R=k.left+(w.clientLeft+parseFloat(C.paddingLeft))*S.x,P=k.top+(w.clientTop+parseFloat(C.paddingTop))*S.y;h*=S.x,p*=S.y,v*=S.x,b*=S.y,h+=R,p+=P,E=Vn(w),w=hm(E)}}return Kc({width:v,height:b,x:h,y:p})}function Xm(e,t){const s=jd(e).scrollLeft;return t?t.left+s:_a(Wr(e)).left+s}function Wy(e,t,s){s===void 0&&(s=!1);const i=e.getBoundingClientRect(),l=i.left+t.scrollLeft-(s?0:Xm(e,i)),c=i.top+t.scrollTop;return{x:l,y:c}}function jC(e){let{elements:t,rect:s,offsetParent:i,strategy:l}=e;const c=l==="fixed",u=Wr(i),f=t?bd(t.floating):!1;if(i===u||f&&c)return s;let h={scrollLeft:0,scrollTop:0},p=Br(1);const v=Br(0),b=qr(i);if((b||!b&&!c)&&((Li(i)!=="body"||ll(u))&&(h=jd(i)),qr(i))){const _=_a(i);p=xi(i),v.x=_.x+i.clientLeft,v.y=_.y+i.clientTop}const N=u&&!b&&!c?Wy(u,h,!0):Br(0);return{width:s.width*p.x,height:s.height*p.y,x:s.x*p.x-h.scrollLeft*p.x+v.x+N.x,y:s.y*p.y-h.scrollTop*p.y+v.y+N.y}}function NC(e){return Array.from(e.getClientRects())}function SC(e){const t=Wr(e),s=jd(e),i=e.ownerDocument.body,l=$n(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),c=$n(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let u=-s.scrollLeft+Xm(e);const f=-s.scrollTop;return _r(i).direction==="rtl"&&(u+=$n(t.clientWidth,i.clientWidth)-l),{width:l,height:c,x:u,y:f}}function kC(e,t){const s=Vn(e),i=Wr(e),l=s.visualViewport;let c=i.clientWidth,u=i.clientHeight,f=0,h=0;if(l){c=l.width,u=l.height;const p=Zm();(!p||p&&t==="fixed")&&(f=l.offsetLeft,h=l.offsetTop)}return{width:c,height:u,x:f,y:h}}function CC(e,t){const s=_a(e,!0,t==="fixed"),i=s.top+e.clientTop,l=s.left+e.clientLeft,c=qr(e)?xi(e):Br(1),u=e.clientWidth*c.x,f=e.clientHeight*c.y,h=l*c.x,p=i*c.y;return{width:u,height:f,x:h,y:p}}function Fx(e,t,s){let i;if(t==="viewport")i=kC(e,s);else if(t==="document")i=SC(Wr(e));else if(Cr(t))i=CC(t,s);else{const l=Qy(e);i={x:t.x-l.x,y:t.y-l.y,width:t.width,height:t.height}}return Kc(i)}function Hy(e,t){const s=Xs(e);return s===t||!Cr(s)||Ni(s)?!1:_r(s).position==="fixed"||Hy(s,t)}function _C(e,t){const s=t.get(e);if(s)return s;let i=qo(e,[],!1).filter(f=>Cr(f)&&Li(f)!=="body"),l=null;const c=_r(e).position==="fixed";let u=c?Xs(e):e;for(;Cr(u)&&!Ni(u);){const f=_r(u),h=Km(u);!h&&f.position==="fixed"&&(l=null),(c?!h&&!l:!h&&f.position==="static"&&!!l&&["absolute","fixed"].includes(l.position)||ll(u)&&!h&&Hy(e,u))?i=i.filter(v=>v!==u):l=f,u=Xs(u)}return t.set(e,i),i}function PC(e){let{element:t,boundary:s,rootBoundary:i,strategy:l}=e;const u=[...s==="clippingAncestors"?bd(t)?[]:_C(t,this._c):[].concat(s),i],f=u[0],h=u.reduce((p,v)=>{const b=Fx(t,v,l);return p.top=$n(b.top,p.top),p.right=Zs(b.right,p.right),p.bottom=Zs(b.bottom,p.bottom),p.left=$n(b.left,p.left),p},Fx(t,f,l));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function EC(e){const{width:t,height:s}=Uy(e);return{width:t,height:s}}function TC(e,t,s){const i=qr(t),l=Wr(t),c=s==="fixed",u=_a(e,!0,c,t);let f={scrollLeft:0,scrollTop:0};const h=Br(0);if(i||!i&&!c)if((Li(t)!=="body"||ll(l))&&(f=jd(t)),i){const N=_a(t,!0,c,t);h.x=N.x+t.clientLeft,h.y=N.y+t.clientTop}else l&&(h.x=Xm(l));const p=l&&!i&&!c?Wy(l,f):Br(0),v=u.left+f.scrollLeft-h.x-p.x,b=u.top+f.scrollTop-h.y-p.y;return{x:v,y:b,width:u.width,height:u.height}}function Df(e){return _r(e).position==="static"}function zx(e,t){if(!qr(e)||_r(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return Wr(e)===s&&(s=s.ownerDocument.body),s}function Gy(e,t){const s=Vn(e);if(bd(e))return s;if(!qr(e)){let l=Xs(e);for(;l&&!Ni(l);){if(Cr(l)&&!Df(l))return l;l=Xs(l)}return s}let i=zx(e,t);for(;i&&vC(i)&&Df(i);)i=zx(i,t);return i&&Ni(i)&&Df(i)&&!Km(i)?s:i||yC(e)||s}const IC=async function(e){const t=this.getOffsetParent||Gy,s=this.getDimensions,i=await s(e.floating);return{reference:TC(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function RC(e){return _r(e).direction==="rtl"}const AC={convertOffsetParentRelativeRectToViewportRelativeRect:jC,getDocumentElement:Wr,getClippingRect:PC,getOffsetParent:Gy,getElementRects:IC,getClientRects:NC,getDimensions:EC,getScale:xi,isElement:Cr,isRTL:RC};function Ky(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function LC(e,t){let s=null,i;const l=Wr(e);function c(){var f;clearTimeout(i),(f=s)==null||f.disconnect(),s=null}function u(f,h){f===void 0&&(f=!1),h===void 0&&(h=1),c();const p=e.getBoundingClientRect(),{left:v,top:b,width:N,height:_}=p;if(f||t(),!N||!_)return;const E=_c(b),w=_c(l.clientWidth-(v+N)),S=_c(l.clientHeight-(b+_)),k=_c(v),R={rootMargin:-E+"px "+-w+"px "+-S+"px "+-k+"px",threshold:$n(0,Zs(1,h))||1};let P=!0;function O(G){const q=G[0].intersectionRatio;if(q!==h){if(!P)return u();q?u(!1,q):i=setTimeout(()=>{u(!1,1e-7)},1e3)}q===1&&!Ky(p,e.getBoundingClientRect())&&u(),P=!1}try{s=new IntersectionObserver(O,{...R,root:l.ownerDocument})}catch{s=new IntersectionObserver(O,R)}s.observe(e)}return u(!0),c}function DC(e,t,s,i){i===void 0&&(i={});const{ancestorScroll:l=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:h=!1}=i,p=Ym(e),v=l||c?[...p?qo(p):[],...qo(t)]:[];v.forEach(k=>{l&&k.addEventListener("scroll",s,{passive:!0}),c&&k.addEventListener("resize",s)});const b=p&&f?LC(p,s):null;let N=-1,_=null;u&&(_=new ResizeObserver(k=>{let[C]=k;C&&C.target===p&&_&&(_.unobserve(t),cancelAnimationFrame(N),N=requestAnimationFrame(()=>{var R;(R=_)==null||R.observe(t)})),s()}),p&&!h&&_.observe(p),_.observe(t));let E,w=h?_a(e):null;h&&S();function S(){const k=_a(e);w&&!Ky(w,k)&&s(),w=k,E=requestAnimationFrame(S)}return s(),()=>{var k;v.forEach(C=>{l&&C.removeEventListener("scroll",s),c&&C.removeEventListener("resize",s)}),b?.(),(k=_)==null||k.disconnect(),_=null,h&&cancelAnimationFrame(E)}}const MC=pC,OC=hC,FC=uC,zC=xC,$C=fC,$x=dC,BC=gC,VC=(e,t,s)=>{const i=new Map,l={platform:AC,...s},c={...l.platform,_c:i};return cC(e,t,{...l,platform:c})};var zc=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Zc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,i,l;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(i=s;i--!==0;)if(!Zc(e[i],t[i]))return!1;return!0}if(l=Object.keys(e),s=l.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!{}.hasOwnProperty.call(t,l[i]))return!1;for(i=s;i--!==0;){const c=l[i];if(!(c==="_owner"&&e.$$typeof)&&!Zc(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}function Zy(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Bx(e,t){const s=Zy(e);return Math.round(t*s)/s}function Mf(e){const t=x.useRef(e);return zc(()=>{t.current=e}),t}function qC(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:i=[],platform:l,elements:{reference:c,floating:u}={},transform:f=!0,whileElementsMounted:h,open:p}=e,[v,b]=x.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[N,_]=x.useState(i);Zc(N,i)||_(i);const[E,w]=x.useState(null),[S,k]=x.useState(null),C=x.useCallback(T=>{T!==G.current&&(G.current=T,w(T))},[]),R=x.useCallback(T=>{T!==q.current&&(q.current=T,k(T))},[]),P=c||E,O=u||S,G=x.useRef(null),q=x.useRef(null),X=x.useRef(v),se=h!=null,de=Mf(h),xe=Mf(l),oe=Mf(p),K=x.useCallback(()=>{if(!G.current||!q.current)return;const T={placement:t,strategy:s,middleware:N};xe.current&&(T.platform=xe.current),VC(G.current,q.current,T).then(U=>{const W={...U,isPositioned:oe.current!==!1};$.current&&!Zc(X.current,W)&&(X.current=W,Ii.flushSync(()=>{b(W)}))})},[N,t,s,xe,oe]);zc(()=>{p===!1&&X.current.isPositioned&&(X.current.isPositioned=!1,b(T=>({...T,isPositioned:!1})))},[p]);const $=x.useRef(!1);zc(()=>($.current=!0,()=>{$.current=!1}),[]),zc(()=>{if(P&&(G.current=P),O&&(q.current=O),P&&O){if(de.current)return de.current(P,O,K);K()}},[P,O,K,de,se]);const me=x.useMemo(()=>({reference:G,floating:q,setReference:C,setFloating:R}),[C,R]),B=x.useMemo(()=>({reference:P,floating:O}),[P,O]),Y=x.useMemo(()=>{const T={position:s,left:0,top:0};if(!B.floating)return T;const U=Bx(B.floating,v.x),W=Bx(B.floating,v.y);return f?{...T,transform:"translate("+U+"px, "+W+"px)",...Zy(B.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:U,top:W}},[s,f,B.floating,v.x,v.y]);return x.useMemo(()=>({...v,update:K,refs:me,elements:B,floatingStyles:Y}),[v,K,me,B,Y])}const UC=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:i,padding:l}=typeof e=="function"?e(s):e;return i&&t(i)?i.current!=null?$x({element:i.current,padding:l}).fn(s):{}:i?$x({element:i,padding:l}).fn(s):{}}}},QC=(e,t)=>({...MC(e),options:[e,t]}),WC=(e,t)=>({...OC(e),options:[e,t]}),HC=(e,t)=>({...BC(e),options:[e,t]}),GC=(e,t)=>({...FC(e),options:[e,t]}),KC=(e,t)=>({...zC(e),options:[e,t]}),ZC=(e,t)=>({...$C(e),options:[e,t]}),YC=(e,t)=>({...UC(e),options:[e,t]});var XC="Arrow",Yy=x.forwardRef((e,t)=>{const{children:s,width:i=10,height:l=5,...c}=e;return n.jsx(qe.svg,{...c,ref:t,width:i,height:l,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});Yy.displayName=XC;var JC=Yy;function Xy(e){const[t,s]=x.useState(void 0);return mn(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const c=l[0];let u,f;if("borderBoxSize"in c){const h=c.borderBoxSize,p=Array.isArray(h)?h[0]:h;u=p.inlineSize,f=p.blockSize}else u=e.offsetWidth,f=e.offsetHeight;s({width:u,height:f})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else s(void 0)},[e]),t}var Jm="Popper",[Jy,Nd]=Er(Jm),[e2,e0]=Jy(Jm),t0=e=>{const{__scopePopper:t,children:s}=e,[i,l]=x.useState(null);return n.jsx(e2,{scope:t,anchor:i,onAnchorChange:l,children:s})};t0.displayName=Jm;var n0="PopperAnchor",r0=x.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:i,...l}=e,c=e0(n0,s),u=x.useRef(null),f=st(t,u);return x.useEffect(()=>{c.onAnchorChange(i?.current||u.current)}),i?null:n.jsx(qe.div,{...l,ref:f})});r0.displayName=n0;var ep="PopperContent",[t2,n2]=Jy(ep),s0=x.forwardRef((e,t)=>{const{__scopePopper:s,side:i="bottom",sideOffset:l=0,align:c="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:v=0,sticky:b="partial",hideWhenDetached:N=!1,updatePositionStrategy:_="optimized",onPlaced:E,...w}=e,S=e0(ep,s),[k,C]=x.useState(null),R=st(t,ae=>C(ae)),[P,O]=x.useState(null),G=Xy(P),q=G?.width??0,X=G?.height??0,se=i+(c!=="center"?"-"+c:""),de=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},xe=Array.isArray(p)?p:[p],oe=xe.length>0,K={padding:de,boundary:xe.filter(s2),altBoundary:oe},{refs:$,floatingStyles:me,placement:B,isPositioned:Y,middlewareData:T}=qC({strategy:"fixed",placement:se,whileElementsMounted:(...ae)=>DC(...ae,{animationFrame:_==="always"}),elements:{reference:S.anchor},middleware:[QC({mainAxis:l+X,alignmentAxis:u}),h&&WC({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?HC():void 0,...K}),h&&GC({...K}),KC({...K,apply:({elements:ae,rects:ue,availableWidth:Fe,availableHeight:Se})=>{const{width:Ke,height:dt}=ue.reference,xt=ae.floating.style;xt.setProperty("--radix-popper-available-width",`${Fe}px`),xt.setProperty("--radix-popper-available-height",`${Se}px`),xt.setProperty("--radix-popper-anchor-width",`${Ke}px`),xt.setProperty("--radix-popper-anchor-height",`${dt}px`)}}),P&&YC({element:P,padding:f}),a2({arrowWidth:q,arrowHeight:X}),N&&ZC({strategy:"referenceHidden",...K})]}),[U,W]=o0(B),L=Bt(E);mn(()=>{Y&&L?.()},[Y,L]);const H=T.arrow?.x,_e=T.arrow?.y,Ee=T.arrow?.centerOffset!==0,[$e,Be]=x.useState();return mn(()=>{k&&Be(window.getComputedStyle(k).zIndex)},[k]),n.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...me,transform:Y?me.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:$e,"--radix-popper-transform-origin":[T.transformOrigin?.x,T.transformOrigin?.y].join(" "),...T.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(t2,{scope:s,placedSide:U,onArrowChange:O,arrowX:H,arrowY:_e,shouldHideArrow:Ee,children:n.jsx(qe.div,{"data-side":U,"data-align":W,...w,ref:R,style:{...w.style,animation:Y?void 0:"none"}})})})});s0.displayName=ep;var a0="PopperArrow",r2={top:"bottom",right:"left",bottom:"top",left:"right"},i0=x.forwardRef(function(t,s){const{__scopePopper:i,...l}=t,c=n2(a0,i),u=r2[c.placedSide];return n.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:n.jsx(JC,{...l,ref:s,style:{...l.style,display:"block"}})})});i0.displayName=a0;function s2(e){return e!==null}var a2=e=>({name:"transformOrigin",options:e,fn(t){const{placement:s,rects:i,middlewareData:l}=t,u=l.arrow?.centerOffset!==0,f=u?0:e.arrowWidth,h=u?0:e.arrowHeight,[p,v]=o0(s),b={start:"0%",center:"50%",end:"100%"}[v],N=(l.arrow?.x??0)+f/2,_=(l.arrow?.y??0)+h/2;let E="",w="";return p==="bottom"?(E=u?b:`${N}px`,w=`${-h}px`):p==="top"?(E=u?b:`${N}px`,w=`${i.floating.height+h}px`):p==="right"?(E=`${-h}px`,w=u?b:`${_}px`):p==="left"&&(E=`${i.floating.width+h}px`,w=u?b:`${_}px`),{data:{x:E,y:w}}}});function o0(e){const[t,s="center"]=e.split("-");return[t,s]}var i2=t0,l0=r0,c0=s0,d0=i0,[Sd]=Er("Tooltip",[Nd]),tp=Nd(),u0="TooltipProvider",o2=700,Vx="tooltip.open",[l2,f0]=Sd(u0),m0=e=>{const{__scopeTooltip:t,delayDuration:s=o2,skipDelayDuration:i=300,disableHoverableContent:l=!1,children:c}=e,u=x.useRef(!0),f=x.useRef(!1),h=x.useRef(0);return x.useEffect(()=>{const p=h.current;return()=>window.clearTimeout(p)},[]),n.jsx(l2,{scope:t,isOpenDelayedRef:u,delayDuration:s,onOpen:x.useCallback(()=>{window.clearTimeout(h.current),u.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>u.current=!0,i)},[i]),isPointerInTransitRef:f,onPointerInTransitChange:x.useCallback(p=>{f.current=p},[]),disableHoverableContent:l,children:c})};m0.displayName=u0;var p0="Tooltip",[ER,kd]=Sd(p0),gm="TooltipTrigger",c2=x.forwardRef((e,t)=>{const{__scopeTooltip:s,...i}=e,l=kd(gm,s),c=f0(gm,s),u=tp(s),f=x.useRef(null),h=st(t,f,l.onTriggerChange),p=x.useRef(!1),v=x.useRef(!1),b=x.useCallback(()=>p.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",b),[b]),n.jsx(l0,{asChild:!0,...u,children:n.jsx(qe.button,{"aria-describedby":l.open?l.contentId:void 0,"data-state":l.stateAttribute,...i,ref:h,onPointerMove:Ce(e.onPointerMove,N=>{N.pointerType!=="touch"&&!v.current&&!c.isPointerInTransitRef.current&&(l.onTriggerEnter(),v.current=!0)}),onPointerLeave:Ce(e.onPointerLeave,()=>{l.onTriggerLeave(),v.current=!1}),onPointerDown:Ce(e.onPointerDown,()=>{l.open&&l.onClose(),p.current=!0,document.addEventListener("pointerup",b,{once:!0})}),onFocus:Ce(e.onFocus,()=>{p.current||l.onOpen()}),onBlur:Ce(e.onBlur,l.onClose),onClick:Ce(e.onClick,l.onClose)})})});c2.displayName=gm;var d2="TooltipPortal",[TR,u2]=Sd(d2,{forceMount:void 0}),Si="TooltipContent",h0=x.forwardRef((e,t)=>{const s=u2(Si,e.__scopeTooltip),{forceMount:i=s.forceMount,side:l="top",...c}=e,u=kd(Si,e.__scopeTooltip);return n.jsx(ir,{present:i||u.open,children:u.disableHoverableContent?n.jsx(g0,{side:l,...c,ref:t}):n.jsx(f2,{side:l,...c,ref:t})})}),f2=x.forwardRef((e,t)=>{const s=kd(Si,e.__scopeTooltip),i=f0(Si,e.__scopeTooltip),l=x.useRef(null),c=st(t,l),[u,f]=x.useState(null),{trigger:h,onClose:p}=s,v=l.current,{onPointerInTransitChange:b}=i,N=x.useCallback(()=>{f(null),b(!1)},[b]),_=x.useCallback((E,w)=>{const S=E.currentTarget,k={x:E.clientX,y:E.clientY},C=x2(k,S.getBoundingClientRect()),R=v2(k,C),P=y2(w.getBoundingClientRect()),O=b2([...R,...P]);f(O),b(!0)},[b]);return x.useEffect(()=>()=>N(),[N]),x.useEffect(()=>{if(h&&v){const E=S=>_(S,v),w=S=>_(S,h);return h.addEventListener("pointerleave",E),v.addEventListener("pointerleave",w),()=>{h.removeEventListener("pointerleave",E),v.removeEventListener("pointerleave",w)}}},[h,v,_,N]),x.useEffect(()=>{if(u){const E=w=>{const S=w.target,k={x:w.clientX,y:w.clientY},C=h?.contains(S)||v?.contains(S),R=!w2(k,u);C?N():R&&(N(),p())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[h,v,u,p,N]),n.jsx(g0,{...e,ref:c})}),[m2,p2]=Sd(p0,{isInside:!1}),h2=mS("TooltipContent"),g0=x.forwardRef((e,t)=>{const{__scopeTooltip:s,children:i,"aria-label":l,onEscapeKeyDown:c,onPointerDownOutside:u,...f}=e,h=kd(Si,s),p=tp(s),{onClose:v}=h;return x.useEffect(()=>(document.addEventListener(Vx,v),()=>document.removeEventListener(Vx,v)),[v]),x.useEffect(()=>{if(h.trigger){const b=N=>{N.target?.contains(h.trigger)&&v()};return window.addEventListener("scroll",b,{capture:!0}),()=>window.removeEventListener("scroll",b,{capture:!0})}},[h.trigger,v]),n.jsx(il,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:b=>b.preventDefault(),onDismiss:v,children:n.jsxs(c0,{"data-state":h.stateAttribute,...p,...f,ref:t,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(h2,{children:i}),n.jsx(m2,{scope:s,isInside:!0,children:n.jsx(AS,{id:h.contentId,role:"tooltip",children:l||i})})]})})});h0.displayName=Si;var x0="TooltipArrow",g2=x.forwardRef((e,t)=>{const{__scopeTooltip:s,...i}=e,l=tp(s);return p2(x0,s).isInside?null:n.jsx(d0,{...l,...i,ref:t})});g2.displayName=x0;function x2(e,t){const s=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),l=Math.abs(t.right-e.x),c=Math.abs(t.left-e.x);switch(Math.min(s,i,l,c)){case c:return"left";case l:return"right";case s:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function v2(e,t,s=5){const i=[];switch(t){case"top":i.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":i.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":i.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":i.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s});break}return i}function y2(e){const{top:t,right:s,bottom:i,left:l}=e;return[{x:l,y:t},{x:s,y:t},{x:s,y:i},{x:l,y:i}]}function w2(e,t){const{x:s,y:i}=e;let l=!1;for(let c=0,u=t.length-1;c<t.length;u=c++){const f=t[c].x,h=t[c].y,p=t[u].x,v=t[u].y;h>i!=v>i&&s<(p-f)*(i-h)/(v-h)+f&&(l=!l)}return l}function b2(e){const t=e.slice();return t.sort((s,i)=>s.x<i.x?-1:s.x>i.x?1:s.y<i.y?-1:s.y>i.y?1:0),j2(t)}function j2(e){if(e.length<=1)return e.slice();const t=[];for(let i=0;i<e.length;i++){const l=e[i];for(;t.length>=2;){const c=t[t.length-1],u=t[t.length-2];if((c.x-u.x)*(l.y-u.y)>=(c.y-u.y)*(l.x-u.x))t.pop();else break}t.push(l)}t.pop();const s=[];for(let i=e.length-1;i>=0;i--){const l=e[i];for(;s.length>=2;){const c=s[s.length-1],u=s[s.length-2];if((c.x-u.x)*(l.y-u.y)>=(c.y-u.y)*(l.x-u.x))s.pop();else break}s.push(l)}return s.pop(),t.length===1&&s.length===1&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}var N2=m0,v0=h0;const S2=N2,k2=x.forwardRef(({className:e,sideOffset:t=4,...s},i)=>n.jsx(v0,{ref:i,sideOffset:t,className:we("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));k2.displayName=v0.displayName;const C2=6e4,y0=x.createContext(null),li="legend_of_valor_session";function _2({children:e}){const[t,s]=x.useState(null),[i,l]=x.useState([]),[c,u]=x.useState(!0),{toast:f}=Qn(),h=x.useRef(null);x.useEffect(()=>{h.current=t?.id??null},[t]),x.useEffect(()=>{(async()=>{const C=localStorage.getItem(li);if(!C){u(!1);return}try{const{accountId:R}=JSON.parse(C);if(!R){u(!1);return}const P=await fetch(`/api/accounts/${R}`);if(P.ok){const O=await P.json();if(s(O),O.role==="player"){const G=await fetch(`/api/accounts/${O.id}/inventory`);if(G.ok){const q=await G.json();l(q)}}}else localStorage.removeItem(li)}catch(R){console.error("Failed to restore session:",R),localStorage.removeItem(li)}finally{u(!1)}})()},[]);const p=x.useCallback(k=>{s(k),k&&localStorage.setItem(li,JSON.stringify({accountId:k.id})),k||l([])},[]),v=x.useCallback(async(k,C,R)=>{u(!0);try{const P=await fetch("/api/accounts/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:k,password:C,role:R})});if(!P.ok)return{account:null,error:(await P.json()).error||"Login failed"};const O=await P.json();if(s(O),localStorage.setItem(li,JSON.stringify({accountId:O.id})),O&&R==="player"){const q=await(await fetch(`/api/accounts/${O.id}/inventory`)).json();l(q)}return{account:O}}catch(P){return console.error("Login failed:",P),{account:null,error:"Connection error"}}finally{u(!1)}},[]),b=x.useCallback(async()=>{if(t)try{const C=await(await fetch(`/api/accounts/${t.id}/inventory`)).json();l(C)}catch(k){console.error("Failed to refresh inventory:",k)}},[t]),N=x.useCallback(async()=>{const k=h.current;if(k)try{const C=await fetch(`/api/accounts/${k}`);if(C.ok){const R=await C.json();s(R)}}catch(C){console.error("Failed to refresh account:",C)}},[]),_=x.useCallback(k=>{if(!t||t.gold<k)return!1;const C=t.gold-k;return s(R=>R?{...R,gold:C}:null),he("PATCH",`/api/accounts/${t.id}/gold`,{gold:C}).catch(console.error),!0},[t]),E=x.useCallback(k=>{if(!t)return;const C=t.gold+k;s(R=>R?{...R,gold:C}:null),he("PATCH",`/api/accounts/${t.id}/gold`,{gold:C}).catch(console.error)},[t]),w=x.useCallback(async k=>{if(!t||t.gold<k.price)return!1;const C=t.gold-k.price;s(R=>R?{...R,gold:C}:null);try{const[,R]=await Promise.all([he("PATCH",`/api/accounts/${t.id}/gold`,{gold:C}),he("POST",`/api/accounts/${t.id}/inventory`,{itemId:k.id})]),P=await R.json();return l(O=>[...O,P]),ce.invalidateQueries({queryKey:["/api/accounts",t.id,"inventory"]}),!0}catch(R){return console.error("Failed to add to inventory:",R),s(P=>P?{...P,gold:P.gold+k.price}:null),!1}},[t]),S=x.useCallback(async()=>{if(t)try{await fetch(`/api/accounts/${t.id}/logout`,{method:"POST"})}catch(k){console.error("Logout failed:",k)}localStorage.removeItem(li),s(null),l([])},[t]);return x.useEffect(()=>{if(!t)return;const C=setInterval(async()=>{try{await fetch(`/api/accounts/${t.id}/heartbeat`,{method:"POST"})}catch(R){console.error("Heartbeat failed:",R)}},C2);return()=>clearInterval(C)},[t]),x.useEffect(()=>{if(!t||t.role!=="player")return;const k=new EventSource(`/api/player/events?playerId=${t.id}`);return k.addEventListener("mandatoryEventRegistration",C=>{try{const R=JSON.parse(C.data);f({title:"Mandatory Event Registration",description:R.message}),ce.invalidateQueries({queryKey:["/api/events"]}),ce.invalidateQueries({queryKey:["/api/accounts",t.id,"events"]})}catch(R){console.error("Failed to parse event data:",R)}}),k.addEventListener("newChallenge",C=>{try{const P=JSON.parse(C.data).challengerName||"A player";f({title:"New Challenge!",description:`${P} has sent you a challenge! Do you accept?`,duration:1e4}),ce.invalidateQueries({queryKey:["/api/challenges",t.id]})}catch(R){console.error("Failed to parse challenge data:",R)}}),k.addEventListener("challengeAccepted",C=>{try{const R=JSON.parse(C.data);f({title:"Challenge Accepted!",description:R.message,duration:5e3}),ce.invalidateQueries({queryKey:["/api/challenges",t.id]})}catch(R){console.error("Failed to parse challenge data:",R)}}),k.addEventListener("challengeDeclined",C=>{try{const R=JSON.parse(C.data);f({title:"Challenge Declined",description:R.message}),ce.invalidateQueries({queryKey:["/api/challenges",t.id]})}catch(R){console.error("Failed to parse challenge data:",R)}}),k.addEventListener("challengeResult",C=>{try{const R=JSON.parse(C.data);f({title:R.result==="won"?"Victory!":"Defeat",description:R.message,duration:5e3}),ce.invalidateQueries({queryKey:["/api/challenges",t.id]}),ce.invalidateQueries({queryKey:["/api/accounts"]}),N()}catch(R){console.error("Failed to parse challenge result:",R)}}),k.addEventListener("auction_ended",C=>{try{JSON.parse(C.data).winnerId===t.id&&f({title:"Auction Won!",description:"You won the auction! The skill has been added to your collection.",duration:8e3}),ce.invalidateQueries({queryKey:["/api/accounts",t.id,"skills"]}),ce.invalidateQueries({queryKey:["/api/auctions/active"]}),N()}catch(R){console.error("Failed to parse auction_ended data:",R)}}),k.addEventListener("auction_bid",C=>{try{ce.invalidateQueries({queryKey:["/api/auctions/active"]})}catch(R){console.error("Failed to parse auction_bid data:",R)}}),k.addEventListener("auction_started",C=>{try{const R=JSON.parse(C.data);f({title:"New Auction Started!",description:"A new skill auction has begun!",duration:5e3}),ce.invalidateQueries({queryKey:["/api/auctions/active"]})}catch(R){console.error("Failed to parse auction_started data:",R)}}),k.addEventListener("guildBattleComplete",C=>{try{const R=JSON.parse(C.data);f({title:"Guild Battle Complete!",description:R.winnerName?`${R.winnerName} won the battle!`:"The battle ended in a tie!",duration:5e3}),ce.invalidateQueries({queryKey:["/api/leaderboards/guild_wins"]}),ce.invalidateQueries({queryKey:["/api/guilds"]})}catch(R){console.error("Failed to parse guildBattleComplete data:",R)}}),k.onerror=()=>{k.close()},()=>{k.close()}},[t,f]),n.jsx(y0.Provider,{value:{account:t,inventory:i,isLoading:c,setAccount:p,setInventory:l,addToInventory:w,spendGold:_,addGold:E,logout:S,login:v,refreshInventory:b},children:e})}function Wn(){const e=x.useContext(y0);if(!e)throw new Error("useGame must be used within a GameProvider");return e}const P2=yd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),I=x.forwardRef(({className:e,variant:t,size:s,asChild:i=!1,...l},c)=>{const u=i?uS:"button";return n.jsx(u,{className:we(P2({variant:t,size:s,className:e})),ref:c,...l})});I.displayName="Button";const tt=x.forwardRef(({className:e,type:t,...s},i)=>n.jsx("input",{type:t,className:we("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...s}));tt.displayName="Input";const Te=x.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:we("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));Te.displayName="Card";const He=x.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:we("flex flex-col space-y-1.5 p-6",e),...t}));He.displayName="CardHeader";const We=x.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:we("text-2xl font-semibold leading-none tracking-tight",e),...t}));We.displayName="CardTitle";const un=x.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:we("text-sm text-muted-foreground",e),...t}));un.displayName="CardDescription";const Le=x.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:we("p-6 pt-0",e),...t}));Le.displayName="CardContent";const Yc=x.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:we("flex items-center p-6 pt-0",e),...t}));Yc.displayName="CardFooter";var E2="Label",w0=x.forwardRef((e,t)=>n.jsx(qe.label,{...e,ref:t,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));w0.displayName=E2;var b0=w0;const T2=yd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Me=x.forwardRef(({className:e,...t},s)=>n.jsx(b0,{ref:s,className:we(T2(),e),...t}));Me.displayName=b0.displayName;function I2(){const[,e]=Un(),{login:t,isLoading:s}=Wn(),[i,l]=x.useState(""),[c,u]=x.useState(""),[f,h]=x.useState(""),[p,v]=x.useState(""),[b,N]=x.useState("none"),[_,E]=x.useState(""),w=async()=>{if(!i.trim()||!c)return;E("");const k=await t(i.trim(),c,"player");k.account?e("/shop"):E(k.error||"Login failed")},S=async()=>{if(!f.trim()||!p)return;E("");const k=await t(f.trim(),p,"admin");k.account?e("/admin"):E(k.error||"Login failed")};return n.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-background to-accent/20",style:{backgroundImage:`
            radial-gradient(ellipse at 20% 30%, hsl(var(--tier-super-rare) / 0.1) 0%, transparent 50%),
            radial-gradient(ellipse at 80% 70%, hsl(var(--tier-x) / 0.15) 0%, transparent 50%),
            radial-gradient(ellipse at 50% 50%, hsl(var(--primary) / 0.05) 0%, transparent 70%)
          `}}),n.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[n.jsx("header",{className:"p-6 flex items-center justify-center",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Us,{className:"w-8 h-8 text-primary"}),n.jsx("h1",{className:"font-serif text-2xl font-bold tracking-wider text-foreground",children:"LEGEND OF VALOR"}),n.jsx(Us,{className:"w-8 h-8 text-primary transform scale-x-[-1]"})]})}),n.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center px-4 pb-20",children:[n.jsxs("div",{className:"text-center mb-12 max-w-2xl",children:[n.jsxs("h2",{className:"font-serif text-4xl md:text-5xl font-bold text-foreground mb-4",children:["Forge Your ",n.jsx("span",{className:"text-primary",children:"Legend"})]}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Discover legendary weapons, armor, and artifacts. Trade with other adventurers and build your ultimate arsenal."})]}),n.jsxs("div",{className:"flex flex-wrap justify-center gap-6 mb-12",children:[n.jsx(Pc,{icon:n.jsx(Us,{className:"w-6 h-6 text-stat-str"}),title:"Epic Weapons",description:"From common blades to legendary artifacts"}),n.jsx(Pc,{icon:n.jsx(tn,{className:"w-6 h-6 text-stat-int"}),title:"Mythic Armor",description:"Protection worthy of the gods"}),n.jsx(Pc,{icon:n.jsx(qs,{className:"w-6 h-6 text-stat-luck"}),title:"Rare Accessories",description:"Rings, amulets, and enchanted trinkets"}),n.jsx(Pc,{icon:n.jsx(kt,{className:"w-6 h-6 text-tier-ssumr"}),title:"5 Rarity Tiers",description:"Normal to SSUMR legendary items"})]}),b==="none"?n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs(I,{size:"lg",onClick:()=>N("player"),className:"min-w-[200px] font-serif","data-testid":"button-start-player",children:[n.jsx(Ks,{className:"w-5 h-5 mr-2"}),"Start as Player"]}),n.jsxs(I,{size:"lg",variant:"outline",onClick:()=>N("admin"),className:"min-w-[200px] font-serif","data-testid":"button-start-admin",children:[n.jsx(ds,{className:"w-5 h-5 mr-2"}),"Admin Login"]})]}):n.jsxs(Te,{className:"w-full max-w-sm",children:[n.jsxs(He,{children:[n.jsx(We,{className:"font-serif flex items-center gap-2",children:b==="player"?n.jsxs(n.Fragment,{children:[n.jsx(Ks,{className:"w-5 h-5 text-primary"}),"Player Login"]}):n.jsxs(n.Fragment,{children:[n.jsx(ds,{className:"w-5 h-5 text-tier-x"}),"Admin Login"]})}),n.jsx(un,{children:b==="player"?"Enter your adventurer name to begin":"Access the admin control panel"})]}),n.jsx(Le,{children:n.jsxs("form",{onSubmit:k=>{k.preventDefault(),b==="player"?w():S()},className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{htmlFor:"username",children:"Username"}),n.jsx(tt,{id:"username",placeholder:b==="player"?"Enter adventurer name...":"Enter admin name...",value:b==="player"?i:f,onChange:k=>b==="player"?l(k.target.value):h(k.target.value),autoFocus:!0,disabled:s,"data-testid":"input-username"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{htmlFor:"password",children:"Password"}),n.jsx(tt,{id:"password",type:"password",placeholder:"Enter password...",value:b==="player"?c:p,onChange:k=>b==="player"?u(k.target.value):v(k.target.value),disabled:s,"data-testid":"input-password"})]}),_&&n.jsx("p",{className:"text-sm text-destructive","data-testid":"text-login-error",children:_}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(I,{type:"button",variant:"outline",onClick:()=>{N("none"),E("")},className:"flex-1",disabled:s,"data-testid":"button-cancel",children:"Back"}),n.jsx(I,{type:"submit",className:"flex-1",disabled:s,"data-testid":"button-login",children:s?n.jsx(lk,{className:"w-4 h-4 animate-spin"}):b==="player"?"Enter World":"Login"})]})]})})]})]}),n.jsx("footer",{className:"p-6 text-center text-muted-foreground text-sm",children:n.jsx("p",{children:"Legend of Valor - An Epic RPG Item Trading Experience"})})]})]})}function Pc({icon:e,title:t,description:s}){return n.jsxs("div",{className:"flex flex-col items-center text-center p-4 rounded-lg bg-card/50 border border-border w-40",children:[n.jsx("div",{className:"p-2 rounded-md bg-secondary/50 mb-2",children:e}),n.jsx("h3",{className:"font-serif font-semibold text-sm mb-1",children:t}),n.jsx("p",{className:"text-xs text-muted-foreground",children:s})]})}const ee=Symbol.for("drizzle:entityKind");function dn(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,ee))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let s=Object.getPrototypeOf(e).constructor;if(s)for(;s;){if(ee in s&&s[ee]===t[ee])return!0;s=Object.getPrototypeOf(s)}return!1}class Uo{constructor(t,s){this.table=t,this.config=s,this.name=s.name,this.keyAsName=s.keyAsName,this.notNull=s.notNull,this.default=s.default,this.defaultFn=s.defaultFn,this.onUpdateFn=s.onUpdateFn,this.hasDefault=s.hasDefault,this.primary=s.primaryKey,this.isUnique=s.isUnique,this.uniqueName=s.uniqueName,this.uniqueType=s.uniqueType,this.dataType=s.dataType,this.columnType=s.columnType,this.generated=s.generated,this.generatedIdentity=s.generatedIdentity}static[ee]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class R2{static[ee]="ColumnBuilder";config;constructor(t,s,i){this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:s,columnType:i,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}const vi=Symbol.for("drizzle:Name");class A2{static[ee]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(t,s){this.reference=()=>{const{name:i,columns:l,foreignColumns:c}=t();return{name:i,columns:l,foreignTable:c[0].table,foreignColumns:c}},s&&(this._onUpdate=s.onUpdate,this._onDelete=s.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new L2(t,this)}}class L2{constructor(t,s){this.table=t,this.reference=s.reference,this.onUpdate=s._onUpdate,this.onDelete=s._onDelete}static[ee]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:t,columns:s,foreignColumns:i}=this.reference(),l=s.map(f=>f.name),c=i.map(f=>f.name),u=[this.table[vi],...l,i[0].table[vi],...c];return t??`${u.join("_")}_fk`}}function D2(e,...t){return e(...t)}function M2(e,t){return`${e[vi]}_${t.join("_")}_unique`}function qx(e,t,s){for(let i=t;i<e.length;i++){const l=e[i];if(l==="\\"){i++;continue}if(l==='"')return[e.slice(t,i).replace(/\\/g,""),i+1];if(!s&&(l===","||l==="}"))return[e.slice(t,i).replace(/\\/g,""),i]}return[e.slice(t).replace(/\\/g,""),e.length]}function j0(e,t=0){const s=[];let i=t,l=!1;for(;i<e.length;){const c=e[i];if(c===","){(l||i===t)&&s.push(""),l=!0,i++;continue}if(l=!1,c==="\\"){i+=2;continue}if(c==='"'){const[h,p]=qx(e,i+1,!0);s.push(h),i=p;continue}if(c==="}")return[s,i+1];if(c==="{"){const[h,p]=j0(e,i+1);s.push(h),i=p;continue}const[u,f]=qx(e,i,!1);s.push(u),i=f}return[s,i]}function O2(e){const[t]=j0(e,1);return t}function N0(e){return`{${e.map(t=>Array.isArray(t)?N0(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}class at extends R2{foreignKeyConfigs=[];static[ee]="PgColumnBuilder";array(t){return new z2(this.config.name,this,t)}references(t,s={}){return this.foreignKeyConfigs.push({ref:t,actions:s}),this}unique(t,s){return this.config.isUnique=!0,this.config.uniqueName=t,this.config.uniqueType=s?.nulls,this}generatedAlwaysAs(t){return this.config.generated={as:t,type:"always",mode:"stored"},this}buildForeignKeys(t,s){return this.foreignKeyConfigs.map(({ref:i,actions:l})=>D2((c,u)=>{const f=new A2(()=>{const h=c();return{columns:[t],foreignColumns:[h]}});return u.onUpdate&&f.onUpdate(u.onUpdate),u.onDelete&&f.onDelete(u.onDelete),f.build(s)},i,l))}buildExtraConfigColumn(t){return new F2(t,this.config)}}class Ye extends Uo{constructor(t,s){s.uniqueName||(s.uniqueName=M2(t,[s.name])),super(t,s),this.table=t}static[ee]="PgColumn"}class F2 extends Ye{static[ee]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(t){return this.indexConfig.opClass=t,this}}class z2 extends at{static[ee]="PgArrayBuilder";constructor(t,s,i){super(t,"array","PgArray"),this.config.baseBuilder=s,this.config.size=i}build(t){const s=this.config.baseBuilder.build(t);return new np(t,this.config,s)}}class np extends Ye{constructor(t,s,i,l){super(t,s),this.baseColumn=i,this.range=l,this.size=s.size}size;static[ee]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(t){return typeof t=="string"&&(t=O2(t)),t.map(s=>this.baseColumn.mapFromDriverValue(s))}mapToDriverValue(t,s=!1){const i=t.map(l=>l===null?null:dn(this.baseColumn,np)?this.baseColumn.mapToDriverValue(l,!0):this.baseColumn.mapToDriverValue(l));return s?i:N0(i)}}const Ux=Symbol.for("drizzle:isPgEnum");function $2(e){return!!e&&typeof e=="function"&&Ux in e&&e[Ux]===!0}class S0{static[ee]="Subquery";constructor(t,s,i,l=!1){this._={brand:"Subquery",sql:t,selectedFields:s,alias:i,isWith:l}}}const B2={startActiveSpan(e,t){return t()}},yi=Symbol.for("drizzle:ViewBaseConfig"),Of=Symbol.for("drizzle:Schema"),Qx=Symbol.for("drizzle:Columns"),Wx=Symbol.for("drizzle:ExtraConfigColumns"),Ff=Symbol.for("drizzle:OriginalName"),zf=Symbol.for("drizzle:BaseName"),Xc=Symbol.for("drizzle:IsAlias"),Hx=Symbol.for("drizzle:ExtraConfigBuilder"),k0=Symbol.for("drizzle:IsDrizzleTable");let Bn=class{static[ee]="Table";static Symbol={Name:vi,Schema:Of,OriginalName:Ff,Columns:Qx,ExtraConfigColumns:Wx,BaseName:zf,IsAlias:Xc,ExtraConfigBuilder:Hx};[vi];[Ff];[Of];[Qx];[Wx];[zf];[Xc]=!1;[k0]=!0;[Hx]=void 0;constructor(t,s,i){this[vi]=this[Ff]=t,this[Of]=s,this[zf]=i}};function C0(e){return typeof e=="object"&&e!==null&&k0 in e}function V2(e){return e!=null&&typeof e.getSQL=="function"}function q2(e){const t={sql:"",params:[]};for(const s of e)t.sql+=s.sql,t.params.push(...s.params),s.typings?.length&&(t.typings||(t.typings=[]),t.typings.push(...s.typings));return t}class xr{static[ee]="StringChunk";value;constructor(t){this.value=Array.isArray(t)?t:[t]}getSQL(){return new Ot([this])}}class Ot{constructor(t){this.queryChunks=t}static[ee]="SQL";decoder=_0;shouldInlineParams=!1;append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return B2.startActiveSpan("drizzle.buildSQL",s=>{const i=this.buildQueryFromSourceParams(this.queryChunks,t);return s?.setAttributes({"drizzle.query.text":i.sql,"drizzle.query.params":JSON.stringify(i.params)}),i})}buildQueryFromSourceParams(t,s){const i=Object.assign({},s,{inlineParams:s.inlineParams||this.shouldInlineParams,paramStartIndex:s.paramStartIndex||{value:0}}),{casing:l,escapeName:c,escapeParam:u,prepareTyping:f,inlineParams:h,paramStartIndex:p}=i;return q2(t.map(v=>{if(dn(v,xr))return{sql:v.value.join(""),params:[]};if(dn(v,xm))return{sql:c(v.value),params:[]};if(v===void 0)return{sql:"",params:[]};if(Array.isArray(v)){const b=[new xr("(")];for(const[N,_]of v.entries())b.push(_),N<v.length-1&&b.push(new xr(", "));return b.push(new xr(")")),this.buildQueryFromSourceParams(b,i)}if(dn(v,Ot))return this.buildQueryFromSourceParams(v.queryChunks,{...i,inlineParams:h||v.shouldInlineParams});if(dn(v,Bn)){const b=v[Bn.Symbol.Schema],N=v[Bn.Symbol.Name];return{sql:b===void 0||v[Xc]?c(N):c(b)+"."+c(N),params:[]}}if(dn(v,Uo)){const b=l.getColumnCasing(v);if(s.invokeSource==="indexes")return{sql:c(b),params:[]};const N=v.table[Bn.Symbol.Schema];return{sql:v.table[Xc]||N===void 0?c(v.table[Bn.Symbol.Name])+"."+c(b):c(N)+"."+c(v.table[Bn.Symbol.Name])+"."+c(b),params:[]}}if(dn(v,U2)){const b=v[yi].schema,N=v[yi].name;return{sql:b===void 0||v[yi].isAlias?c(N):c(b)+"."+c(N),params:[]}}if(dn(v,E0)){if(dn(v.value,vm))return{sql:u(p.value++,v),params:[v],typings:["none"]};const b=v.value===null?null:v.encoder.mapToDriverValue(v.value);if(dn(b,Ot))return this.buildQueryFromSourceParams([b],i);if(h)return{sql:this.mapInlineParam(b,i),params:[]};let N=["none"];return f&&(N=[f(v.encoder)]),{sql:u(p.value++,b),params:[b],typings:N}}return dn(v,vm)?{sql:u(p.value++,v),params:[v],typings:["none"]}:dn(v,Ot.Aliased)&&v.fieldAlias!==void 0?{sql:c(v.fieldAlias),params:[]}:dn(v,S0)?v._.isWith?{sql:c(v._.alias),params:[]}:this.buildQueryFromSourceParams([new xr("("),v._.sql,new xr(") "),new xm(v._.alias)],i):$2(v)?v.schema?{sql:c(v.schema)+"."+c(v.enumName),params:[]}:{sql:c(v.enumName),params:[]}:V2(v)?v.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([v.getSQL()],i):this.buildQueryFromSourceParams([new xr("("),v.getSQL(),new xr(")")],i):h?{sql:this.mapInlineParam(v,i),params:[]}:{sql:u(p.value++,v),params:[v],typings:["none"]}}))}mapInlineParam(t,{escapeString:s}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return s(t);if(typeof t=="object"){const i=t.toString();return s(i==="[object Object]"?JSON.stringify(t):i)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new Ot.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}}class xm{constructor(t){this.value=t}static[ee]="Name";brand;getSQL(){return new Ot([this])}}const _0={mapFromDriverValue:e=>e},P0={mapToDriverValue:e=>e};({..._0,...P0});class E0{constructor(t,s=P0){this.value=t,this.encoder=s}static[ee]="Param";brand;getSQL(){return new Ot([this])}}function _t(e,...t){const s=[];(t.length>0||e.length>0&&e[0]!=="")&&s.push(new xr(e[0]));for(const[i,l]of t.entries())s.push(l,new xr(e[i+1]));return new Ot(s)}(e=>{function t(){return new Ot([])}e.empty=t;function s(h){return new Ot(h)}e.fromList=s;function i(h){return new Ot([new xr(h)])}e.raw=i;function l(h,p){const v=[];for(const[b,N]of h.entries())b>0&&p!==void 0&&v.push(p),v.push(N);return new Ot(v)}e.join=l;function c(h){return new xm(h)}e.identifier=c;function u(h){return new vm(h)}e.placeholder=u;function f(h,p){return new E0(h,p)}e.param=f})(_t||(_t={}));(e=>{class t{constructor(i,l){this.sql=i,this.fieldAlias=l}static[ee]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new t(this.sql,this.fieldAlias)}}e.Aliased=t})(Ot||(Ot={}));class vm{constructor(t){this.name=t}static[ee]="Placeholder";getSQL(){return new Ot([this])}}const T0=Symbol.for("drizzle:IsDrizzleView");class U2{static[ee]="View";[yi];[T0]=!0;constructor({name:t,schema:s,selectedFields:i,query:l}){this[yi]={name:t,originalName:t,schema:s,selectedFields:i,query:l,isExisting:!l,isAlias:!1}}getSQL(){return new Ot([this])}}function Q2(e){return typeof e=="object"&&e!==null&&T0 in e}Uo.prototype.getSQL=function(){return new Ot([this])};Bn.prototype.getSQL=function(){return new Ot([this])};S0.prototype.getSQL=function(){return new Ot([this])};function W2(e){return e[Bn.Symbol.Columns]}function H2(e){return e[yi].selectedFields}function nn(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}class Cd extends at{static[ee]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(t){if(t){const{name:s,...i}=t;this.config.generatedIdentity={type:"always",sequenceName:s,sequenceOptions:i}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:s,...i}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:s,sequenceOptions:i}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class G2 extends Cd{static[ee]="PgBigInt53Builder";constructor(t){super(t,"number","PgBigInt53")}build(t){return new K2(t,this.config)}}class K2 extends Ye{static[ee]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}class Z2 extends Cd{static[ee]="PgBigInt64Builder";constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new Y2(t,this.config)}}class Y2 extends Ye{static[ee]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}function $s(e,t){const{name:s,config:i}=nn(e,t);return i.mode==="number"?new G2(s):new Z2(s)}class X2 extends at{static[ee]="PgBigSerial53Builder";constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new J2(t,this.config)}}class J2 extends Ye{static[ee]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}class e_ extends at{static[ee]="PgBigSerial64Builder";constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new t_(t,this.config)}}class t_ extends Ye{static[ee]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}function n_(e,t){const{name:s,config:i}=nn(e,t);return i.mode==="number"?new X2(s):new e_(s)}class r_ extends at{static[ee]="PgBooleanBuilder";constructor(t){super(t,"boolean","PgBoolean")}build(t){return new s_(t,this.config)}}class s_ extends Ye{static[ee]="PgBoolean";getSQLType(){return"boolean"}}function ki(e){return new r_(e??"")}class a_ extends at{static[ee]="PgCharBuilder";constructor(t,s){super(t,"string","PgChar"),this.config.length=s.length,this.config.enumValues=s.enum}build(t){return new i_(t,this.config)}}class i_ extends Ye{static[ee]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function o_(e,t={}){const{name:s,config:i}=nn(e,t);return new a_(s,i)}class l_ extends at{static[ee]="PgCidrBuilder";constructor(t){super(t,"string","PgCidr")}build(t){return new c_(t,this.config)}}class c_ extends Ye{static[ee]="PgCidr";getSQLType(){return"cidr"}}function d_(e){return new l_(e??"")}class u_ extends at{static[ee]="PgCustomColumnBuilder";constructor(t,s,i){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=s,this.config.customTypeParams=i}build(t){return new f_(t,this.config)}}class f_ extends Ye{static[ee]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(t,s){super(t,s),this.sqlName=s.customTypeParams.dataType(s.fieldConfig),this.mapTo=s.customTypeParams.toDriver,this.mapFrom=s.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(t){return typeof this.mapFrom=="function"?this.mapFrom(t):t}mapToDriverValue(t){return typeof this.mapTo=="function"?this.mapTo(t):t}}function m_(e){return(t,s)=>{const{name:i,config:l}=nn(t,s);return new u_(i,l,e)}}class cl extends at{static[ee]="PgDateColumnBaseBuilder";defaultNow(){return this.default(_t`now()`)}}class p_ extends cl{static[ee]="PgDateBuilder";constructor(t){super(t,"date","PgDate")}build(t){return new h_(t,this.config)}}class h_ extends Ye{static[ee]="PgDate";getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}class g_ extends cl{static[ee]="PgDateStringBuilder";constructor(t){super(t,"string","PgDateString")}build(t){return new x_(t,this.config)}}class x_ extends Ye{static[ee]="PgDateString";getSQLType(){return"date"}}function v_(e,t){const{name:s,config:i}=nn(e,t);return i?.mode==="date"?new p_(s):new g_(s)}class y_ extends at{static[ee]="PgDoublePrecisionBuilder";constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new w_(t,this.config)}}class w_ extends Ye{static[ee]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}function b_(e){return new y_(e??"")}class j_ extends at{static[ee]="PgInetBuilder";constructor(t){super(t,"string","PgInet")}build(t){return new N_(t,this.config)}}class N_ extends Ye{static[ee]="PgInet";getSQLType(){return"inet"}}function S_(e){return new j_(e??"")}class k_ extends Cd{static[ee]="PgIntegerBuilder";constructor(t){super(t,"number","PgInteger")}build(t){return new C_(t,this.config)}}class C_ extends Ye{static[ee]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}function wn(e){return new k_(e??"")}class __ extends at{static[ee]="PgIntervalBuilder";constructor(t,s){super(t,"string","PgInterval"),this.config.intervalConfig=s}build(t){return new P_(t,this.config)}}class P_ extends Ye{static[ee]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const t=this.fields?` ${this.fields}`:"",s=this.precision?`(${this.precision})`:"";return`interval${t}${s}`}}function E_(e,t={}){const{name:s,config:i}=nn(e,t);return new __(s,i)}class T_ extends at{static[ee]="PgJsonBuilder";constructor(t){super(t,"json","PgJson")}build(t){return new I_(t,this.config)}}class I_ extends Ye{static[ee]="PgJson";constructor(t,s){super(t,s)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}function R_(e){return new T_(e??"")}class A_ extends at{static[ee]="PgJsonbBuilder";constructor(t){super(t,"json","PgJsonb")}build(t){return new L_(t,this.config)}}class L_ extends Ye{static[ee]="PgJsonb";constructor(t,s){super(t,s)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}function sr(e){return new A_(e??"")}class D_ extends at{static[ee]="PgLineBuilder";constructor(t){super(t,"array","PgLine")}build(t){return new M_(t,this.config)}}class M_ extends Ye{static[ee]="PgLine";getSQLType(){return"line"}mapFromDriverValue(t){const[s,i,l]=t.slice(1,-1).split(",");return[Number.parseFloat(s),Number.parseFloat(i),Number.parseFloat(l)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}class O_ extends at{static[ee]="PgLineABCBuilder";constructor(t){super(t,"json","PgLineABC")}build(t){return new F_(t,this.config)}}class F_ extends Ye{static[ee]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(t){const[s,i,l]=t.slice(1,-1).split(",");return{a:Number.parseFloat(s),b:Number.parseFloat(i),c:Number.parseFloat(l)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}function z_(e,t){const{name:s,config:i}=nn(e,t);return!i?.mode||i.mode==="tuple"?new D_(s):new O_(s)}class $_ extends at{static[ee]="PgMacaddrBuilder";constructor(t){super(t,"string","PgMacaddr")}build(t){return new B_(t,this.config)}}class B_ extends Ye{static[ee]="PgMacaddr";getSQLType(){return"macaddr"}}function V_(e){return new $_(e??"")}class q_ extends at{static[ee]="PgMacaddr8Builder";constructor(t){super(t,"string","PgMacaddr8")}build(t){return new U_(t,this.config)}}class U_ extends Ye{static[ee]="PgMacaddr8";getSQLType(){return"macaddr8"}}function Q_(e){return new q_(e??"")}class W_ extends at{static[ee]="PgNumericBuilder";constructor(t,s,i){super(t,"string","PgNumeric"),this.config.precision=s,this.config.scale=i}build(t){return new H_(t,this.config)}}class H_ extends Ye{static[ee]="PgNumeric";precision;scale;constructor(t,s){super(t,s),this.precision=s.precision,this.scale=s.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function G_(e,t){const{name:s,config:i}=nn(e,t);return new W_(s,i?.precision,i?.scale)}class K_ extends at{static[ee]="PgPointTupleBuilder";constructor(t){super(t,"array","PgPointTuple")}build(t){return new Z_(t,this.config)}}class Z_ extends Ye{static[ee]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[s,i]=t.slice(1,-1).split(",");return[Number.parseFloat(s),Number.parseFloat(i)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}class Y_ extends at{static[ee]="PgPointObjectBuilder";constructor(t){super(t,"json","PgPointObject")}build(t){return new X_(t,this.config)}}class X_ extends Ye{static[ee]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[s,i]=t.slice(1,-1).split(",");return{x:Number.parseFloat(s),y:Number.parseFloat(i)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}function J_(e,t){const{name:s,config:i}=nn(e,t);return!i?.mode||i.mode==="tuple"?new K_(s):new Y_(s)}function e4(e){const t=[];for(let s=0;s<e.length;s+=2)t.push(Number.parseInt(e.slice(s,s+2),16));return new Uint8Array(t)}function Gx(e,t){const s=new ArrayBuffer(8),i=new DataView(s);for(let l=0;l<8;l++)i.setUint8(l,e[t+l]);return i.getFloat64(0,!0)}function I0(e){const t=e4(e);let s=0;const i=t[s];s+=1;const l=new DataView(t.buffer),c=l.getUint32(s,i===1);if(s+=4,c&536870912&&(l.getUint32(s,i===1),s+=4),(c&65535)===1){const u=Gx(t,s);s+=8;const f=Gx(t,s);return s+=8,[u,f]}throw new Error("Unsupported geometry type")}class t4 extends at{static[ee]="PgGeometryBuilder";constructor(t){super(t,"array","PgGeometry")}build(t){return new n4(t,this.config)}}class n4 extends Ye{static[ee]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return I0(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}class r4 extends at{static[ee]="PgGeometryObjectBuilder";constructor(t){super(t,"json","PgGeometryObject")}build(t){return new s4(t,this.config)}}class s4 extends Ye{static[ee]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const s=I0(t);return{x:s[0],y:s[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}function a4(e,t){const{name:s,config:i}=nn(e,t);return!i?.mode||i.mode==="tuple"?new t4(s):new r4(s)}class i4 extends at{static[ee]="PgRealBuilder";constructor(t,s){super(t,"number","PgReal"),this.config.length=s}build(t){return new o4(t,this.config)}}class o4 extends Ye{static[ee]="PgReal";constructor(t,s){super(t,s)}getSQLType(){return"real"}mapFromDriverValue=t=>typeof t=="string"?Number.parseFloat(t):t}function l4(e){return new i4(e??"")}class c4 extends at{static[ee]="PgSerialBuilder";constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new d4(t,this.config)}}class d4 extends Ye{static[ee]="PgSerial";getSQLType(){return"serial"}}function u4(e){return new c4(e??"")}class f4 extends Cd{static[ee]="PgSmallIntBuilder";constructor(t){super(t,"number","PgSmallInt")}build(t){return new m4(t,this.config)}}class m4 extends Ye{static[ee]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=t=>typeof t=="string"?Number(t):t}function p4(e){return new f4(e??"")}class h4 extends at{static[ee]="PgSmallSerialBuilder";constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new g4(t,this.config)}}class g4 extends Ye{static[ee]="PgSmallSerial";getSQLType(){return"smallserial"}}function x4(e){return new h4(e??"")}class v4 extends at{static[ee]="PgTextBuilder";constructor(t,s){super(t,"string","PgText"),this.config.enumValues=s.enum}build(t){return new y4(t,this.config)}}class y4 extends Ye{static[ee]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function ft(e,t={}){const{name:s,config:i}=nn(e,t);return new v4(s,i)}class w4 extends cl{constructor(t,s,i){super(t,"string","PgTime"),this.withTimezone=s,this.precision=i,this.config.withTimezone=s,this.config.precision=i}static[ee]="PgTimeBuilder";build(t){return new b4(t,this.config)}}class b4 extends Ye{static[ee]="PgTime";withTimezone;precision;constructor(t,s){super(t,s),this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function j4(e,t={}){const{name:s,config:i}=nn(e,t);return new w4(s,i.withTimezone??!1,i.precision)}class N4 extends cl{static[ee]="PgTimestampBuilder";constructor(t,s,i){super(t,"date","PgTimestamp"),this.config.withTimezone=s,this.config.precision=i}build(t){return new S4(t,this.config)}}class S4 extends Ye{static[ee]="PgTimestamp";withTimezone;precision;constructor(t,s){super(t,s),this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=t=>new Date(this.withTimezone?t:t+"+0000");mapToDriverValue=t=>t.toISOString()}class k4 extends cl{static[ee]="PgTimestampStringBuilder";constructor(t,s,i){super(t,"string","PgTimestampString"),this.config.withTimezone=s,this.config.precision=i}build(t){return new C4(t,this.config)}}class C4 extends Ye{static[ee]="PgTimestampString";withTimezone;precision;constructor(t,s){super(t,s),this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function ct(e,t={}){const{name:s,config:i}=nn(e,t);return i?.mode==="string"?new k4(s,i.withTimezone??!1,i.precision):new N4(s,i?.withTimezone??!1,i?.precision)}class _4 extends at{static[ee]="PgUUIDBuilder";constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(_t`gen_random_uuid()`)}build(t){return new P4(t,this.config)}}class P4 extends Ye{static[ee]="PgUUID";getSQLType(){return"uuid"}}function E4(e){return new _4(e??"")}class T4 extends at{static[ee]="PgVarcharBuilder";constructor(t,s){super(t,"string","PgVarchar"),this.config.length=s.length,this.config.enumValues=s.enum}build(t){return new I4(t,this.config)}}class I4 extends Ye{static[ee]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function De(e,t={}){const{name:s,config:i}=nn(e,t);return new T4(s,i)}class R4 extends at{static[ee]="PgBinaryVectorBuilder";constructor(t,s){super(t,"string","PgBinaryVector"),this.config.dimensions=s.dimensions}build(t){return new A4(t,this.config)}}class A4 extends Ye{static[ee]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function L4(e,t){const{name:s,config:i}=nn(e,t);return new R4(s,i)}class D4 extends at{static[ee]="PgHalfVectorBuilder";constructor(t,s){super(t,"array","PgHalfVector"),this.config.dimensions=s.dimensions}build(t){return new M4(t,this.config)}}class M4 extends Ye{static[ee]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}function O4(e,t){const{name:s,config:i}=nn(e,t);return new D4(s,i)}class F4 extends at{static[ee]="PgSparseVectorBuilder";constructor(t,s){super(t,"string","PgSparseVector"),this.config.dimensions=s.dimensions}build(t){return new z4(t,this.config)}}class z4 extends Ye{static[ee]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function $4(e,t){const{name:s,config:i}=nn(e,t);return new F4(s,i)}class B4 extends at{static[ee]="PgVectorBuilder";constructor(t,s){super(t,"array","PgVector"),this.config.dimensions=s.dimensions}build(t){return new V4(t,this.config)}}class V4 extends Ye{static[ee]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}function q4(e,t){const{name:s,config:i}=nn(e,t);return new B4(s,i)}function U4(){return{bigint:$s,bigserial:n_,boolean:ki,char:o_,cidr:d_,customType:m_,date:v_,doublePrecision:b_,inet:S_,integer:wn,interval:E_,json:R_,jsonb:sr,line:z_,macaddr:V_,macaddr8:Q_,numeric:G_,point:J_,geometry:a4,real:l4,serial:u4,smallint:p4,smallserial:x4,text:ft,time:j4,timestamp:ct,uuid:E4,varchar:De,bit:L4,halfvec:O4,sparsevec:$4,vector:q4}}const ym=Symbol.for("drizzle:PgInlineForeignKeys"),Kx=Symbol.for("drizzle:EnableRLS");class Zx extends Bn{static[ee]="PgTable";static Symbol=Object.assign({},Bn.Symbol,{InlineForeignKeys:ym,EnableRLS:Kx});[ym]=[];[Kx]=!1;[Bn.Symbol.ExtraConfigBuilder]=void 0}function Q4(e,t,s,i,l=e){const c=new Zx(e,i,l),u=typeof t=="function"?t(U4()):t,f=Object.fromEntries(Object.entries(u).map(([v,b])=>{const N=b;N.setName(v);const _=N.build(c);return c[ym].push(...N.buildForeignKeys(_,c)),[v,_]})),h=Object.fromEntries(Object.entries(u).map(([v,b])=>{const N=b;N.setName(v);const _=N.buildExtraConfigColumn(c);return[v,_]})),p=Object.assign(c,f);return p[Bn.Symbol.Columns]=f,p[Bn.Symbol.ExtraConfigColumns]=h,Object.assign(p,{enableRLS:()=>(p[Zx.Symbol.EnableRLS]=!0,p)})}const Gt=(e,t,s)=>Q4(e,t,s,void 0);var nt;(function(e){e.assertEqual=l=>l;function t(l){}e.assertIs=t;function s(l){throw new Error}e.assertNever=s,e.arrayToEnum=l=>{const c={};for(const u of l)c[u]=u;return c},e.getValidEnumValues=l=>{const c=e.objectKeys(l).filter(f=>typeof l[l[f]]!="number"),u={};for(const f of c)u[f]=l[f];return e.objectValues(u)},e.objectValues=l=>e.objectKeys(l).map(function(c){return l[c]}),e.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const c=[];for(const u in l)Object.prototype.hasOwnProperty.call(l,u)&&c.push(u);return c},e.find=(l,c)=>{for(const u of l)if(c(u))return u},e.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&isFinite(l)&&Math.floor(l)===l;function i(l,c=" | "){return l.map(u=>typeof u=="string"?`'${u}'`:u).join(c)}e.joinValues=i,e.jsonStringifyReplacer=(l,c)=>typeof c=="bigint"?c.toString():c})(nt||(nt={}));var wm;(function(e){e.mergeShapes=(t,s)=>({...t,...s})})(wm||(wm={}));const ge=nt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),os=e=>{switch(typeof e){case"undefined":return ge.undefined;case"string":return ge.string;case"number":return isNaN(e)?ge.nan:ge.number;case"boolean":return ge.boolean;case"function":return ge.function;case"bigint":return ge.bigint;case"symbol":return ge.symbol;case"object":return Array.isArray(e)?ge.array:e===null?ge.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ge.promise:typeof Map<"u"&&e instanceof Map?ge.map:typeof Set<"u"&&e instanceof Set?ge.set:typeof Date<"u"&&e instanceof Date?ge.date:ge.object;default:return ge.unknown}},re=nt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),W4=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class qn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=t}format(t){const s=t||function(c){return c.message},i={_errors:[]},l=c=>{for(const u of c.issues)if(u.code==="invalid_union")u.unionErrors.map(l);else if(u.code==="invalid_return_type")l(u.returnTypeError);else if(u.code==="invalid_arguments")l(u.argumentsError);else if(u.path.length===0)i._errors.push(s(u));else{let f=i,h=0;for(;h<u.path.length;){const p=u.path[h];h===u.path.length-1?(f[p]=f[p]||{_errors:[]},f[p]._errors.push(s(u))):f[p]=f[p]||{_errors:[]},f=f[p],h++}}};return l(this),i}static assert(t){if(!(t instanceof qn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,nt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=s=>s.message){const s={},i=[];for(const l of this.issues)l.path.length>0?(s[l.path[0]]=s[l.path[0]]||[],s[l.path[0]].push(t(l))):i.push(t(l));return{formErrors:i,fieldErrors:s}}get formErrors(){return this.flatten()}}qn.create=e=>new qn(e);const Ci=(e,t)=>{let s;switch(e.code){case re.invalid_type:e.received===ge.undefined?s="Required":s=`Expected ${e.expected}, received ${e.received}`;break;case re.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(e.expected,nt.jsonStringifyReplacer)}`;break;case re.unrecognized_keys:s=`Unrecognized key(s) in object: ${nt.joinValues(e.keys,", ")}`;break;case re.invalid_union:s="Invalid input";break;case re.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${nt.joinValues(e.options)}`;break;case re.invalid_enum_value:s=`Invalid enum value. Expected ${nt.joinValues(e.options)}, received '${e.received}'`;break;case re.invalid_arguments:s="Invalid function arguments";break;case re.invalid_return_type:s="Invalid function return type";break;case re.invalid_date:s="Invalid date";break;case re.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(s=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?s=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?s=`Invalid input: must end with "${e.validation.endsWith}"`:nt.assertNever(e.validation):e.validation!=="regex"?s=`Invalid ${e.validation}`:s="Invalid";break;case re.too_small:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:s="Invalid input";break;case re.too_big:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?s=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:s="Invalid input";break;case re.custom:s="Invalid input";break;case re.invalid_intersection_types:s="Intersection results could not be merged";break;case re.not_multiple_of:s=`Number must be a multiple of ${e.multipleOf}`;break;case re.not_finite:s="Number must be finite";break;default:s=t.defaultError,nt.assertNever(e)}return{message:s}};let R0=Ci;function H4(e){R0=e}function Jc(){return R0}const ed=e=>{const{data:t,path:s,errorMaps:i,issueData:l}=e,c=[...s,...l.path||[]],u={...l,path:c};if(l.message!==void 0)return{...l,path:c,message:l.message};let f="";const h=i.filter(p=>!!p).slice().reverse();for(const p of h)f=p(u,{data:t,defaultError:f}).message;return{...l,path:c,message:f}},G4=[];function fe(e,t){const s=Jc(),i=ed({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,s,s===Ci?void 0:Ci].filter(l=>!!l)});e.common.issues.push(i)}class jn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,s){const i=[];for(const l of s){if(l.status==="aborted")return Ve;l.status==="dirty"&&t.dirty(),i.push(l.value)}return{status:t.value,value:i}}static async mergeObjectAsync(t,s){const i=[];for(const l of s){const c=await l.key,u=await l.value;i.push({key:c,value:u})}return jn.mergeObjectSync(t,i)}static mergeObjectSync(t,s){const i={};for(const l of s){const{key:c,value:u}=l;if(c.status==="aborted"||u.status==="aborted")return Ve;c.status==="dirty"&&t.dirty(),u.status==="dirty"&&t.dirty(),c.value!=="__proto__"&&(typeof u.value<"u"||l.alwaysSet)&&(i[c.value]=u.value)}return{status:t.value,value:i}}}const Ve=Object.freeze({status:"aborted"}),pi=e=>({status:"dirty",value:e}),Cn=e=>({status:"valid",value:e}),bm=e=>e.status==="aborted",jm=e=>e.status==="dirty",Pa=e=>e.status==="valid",Qo=e=>typeof Promise<"u"&&e instanceof Promise;function td(e,t,s,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function A0(e,t,s,i,l){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,s),s}var Ne;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Ne||(Ne={}));var Io,Ro;class Ur{constructor(t,s,i,l){this._cachedPath=[],this.parent=t,this.data=s,this._path=i,this._key=l}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Yx=(e,t)=>{if(Pa(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new qn(e.common.issues);return this._error=s,this._error}}};function Ge(e){if(!e)return{};const{errorMap:t,invalid_type_error:s,required_error:i,description:l}=e;if(t&&(s||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:l}:{errorMap:(u,f)=>{var h,p;const{message:v}=e;return u.code==="invalid_enum_value"?{message:v??f.defaultError}:typeof f.data>"u"?{message:(h=v??i)!==null&&h!==void 0?h:f.defaultError}:u.code!=="invalid_type"?{message:f.defaultError}:{message:(p=v??s)!==null&&p!==void 0?p:f.defaultError}},description:l}}class Xe{get description(){return this._def.description}_getType(t){return os(t.data)}_getOrReturnCtx(t,s){return s||{common:t.parent.common,data:t.data,parsedType:os(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new jn,ctx:{common:t.parent.common,data:t.data,parsedType:os(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const s=this._parse(t);if(Qo(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(t){const s=this._parse(t);return Promise.resolve(s)}parse(t,s){const i=this.safeParse(t,s);if(i.success)return i.data;throw i.error}safeParse(t,s){var i;const l={common:{issues:[],async:(i=s?.async)!==null&&i!==void 0?i:!1,contextualErrorMap:s?.errorMap},path:s?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:os(t)},c=this._parseSync({data:t,path:l.path,parent:l});return Yx(l,c)}"~validate"(t){var s,i;const l={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:os(t)};if(!this["~standard"].async)try{const c=this._parseSync({data:t,path:[],parent:l});return Pa(c)?{value:c.value}:{issues:l.common.issues}}catch(c){!((i=(s=c?.message)===null||s===void 0?void 0:s.toLowerCase())===null||i===void 0)&&i.includes("encountered")&&(this["~standard"].async=!0),l.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:l}).then(c=>Pa(c)?{value:c.value}:{issues:l.common.issues})}async parseAsync(t,s){const i=await this.safeParseAsync(t,s);if(i.success)return i.data;throw i.error}async safeParseAsync(t,s){const i={common:{issues:[],contextualErrorMap:s?.errorMap,async:!0},path:s?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:os(t)},l=this._parse({data:t,path:i.path,parent:i}),c=await(Qo(l)?l:Promise.resolve(l));return Yx(i,c)}refine(t,s){const i=l=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(l):s;return this._refinement((l,c)=>{const u=t(l),f=()=>c.addIssue({code:re.custom,...i(l)});return typeof Promise<"u"&&u instanceof Promise?u.then(h=>h?!0:(f(),!1)):u?!0:(f(),!1)})}refinement(t,s){return this._refinement((i,l)=>t(i)?!0:(l.addIssue(typeof s=="function"?s(i,l):s),!1))}_refinement(t){return new Pr({schema:this,typeName:ze.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return Vr.create(this,this._def)}nullable(){return na.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Sr.create(this)}promise(){return Pi.create(this,this._def)}or(t){return Ko.create([this,t],this._def)}and(t){return Zo.create(this,t,this._def)}transform(t){return new Pr({...Ge(this._def),schema:this,typeName:ze.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const s=typeof t=="function"?t:()=>t;return new tl({...Ge(this._def),innerType:this,defaultValue:s,typeName:ze.ZodDefault})}brand(){return new rp({typeName:ze.ZodBranded,type:this,...Ge(this._def)})}catch(t){const s=typeof t=="function"?t:()=>t;return new nl({...Ge(this._def),innerType:this,catchValue:s,typeName:ze.ZodCatch})}describe(t){const s=this.constructor;return new s({...this._def,description:t})}pipe(t){return dl.create(this,t)}readonly(){return rl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const K4=/^c[^\s-]{8,}$/i,Z4=/^[0-9a-z]+$/,Y4=/^[0-9A-HJKMNP-TV-Z]{26}$/i,X4=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,J4=/^[a-z0-9_-]{21}$/i,eP=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,tP=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,nP=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,rP="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let $f;const sP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,aP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,iP=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,oP=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,lP=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,cP=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,L0="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dP=new RegExp(`^${L0}$`);function D0(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function uP(e){return new RegExp(`^${D0(e)}$`)}function M0(e){let t=`${L0}T${D0(e)}`;const s=[];return s.push(e.local?"Z?":"Z"),e.offset&&s.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${s.join("|")})`,new RegExp(`^${t}$`)}function fP(e,t){return!!((t==="v4"||!t)&&sP.test(e)||(t==="v6"||!t)&&iP.test(e))}function mP(e,t){if(!eP.test(e))return!1;try{const[s]=e.split("."),i=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),l=JSON.parse(atob(i));return!(typeof l!="object"||l===null||!l.typ||!l.alg||t&&l.alg!==t)}catch{return!1}}function pP(e,t){return!!((t==="v4"||!t)&&aP.test(e)||(t==="v6"||!t)&&oP.test(e))}class br extends Xe{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ge.string){const c=this._getOrReturnCtx(t);return fe(c,{code:re.invalid_type,expected:ge.string,received:c.parsedType}),Ve}const i=new jn;let l;for(const c of this._def.checks)if(c.kind==="min")t.data.length<c.value&&(l=this._getOrReturnCtx(t,l),fe(l,{code:re.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),i.dirty());else if(c.kind==="max")t.data.length>c.value&&(l=this._getOrReturnCtx(t,l),fe(l,{code:re.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),i.dirty());else if(c.kind==="length"){const u=t.data.length>c.value,f=t.data.length<c.value;(u||f)&&(l=this._getOrReturnCtx(t,l),u?fe(l,{code:re.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}):f&&fe(l,{code:re.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}),i.dirty())}else if(c.kind==="email")nP.test(t.data)||(l=this._getOrReturnCtx(t,l),fe(l,{validation:"email",code:re.invalid_string,message:c.message}),i.dirty());else if(c.kind==="emoji")$f||($f=new RegExp(rP,"u")),$f.test(t.data)||(l=this._getOrReturnCtx(t,l),fe(l,{validation:"emoji",code:re.invalid_string,message:c.message}),i.dirty());else if(c.kind==="uuid")X4.test(t.data)||(l=this._getOrReturnCtx(t,l),fe(l,{validation:"uuid",code:re.invalid_string,message:c.message}),i.dirty());else if(c.kind==="nanoid")J4.test(t.data)||(l=this._getOrReturnCtx(t,l),fe(l,{validation:"nanoid",code:re.invalid_string,message:c.message}),i.dirty());else if(c.kind==="cuid")K4.test(t.data)||(l=this._getOrReturnCtx(t,l),fe(l,{validation:"cuid",code:re.invalid_string,message:c.message}),i.dirty());else if(c.kind==="cuid2")Z4.test(t.data)||(l=this._getOrReturnCtx(t,l),fe(l,{validation:"cuid2",code:re.invalid_string,message:c.message}),i.dirty());else if(c.kind==="ulid")Y4.test(t.data)||(l=this._getOrReturnCtx(t,l),fe(l,{validation:"ulid",code:re.invalid_string,message:c.message}),i.dirty());else if(c.kind==="url")try{new URL(t.data)}catch{l=this._getOrReturnCtx(t,l),fe(l,{validation:"url",code:re.invalid_string,message:c.message}),i.dirty()}else c.kind==="regex"?(c.regex.lastIndex=0,c.regex.test(t.data)||(l=this._getOrReturnCtx(t,l),fe(l,{validation:"regex",code:re.invalid_string,message:c.message}),i.dirty())):c.kind==="trim"?t.data=t.data.trim():c.kind==="includes"?t.data.includes(c.value,c.position)||(l=this._getOrReturnCtx(t,l),fe(l,{code:re.invalid_string,validation:{includes:c.value,position:c.position},message:c.message}),i.dirty()):c.kind==="toLowerCase"?t.data=t.data.toLowerCase():c.kind==="toUpperCase"?t.data=t.data.toUpperCase():c.kind==="startsWith"?t.data.startsWith(c.value)||(l=this._getOrReturnCtx(t,l),fe(l,{code:re.invalid_string,validation:{startsWith:c.value},message:c.message}),i.dirty()):c.kind==="endsWith"?t.data.endsWith(c.value)||(l=this._getOrReturnCtx(t,l),fe(l,{code:re.invalid_string,validation:{endsWith:c.value},message:c.message}),i.dirty()):c.kind==="datetime"?M0(c).test(t.data)||(l=this._getOrReturnCtx(t,l),fe(l,{code:re.invalid_string,validation:"datetime",message:c.message}),i.dirty()):c.kind==="date"?dP.test(t.data)||(l=this._getOrReturnCtx(t,l),fe(l,{code:re.invalid_string,validation:"date",message:c.message}),i.dirty()):c.kind==="time"?uP(c).test(t.data)||(l=this._getOrReturnCtx(t,l),fe(l,{code:re.invalid_string,validation:"time",message:c.message}),i.dirty()):c.kind==="duration"?tP.test(t.data)||(l=this._getOrReturnCtx(t,l),fe(l,{validation:"duration",code:re.invalid_string,message:c.message}),i.dirty()):c.kind==="ip"?fP(t.data,c.version)||(l=this._getOrReturnCtx(t,l),fe(l,{validation:"ip",code:re.invalid_string,message:c.message}),i.dirty()):c.kind==="jwt"?mP(t.data,c.alg)||(l=this._getOrReturnCtx(t,l),fe(l,{validation:"jwt",code:re.invalid_string,message:c.message}),i.dirty()):c.kind==="cidr"?pP(t.data,c.version)||(l=this._getOrReturnCtx(t,l),fe(l,{validation:"cidr",code:re.invalid_string,message:c.message}),i.dirty()):c.kind==="base64"?lP.test(t.data)||(l=this._getOrReturnCtx(t,l),fe(l,{validation:"base64",code:re.invalid_string,message:c.message}),i.dirty()):c.kind==="base64url"?cP.test(t.data)||(l=this._getOrReturnCtx(t,l),fe(l,{validation:"base64url",code:re.invalid_string,message:c.message}),i.dirty()):nt.assertNever(c);return{status:i.value,value:t.data}}_regex(t,s,i){return this.refinement(l=>t.test(l),{validation:s,code:re.invalid_string,...Ne.errToObj(i)})}_addCheck(t){return new br({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ne.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ne.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ne.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ne.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ne.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ne.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ne.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ne.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ne.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ne.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ne.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ne.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ne.errToObj(t)})}datetime(t){var s,i;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:(s=t?.offset)!==null&&s!==void 0?s:!1,local:(i=t?.local)!==null&&i!==void 0?i:!1,...Ne.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...Ne.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...Ne.errToObj(t)})}regex(t,s){return this._addCheck({kind:"regex",regex:t,...Ne.errToObj(s)})}includes(t,s){return this._addCheck({kind:"includes",value:t,position:s?.position,...Ne.errToObj(s?.message)})}startsWith(t,s){return this._addCheck({kind:"startsWith",value:t,...Ne.errToObj(s)})}endsWith(t,s){return this._addCheck({kind:"endsWith",value:t,...Ne.errToObj(s)})}min(t,s){return this._addCheck({kind:"min",value:t,...Ne.errToObj(s)})}max(t,s){return this._addCheck({kind:"max",value:t,...Ne.errToObj(s)})}length(t,s){return this._addCheck({kind:"length",value:t,...Ne.errToObj(s)})}nonempty(t){return this.min(1,Ne.errToObj(t))}trim(){return new br({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new br({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new br({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxLength(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}br.create=e=>{var t;return new br({checks:[],typeName:ze.ZodString,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...Ge(e)})};function hP(e,t){const s=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,l=s>i?s:i,c=parseInt(e.toFixed(l).replace(".","")),u=parseInt(t.toFixed(l).replace(".",""));return c%u/Math.pow(10,l)}class Js extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ge.number){const c=this._getOrReturnCtx(t);return fe(c,{code:re.invalid_type,expected:ge.number,received:c.parsedType}),Ve}let i;const l=new jn;for(const c of this._def.checks)c.kind==="int"?nt.isInteger(t.data)||(i=this._getOrReturnCtx(t,i),fe(i,{code:re.invalid_type,expected:"integer",received:"float",message:c.message}),l.dirty()):c.kind==="min"?(c.inclusive?t.data<c.value:t.data<=c.value)&&(i=this._getOrReturnCtx(t,i),fe(i,{code:re.too_small,minimum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),l.dirty()):c.kind==="max"?(c.inclusive?t.data>c.value:t.data>=c.value)&&(i=this._getOrReturnCtx(t,i),fe(i,{code:re.too_big,maximum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),l.dirty()):c.kind==="multipleOf"?hP(t.data,c.value)!==0&&(i=this._getOrReturnCtx(t,i),fe(i,{code:re.not_multiple_of,multipleOf:c.value,message:c.message}),l.dirty()):c.kind==="finite"?Number.isFinite(t.data)||(i=this._getOrReturnCtx(t,i),fe(i,{code:re.not_finite,message:c.message}),l.dirty()):nt.assertNever(c);return{status:l.value,value:t.data}}gte(t,s){return this.setLimit("min",t,!0,Ne.toString(s))}gt(t,s){return this.setLimit("min",t,!1,Ne.toString(s))}lte(t,s){return this.setLimit("max",t,!0,Ne.toString(s))}lt(t,s){return this.setLimit("max",t,!1,Ne.toString(s))}setLimit(t,s,i,l){return new Js({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:i,message:Ne.toString(l)}]})}_addCheck(t){return new Js({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ne.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ne.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ne.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ne.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ne.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:Ne.toString(s)})}finite(t){return this._addCheck({kind:"finite",message:Ne.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ne.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ne.toString(t)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&nt.isInteger(t.value))}get isFinite(){let t=null,s=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(s===null||i.value>s)&&(s=i.value):i.kind==="max"&&(t===null||i.value<t)&&(t=i.value)}return Number.isFinite(s)&&Number.isFinite(t)}}Js.create=e=>new Js({checks:[],typeName:ze.ZodNumber,coerce:e?.coerce||!1,...Ge(e)});class ea extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ge.bigint)return this._getInvalidInput(t);let i;const l=new jn;for(const c of this._def.checks)c.kind==="min"?(c.inclusive?t.data<c.value:t.data<=c.value)&&(i=this._getOrReturnCtx(t,i),fe(i,{code:re.too_small,type:"bigint",minimum:c.value,inclusive:c.inclusive,message:c.message}),l.dirty()):c.kind==="max"?(c.inclusive?t.data>c.value:t.data>=c.value)&&(i=this._getOrReturnCtx(t,i),fe(i,{code:re.too_big,type:"bigint",maximum:c.value,inclusive:c.inclusive,message:c.message}),l.dirty()):c.kind==="multipleOf"?t.data%c.value!==BigInt(0)&&(i=this._getOrReturnCtx(t,i),fe(i,{code:re.not_multiple_of,multipleOf:c.value,message:c.message}),l.dirty()):nt.assertNever(c);return{status:l.value,value:t.data}}_getInvalidInput(t){const s=this._getOrReturnCtx(t);return fe(s,{code:re.invalid_type,expected:ge.bigint,received:s.parsedType}),Ve}gte(t,s){return this.setLimit("min",t,!0,Ne.toString(s))}gt(t,s){return this.setLimit("min",t,!1,Ne.toString(s))}lte(t,s){return this.setLimit("max",t,!0,Ne.toString(s))}lt(t,s){return this.setLimit("max",t,!1,Ne.toString(s))}setLimit(t,s,i,l){return new ea({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:i,message:Ne.toString(l)}]})}_addCheck(t){return new ea({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ne.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ne.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ne.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ne.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:Ne.toString(s)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}ea.create=e=>{var t;return new ea({checks:[],typeName:ze.ZodBigInt,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...Ge(e)})};class Wo extends Xe{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ge.boolean){const i=this._getOrReturnCtx(t);return fe(i,{code:re.invalid_type,expected:ge.boolean,received:i.parsedType}),Ve}return Cn(t.data)}}Wo.create=e=>new Wo({typeName:ze.ZodBoolean,coerce:e?.coerce||!1,...Ge(e)});class Ea extends Xe{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ge.date){const c=this._getOrReturnCtx(t);return fe(c,{code:re.invalid_type,expected:ge.date,received:c.parsedType}),Ve}if(isNaN(t.data.getTime())){const c=this._getOrReturnCtx(t);return fe(c,{code:re.invalid_date}),Ve}const i=new jn;let l;for(const c of this._def.checks)c.kind==="min"?t.data.getTime()<c.value&&(l=this._getOrReturnCtx(t,l),fe(l,{code:re.too_small,message:c.message,inclusive:!0,exact:!1,minimum:c.value,type:"date"}),i.dirty()):c.kind==="max"?t.data.getTime()>c.value&&(l=this._getOrReturnCtx(t,l),fe(l,{code:re.too_big,message:c.message,inclusive:!0,exact:!1,maximum:c.value,type:"date"}),i.dirty()):nt.assertNever(c);return{status:i.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ea({...this._def,checks:[...this._def.checks,t]})}min(t,s){return this._addCheck({kind:"min",value:t.getTime(),message:Ne.toString(s)})}max(t,s){return this._addCheck({kind:"max",value:t.getTime(),message:Ne.toString(s)})}get minDate(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t!=null?new Date(t):null}}Ea.create=e=>new Ea({checks:[],coerce:e?.coerce||!1,typeName:ze.ZodDate,...Ge(e)});class nd extends Xe{_parse(t){if(this._getType(t)!==ge.symbol){const i=this._getOrReturnCtx(t);return fe(i,{code:re.invalid_type,expected:ge.symbol,received:i.parsedType}),Ve}return Cn(t.data)}}nd.create=e=>new nd({typeName:ze.ZodSymbol,...Ge(e)});class Ho extends Xe{_parse(t){if(this._getType(t)!==ge.undefined){const i=this._getOrReturnCtx(t);return fe(i,{code:re.invalid_type,expected:ge.undefined,received:i.parsedType}),Ve}return Cn(t.data)}}Ho.create=e=>new Ho({typeName:ze.ZodUndefined,...Ge(e)});class Go extends Xe{_parse(t){if(this._getType(t)!==ge.null){const i=this._getOrReturnCtx(t);return fe(i,{code:re.invalid_type,expected:ge.null,received:i.parsedType}),Ve}return Cn(t.data)}}Go.create=e=>new Go({typeName:ze.ZodNull,...Ge(e)});class _i extends Xe{constructor(){super(...arguments),this._any=!0}_parse(t){return Cn(t.data)}}_i.create=e=>new _i({typeName:ze.ZodAny,...Ge(e)});class ja extends Xe{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Cn(t.data)}}ja.create=e=>new ja({typeName:ze.ZodUnknown,...Ge(e)});class ms extends Xe{_parse(t){const s=this._getOrReturnCtx(t);return fe(s,{code:re.invalid_type,expected:ge.never,received:s.parsedType}),Ve}}ms.create=e=>new ms({typeName:ze.ZodNever,...Ge(e)});class rd extends Xe{_parse(t){if(this._getType(t)!==ge.undefined){const i=this._getOrReturnCtx(t);return fe(i,{code:re.invalid_type,expected:ge.void,received:i.parsedType}),Ve}return Cn(t.data)}}rd.create=e=>new rd({typeName:ze.ZodVoid,...Ge(e)});class Sr extends Xe{_parse(t){const{ctx:s,status:i}=this._processInputParams(t),l=this._def;if(s.parsedType!==ge.array)return fe(s,{code:re.invalid_type,expected:ge.array,received:s.parsedType}),Ve;if(l.exactLength!==null){const u=s.data.length>l.exactLength.value,f=s.data.length<l.exactLength.value;(u||f)&&(fe(s,{code:u?re.too_big:re.too_small,minimum:f?l.exactLength.value:void 0,maximum:u?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),i.dirty())}if(l.minLength!==null&&s.data.length<l.minLength.value&&(fe(s,{code:re.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),i.dirty()),l.maxLength!==null&&s.data.length>l.maxLength.value&&(fe(s,{code:re.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),i.dirty()),s.common.async)return Promise.all([...s.data].map((u,f)=>l.type._parseAsync(new Ur(s,u,s.path,f)))).then(u=>jn.mergeArray(i,u));const c=[...s.data].map((u,f)=>l.type._parseSync(new Ur(s,u,s.path,f)));return jn.mergeArray(i,c)}get element(){return this._def.type}min(t,s){return new Sr({...this._def,minLength:{value:t,message:Ne.toString(s)}})}max(t,s){return new Sr({...this._def,maxLength:{value:t,message:Ne.toString(s)}})}length(t,s){return new Sr({...this._def,exactLength:{value:t,message:Ne.toString(s)}})}nonempty(t){return this.min(1,t)}}Sr.create=(e,t)=>new Sr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ze.ZodArray,...Ge(t)});function fi(e){if(e instanceof At){const t={};for(const s in e.shape){const i=e.shape[s];t[s]=Vr.create(fi(i))}return new At({...e._def,shape:()=>t})}else return e instanceof Sr?new Sr({...e._def,type:fi(e.element)}):e instanceof Vr?Vr.create(fi(e.unwrap())):e instanceof na?na.create(fi(e.unwrap())):e instanceof Qr?Qr.create(e.items.map(t=>fi(t))):e}class At extends Xe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),s=nt.objectKeys(t);return this._cached={shape:t,keys:s}}_parse(t){if(this._getType(t)!==ge.object){const p=this._getOrReturnCtx(t);return fe(p,{code:re.invalid_type,expected:ge.object,received:p.parsedType}),Ve}const{status:i,ctx:l}=this._processInputParams(t),{shape:c,keys:u}=this._getCached(),f=[];if(!(this._def.catchall instanceof ms&&this._def.unknownKeys==="strip"))for(const p in l.data)u.includes(p)||f.push(p);const h=[];for(const p of u){const v=c[p],b=l.data[p];h.push({key:{status:"valid",value:p},value:v._parse(new Ur(l,b,l.path,p)),alwaysSet:p in l.data})}if(this._def.catchall instanceof ms){const p=this._def.unknownKeys;if(p==="passthrough")for(const v of f)h.push({key:{status:"valid",value:v},value:{status:"valid",value:l.data[v]}});else if(p==="strict")f.length>0&&(fe(l,{code:re.unrecognized_keys,keys:f}),i.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const v of f){const b=l.data[v];h.push({key:{status:"valid",value:v},value:p._parse(new Ur(l,b,l.path,v)),alwaysSet:v in l.data})}}return l.common.async?Promise.resolve().then(async()=>{const p=[];for(const v of h){const b=await v.key,N=await v.value;p.push({key:b,value:N,alwaysSet:v.alwaysSet})}return p}).then(p=>jn.mergeObjectSync(i,p)):jn.mergeObjectSync(i,h)}get shape(){return this._def.shape()}strict(t){return Ne.errToObj,new At({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(s,i)=>{var l,c,u,f;const h=(u=(c=(l=this._def).errorMap)===null||c===void 0?void 0:c.call(l,s,i).message)!==null&&u!==void 0?u:i.defaultError;return s.code==="unrecognized_keys"?{message:(f=Ne.errToObj(t).message)!==null&&f!==void 0?f:h}:{message:h}}}:{}})}strip(){return new At({...this._def,unknownKeys:"strip"})}passthrough(){return new At({...this._def,unknownKeys:"passthrough"})}extend(t){return new At({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new At({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ze.ZodObject})}setKey(t,s){return this.augment({[t]:s})}catchall(t){return new At({...this._def,catchall:t})}pick(t){const s={};return nt.objectKeys(t).forEach(i=>{t[i]&&this.shape[i]&&(s[i]=this.shape[i])}),new At({...this._def,shape:()=>s})}omit(t){const s={};return nt.objectKeys(this.shape).forEach(i=>{t[i]||(s[i]=this.shape[i])}),new At({...this._def,shape:()=>s})}deepPartial(){return fi(this)}partial(t){const s={};return nt.objectKeys(this.shape).forEach(i=>{const l=this.shape[i];t&&!t[i]?s[i]=l:s[i]=l.optional()}),new At({...this._def,shape:()=>s})}required(t){const s={};return nt.objectKeys(this.shape).forEach(i=>{if(t&&!t[i])s[i]=this.shape[i];else{let c=this.shape[i];for(;c instanceof Vr;)c=c._def.innerType;s[i]=c}}),new At({...this._def,shape:()=>s})}keyof(){return O0(nt.objectKeys(this.shape))}}At.create=(e,t)=>new At({shape:()=>e,unknownKeys:"strip",catchall:ms.create(),typeName:ze.ZodObject,...Ge(t)});At.strictCreate=(e,t)=>new At({shape:()=>e,unknownKeys:"strict",catchall:ms.create(),typeName:ze.ZodObject,...Ge(t)});At.lazycreate=(e,t)=>new At({shape:e,unknownKeys:"strip",catchall:ms.create(),typeName:ze.ZodObject,...Ge(t)});class Ko extends Xe{_parse(t){const{ctx:s}=this._processInputParams(t),i=this._def.options;function l(c){for(const f of c)if(f.result.status==="valid")return f.result;for(const f of c)if(f.result.status==="dirty")return s.common.issues.push(...f.ctx.common.issues),f.result;const u=c.map(f=>new qn(f.ctx.common.issues));return fe(s,{code:re.invalid_union,unionErrors:u}),Ve}if(s.common.async)return Promise.all(i.map(async c=>{const u={...s,common:{...s.common,issues:[]},parent:null};return{result:await c._parseAsync({data:s.data,path:s.path,parent:u}),ctx:u}})).then(l);{let c;const u=[];for(const h of i){const p={...s,common:{...s.common,issues:[]},parent:null},v=h._parseSync({data:s.data,path:s.path,parent:p});if(v.status==="valid")return v;v.status==="dirty"&&!c&&(c={result:v,ctx:p}),p.common.issues.length&&u.push(p.common.issues)}if(c)return s.common.issues.push(...c.ctx.common.issues),c.result;const f=u.map(h=>new qn(h));return fe(s,{code:re.invalid_union,unionErrors:f}),Ve}}get options(){return this._def.options}}Ko.create=(e,t)=>new Ko({options:e,typeName:ze.ZodUnion,...Ge(t)});const as=e=>e instanceof Xo?as(e.schema):e instanceof Pr?as(e.innerType()):e instanceof Jo?[e.value]:e instanceof ta?e.options:e instanceof el?nt.objectValues(e.enum):e instanceof tl?as(e._def.innerType):e instanceof Ho?[void 0]:e instanceof Go?[null]:e instanceof Vr?[void 0,...as(e.unwrap())]:e instanceof na?[null,...as(e.unwrap())]:e instanceof rp||e instanceof rl?as(e.unwrap()):e instanceof nl?as(e._def.innerType):[];class _d extends Xe{_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==ge.object)return fe(s,{code:re.invalid_type,expected:ge.object,received:s.parsedType}),Ve;const i=this.discriminator,l=s.data[i],c=this.optionsMap.get(l);return c?s.common.async?c._parseAsync({data:s.data,path:s.path,parent:s}):c._parseSync({data:s.data,path:s.path,parent:s}):(fe(s,{code:re.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),Ve)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,s,i){const l=new Map;for(const c of s){const u=as(c.shape[t]);if(!u.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const f of u){if(l.has(f))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(f)}`);l.set(f,c)}}return new _d({typeName:ze.ZodDiscriminatedUnion,discriminator:t,options:s,optionsMap:l,...Ge(i)})}}function Nm(e,t){const s=os(e),i=os(t);if(e===t)return{valid:!0,data:e};if(s===ge.object&&i===ge.object){const l=nt.objectKeys(t),c=nt.objectKeys(e).filter(f=>l.indexOf(f)!==-1),u={...e,...t};for(const f of c){const h=Nm(e[f],t[f]);if(!h.valid)return{valid:!1};u[f]=h.data}return{valid:!0,data:u}}else if(s===ge.array&&i===ge.array){if(e.length!==t.length)return{valid:!1};const l=[];for(let c=0;c<e.length;c++){const u=e[c],f=t[c],h=Nm(u,f);if(!h.valid)return{valid:!1};l.push(h.data)}return{valid:!0,data:l}}else return s===ge.date&&i===ge.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Zo extends Xe{_parse(t){const{status:s,ctx:i}=this._processInputParams(t),l=(c,u)=>{if(bm(c)||bm(u))return Ve;const f=Nm(c.value,u.value);return f.valid?((jm(c)||jm(u))&&s.dirty(),{status:s.value,value:f.data}):(fe(i,{code:re.invalid_intersection_types}),Ve)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([c,u])=>l(c,u)):l(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Zo.create=(e,t,s)=>new Zo({left:e,right:t,typeName:ze.ZodIntersection,...Ge(s)});class Qr extends Xe{_parse(t){const{status:s,ctx:i}=this._processInputParams(t);if(i.parsedType!==ge.array)return fe(i,{code:re.invalid_type,expected:ge.array,received:i.parsedType}),Ve;if(i.data.length<this._def.items.length)return fe(i,{code:re.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ve;!this._def.rest&&i.data.length>this._def.items.length&&(fe(i,{code:re.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const c=[...i.data].map((u,f)=>{const h=this._def.items[f]||this._def.rest;return h?h._parse(new Ur(i,u,i.path,f)):null}).filter(u=>!!u);return i.common.async?Promise.all(c).then(u=>jn.mergeArray(s,u)):jn.mergeArray(s,c)}get items(){return this._def.items}rest(t){return new Qr({...this._def,rest:t})}}Qr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qr({items:e,typeName:ze.ZodTuple,rest:null,...Ge(t)})};class Yo extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:i}=this._processInputParams(t);if(i.parsedType!==ge.object)return fe(i,{code:re.invalid_type,expected:ge.object,received:i.parsedType}),Ve;const l=[],c=this._def.keyType,u=this._def.valueType;for(const f in i.data)l.push({key:c._parse(new Ur(i,f,i.path,f)),value:u._parse(new Ur(i,i.data[f],i.path,f)),alwaysSet:f in i.data});return i.common.async?jn.mergeObjectAsync(s,l):jn.mergeObjectSync(s,l)}get element(){return this._def.valueType}static create(t,s,i){return s instanceof Xe?new Yo({keyType:t,valueType:s,typeName:ze.ZodRecord,...Ge(i)}):new Yo({keyType:br.create(),valueType:t,typeName:ze.ZodRecord,...Ge(s)})}}class sd extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:i}=this._processInputParams(t);if(i.parsedType!==ge.map)return fe(i,{code:re.invalid_type,expected:ge.map,received:i.parsedType}),Ve;const l=this._def.keyType,c=this._def.valueType,u=[...i.data.entries()].map(([f,h],p)=>({key:l._parse(new Ur(i,f,i.path,[p,"key"])),value:c._parse(new Ur(i,h,i.path,[p,"value"]))}));if(i.common.async){const f=new Map;return Promise.resolve().then(async()=>{for(const h of u){const p=await h.key,v=await h.value;if(p.status==="aborted"||v.status==="aborted")return Ve;(p.status==="dirty"||v.status==="dirty")&&s.dirty(),f.set(p.value,v.value)}return{status:s.value,value:f}})}else{const f=new Map;for(const h of u){const p=h.key,v=h.value;if(p.status==="aborted"||v.status==="aborted")return Ve;(p.status==="dirty"||v.status==="dirty")&&s.dirty(),f.set(p.value,v.value)}return{status:s.value,value:f}}}}sd.create=(e,t,s)=>new sd({valueType:t,keyType:e,typeName:ze.ZodMap,...Ge(s)});class Ta extends Xe{_parse(t){const{status:s,ctx:i}=this._processInputParams(t);if(i.parsedType!==ge.set)return fe(i,{code:re.invalid_type,expected:ge.set,received:i.parsedType}),Ve;const l=this._def;l.minSize!==null&&i.data.size<l.minSize.value&&(fe(i,{code:re.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),s.dirty()),l.maxSize!==null&&i.data.size>l.maxSize.value&&(fe(i,{code:re.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),s.dirty());const c=this._def.valueType;function u(h){const p=new Set;for(const v of h){if(v.status==="aborted")return Ve;v.status==="dirty"&&s.dirty(),p.add(v.value)}return{status:s.value,value:p}}const f=[...i.data.values()].map((h,p)=>c._parse(new Ur(i,h,i.path,p)));return i.common.async?Promise.all(f).then(h=>u(h)):u(f)}min(t,s){return new Ta({...this._def,minSize:{value:t,message:Ne.toString(s)}})}max(t,s){return new Ta({...this._def,maxSize:{value:t,message:Ne.toString(s)}})}size(t,s){return this.min(t,s).max(t,s)}nonempty(t){return this.min(1,t)}}Ta.create=(e,t)=>new Ta({valueType:e,minSize:null,maxSize:null,typeName:ze.ZodSet,...Ge(t)});class wi extends Xe{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==ge.function)return fe(s,{code:re.invalid_type,expected:ge.function,received:s.parsedType}),Ve;function i(f,h){return ed({data:f,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,Jc(),Ci].filter(p=>!!p),issueData:{code:re.invalid_arguments,argumentsError:h}})}function l(f,h){return ed({data:f,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,Jc(),Ci].filter(p=>!!p),issueData:{code:re.invalid_return_type,returnTypeError:h}})}const c={errorMap:s.common.contextualErrorMap},u=s.data;if(this._def.returns instanceof Pi){const f=this;return Cn(async function(...h){const p=new qn([]),v=await f._def.args.parseAsync(h,c).catch(_=>{throw p.addIssue(i(h,_)),p}),b=await Reflect.apply(u,this,v);return await f._def.returns._def.type.parseAsync(b,c).catch(_=>{throw p.addIssue(l(b,_)),p})})}else{const f=this;return Cn(function(...h){const p=f._def.args.safeParse(h,c);if(!p.success)throw new qn([i(h,p.error)]);const v=Reflect.apply(u,this,p.data),b=f._def.returns.safeParse(v,c);if(!b.success)throw new qn([l(v,b.error)]);return b.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new wi({...this._def,args:Qr.create(t).rest(ja.create())})}returns(t){return new wi({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,s,i){return new wi({args:t||Qr.create([]).rest(ja.create()),returns:s||ja.create(),typeName:ze.ZodFunction,...Ge(i)})}}class Xo extends Xe{get schema(){return this._def.getter()}_parse(t){const{ctx:s}=this._processInputParams(t);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}Xo.create=(e,t)=>new Xo({getter:e,typeName:ze.ZodLazy,...Ge(t)});class Jo extends Xe{_parse(t){if(t.data!==this._def.value){const s=this._getOrReturnCtx(t);return fe(s,{received:s.data,code:re.invalid_literal,expected:this._def.value}),Ve}return{status:"valid",value:t.data}}get value(){return this._def.value}}Jo.create=(e,t)=>new Jo({value:e,typeName:ze.ZodLiteral,...Ge(t)});function O0(e,t){return new ta({values:e,typeName:ze.ZodEnum,...Ge(t)})}class ta extends Xe{constructor(){super(...arguments),Io.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const s=this._getOrReturnCtx(t),i=this._def.values;return fe(s,{expected:nt.joinValues(i),received:s.parsedType,code:re.invalid_type}),Ve}if(td(this,Io)||A0(this,Io,new Set(this._def.values)),!td(this,Io).has(t.data)){const s=this._getOrReturnCtx(t),i=this._def.values;return fe(s,{received:s.data,code:re.invalid_enum_value,options:i}),Ve}return Cn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const s of this._def.values)t[s]=s;return t}get Values(){const t={};for(const s of this._def.values)t[s]=s;return t}get Enum(){const t={};for(const s of this._def.values)t[s]=s;return t}extract(t,s=this._def){return ta.create(t,{...this._def,...s})}exclude(t,s=this._def){return ta.create(this.options.filter(i=>!t.includes(i)),{...this._def,...s})}}Io=new WeakMap;ta.create=O0;class el extends Xe{constructor(){super(...arguments),Ro.set(this,void 0)}_parse(t){const s=nt.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(t);if(i.parsedType!==ge.string&&i.parsedType!==ge.number){const l=nt.objectValues(s);return fe(i,{expected:nt.joinValues(l),received:i.parsedType,code:re.invalid_type}),Ve}if(td(this,Ro)||A0(this,Ro,new Set(nt.getValidEnumValues(this._def.values))),!td(this,Ro).has(t.data)){const l=nt.objectValues(s);return fe(i,{received:i.data,code:re.invalid_enum_value,options:l}),Ve}return Cn(t.data)}get enum(){return this._def.values}}Ro=new WeakMap;el.create=(e,t)=>new el({values:e,typeName:ze.ZodNativeEnum,...Ge(t)});class Pi extends Xe{unwrap(){return this._def.type}_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==ge.promise&&s.common.async===!1)return fe(s,{code:re.invalid_type,expected:ge.promise,received:s.parsedType}),Ve;const i=s.parsedType===ge.promise?s.data:Promise.resolve(s.data);return Cn(i.then(l=>this._def.type.parseAsync(l,{path:s.path,errorMap:s.common.contextualErrorMap})))}}Pi.create=(e,t)=>new Pi({type:e,typeName:ze.ZodPromise,...Ge(t)});class Pr extends Xe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ze.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:s,ctx:i}=this._processInputParams(t),l=this._def.effect||null,c={addIssue:u=>{fe(i,u),u.fatal?s.abort():s.dirty()},get path(){return i.path}};if(c.addIssue=c.addIssue.bind(c),l.type==="preprocess"){const u=l.transform(i.data,c);if(i.common.async)return Promise.resolve(u).then(async f=>{if(s.value==="aborted")return Ve;const h=await this._def.schema._parseAsync({data:f,path:i.path,parent:i});return h.status==="aborted"?Ve:h.status==="dirty"||s.value==="dirty"?pi(h.value):h});{if(s.value==="aborted")return Ve;const f=this._def.schema._parseSync({data:u,path:i.path,parent:i});return f.status==="aborted"?Ve:f.status==="dirty"||s.value==="dirty"?pi(f.value):f}}if(l.type==="refinement"){const u=f=>{const h=l.refinement(f,c);if(i.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return f};if(i.common.async===!1){const f=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return f.status==="aborted"?Ve:(f.status==="dirty"&&s.dirty(),u(f.value),{status:s.value,value:f.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(f=>f.status==="aborted"?Ve:(f.status==="dirty"&&s.dirty(),u(f.value).then(()=>({status:s.value,value:f.value}))))}if(l.type==="transform")if(i.common.async===!1){const u=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Pa(u))return u;const f=l.transform(u.value,c);if(f instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:f}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(u=>Pa(u)?Promise.resolve(l.transform(u.value,c)).then(f=>({status:s.value,value:f})):u);nt.assertNever(l)}}Pr.create=(e,t,s)=>new Pr({schema:e,typeName:ze.ZodEffects,effect:t,...Ge(s)});Pr.createWithPreprocess=(e,t,s)=>new Pr({schema:t,effect:{type:"preprocess",transform:e},typeName:ze.ZodEffects,...Ge(s)});class Vr extends Xe{_parse(t){return this._getType(t)===ge.undefined?Cn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Vr.create=(e,t)=>new Vr({innerType:e,typeName:ze.ZodOptional,...Ge(t)});class na extends Xe{_parse(t){return this._getType(t)===ge.null?Cn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}na.create=(e,t)=>new na({innerType:e,typeName:ze.ZodNullable,...Ge(t)});class tl extends Xe{_parse(t){const{ctx:s}=this._processInputParams(t);let i=s.data;return s.parsedType===ge.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}tl.create=(e,t)=>new tl({innerType:e,typeName:ze.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ge(t)});class nl extends Xe{_parse(t){const{ctx:s}=this._processInputParams(t),i={...s,common:{...s.common,issues:[]}},l=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Qo(l)?l.then(c=>({status:"valid",value:c.status==="valid"?c.value:this._def.catchValue({get error(){return new qn(i.common.issues)},input:i.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new qn(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}nl.create=(e,t)=>new nl({innerType:e,typeName:ze.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ge(t)});class ad extends Xe{_parse(t){if(this._getType(t)!==ge.nan){const i=this._getOrReturnCtx(t);return fe(i,{code:re.invalid_type,expected:ge.nan,received:i.parsedType}),Ve}return{status:"valid",value:t.data}}}ad.create=e=>new ad({typeName:ze.ZodNaN,...Ge(e)});const gP=Symbol("zod_brand");class rp extends Xe{_parse(t){const{ctx:s}=this._processInputParams(t),i=s.data;return this._def.type._parse({data:i,path:s.path,parent:s})}unwrap(){return this._def.type}}class dl extends Xe{_parse(t){const{status:s,ctx:i}=this._processInputParams(t);if(i.common.async)return(async()=>{const c=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return c.status==="aborted"?Ve:c.status==="dirty"?(s.dirty(),pi(c.value)):this._def.out._parseAsync({data:c.value,path:i.path,parent:i})})();{const l=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?Ve:l.status==="dirty"?(s.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:i.path,parent:i})}}static create(t,s){return new dl({in:t,out:s,typeName:ze.ZodPipeline})}}class rl extends Xe{_parse(t){const s=this._def.innerType._parse(t),i=l=>(Pa(l)&&(l.value=Object.freeze(l.value)),l);return Qo(s)?s.then(l=>i(l)):i(s)}unwrap(){return this._def.innerType}}rl.create=(e,t)=>new rl({innerType:e,typeName:ze.ZodReadonly,...Ge(t)});function Xx(e,t){const s=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof s=="string"?{message:s}:s}function F0(e,t={},s){return e?_i.create().superRefine((i,l)=>{var c,u;const f=e(i);if(f instanceof Promise)return f.then(h=>{var p,v;if(!h){const b=Xx(t,i),N=(v=(p=b.fatal)!==null&&p!==void 0?p:s)!==null&&v!==void 0?v:!0;l.addIssue({code:"custom",...b,fatal:N})}});if(!f){const h=Xx(t,i),p=(u=(c=h.fatal)!==null&&c!==void 0?c:s)!==null&&u!==void 0?u:!0;l.addIssue({code:"custom",...h,fatal:p})}}):_i.create()}const xP={object:At.lazycreate};var ze;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ze||(ze={}));const vP=(e,t={message:`Input not instance of ${e.name}`})=>F0(s=>s instanceof e,t),z0=br.create,$0=Js.create,yP=ad.create,wP=ea.create,B0=Wo.create,bP=Ea.create,jP=nd.create,NP=Ho.create,SP=Go.create,kP=_i.create,CP=ja.create,_P=ms.create,PP=rd.create,EP=Sr.create,TP=At.create,IP=At.strictCreate,RP=Ko.create,AP=_d.create,LP=Zo.create,DP=Qr.create,MP=Yo.create,OP=sd.create,FP=Ta.create,zP=wi.create,$P=Xo.create,BP=Jo.create,VP=ta.create,qP=el.create,UP=Pi.create,Jx=Pr.create,QP=Vr.create,WP=na.create,HP=Pr.createWithPreprocess,GP=dl.create,KP=()=>z0().optional(),ZP=()=>$0().optional(),YP=()=>B0().optional(),XP={string:(e=>br.create({...e,coerce:!0})),number:(e=>Js.create({...e,coerce:!0})),boolean:(e=>Wo.create({...e,coerce:!0})),bigint:(e=>ea.create({...e,coerce:!0})),date:(e=>Ea.create({...e,coerce:!0}))},JP=Ve;var Oe=Object.freeze({__proto__:null,defaultErrorMap:Ci,setErrorMap:H4,getErrorMap:Jc,makeIssue:ed,EMPTY_PATH:G4,addIssueToContext:fe,ParseStatus:jn,INVALID:Ve,DIRTY:pi,OK:Cn,isAborted:bm,isDirty:jm,isValid:Pa,isAsync:Qo,get util(){return nt},get objectUtil(){return wm},ZodParsedType:ge,getParsedType:os,ZodType:Xe,datetimeRegex:M0,ZodString:br,ZodNumber:Js,ZodBigInt:ea,ZodBoolean:Wo,ZodDate:Ea,ZodSymbol:nd,ZodUndefined:Ho,ZodNull:Go,ZodAny:_i,ZodUnknown:ja,ZodNever:ms,ZodVoid:rd,ZodArray:Sr,ZodObject:At,ZodUnion:Ko,ZodDiscriminatedUnion:_d,ZodIntersection:Zo,ZodTuple:Qr,ZodRecord:Yo,ZodMap:sd,ZodSet:Ta,ZodFunction:wi,ZodLazy:Xo,ZodLiteral:Jo,ZodEnum:ta,ZodNativeEnum:el,ZodPromise:Pi,ZodEffects:Pr,ZodTransformer:Pr,ZodOptional:Vr,ZodNullable:na,ZodDefault:tl,ZodCatch:nl,ZodNaN:ad,BRAND:gP,ZodBranded:rp,ZodPipeline:dl,ZodReadonly:rl,custom:F0,Schema:Xe,ZodSchema:Xe,late:xP,get ZodFirstPartyTypeKind(){return ze},coerce:XP,any:kP,array:EP,bigint:wP,boolean:B0,date:bP,discriminatedUnion:AP,effect:Jx,enum:VP,function:zP,instanceof:vP,intersection:LP,lazy:$P,literal:BP,map:OP,nan:yP,nativeEnum:qP,never:_P,null:SP,nullable:WP,number:$0,object:TP,oboolean:YP,onumber:ZP,optional:QP,ostring:KP,pipeline:GP,preprocess:HP,promise:UP,record:MP,set:FP,strictObject:IP,string:z0,symbol:jP,transformer:Jx,tuple:DP,undefined:NP,union:RP,unknown:CP,void:PP,NEVER:JP,ZodIssueCode:re,quotelessJson:W4,ZodError:qn});const Rt={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function $t(e,t){return t.includes(e.columnType)}function eE(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const tE=Oe.union([Oe.string(),Oe.number(),Oe.boolean(),Oe.null()]),nE=Oe.union([tE,Oe.record(Oe.any()),Oe.array(Oe.any())]),rE=Oe.custom(e=>e instanceof Buffer);function V0(e,t){const s=t?.zodInstance??Oe,i=t?.coerce??{};let l;return eE(e)&&(l=e.enumValues.length?s.enum(e.enumValues):s.string()),l||($t(e,["PgGeometry","PgPointTuple"])?l=s.tuple([s.number(),s.number()]):$t(e,["PgGeometryObject","PgPointObject"])?l=s.object({x:s.number(),y:s.number()}):$t(e,["PgHalfVector","PgVector"])?(l=s.array(s.number()),l=e.dimensions?l.length(e.dimensions):l):$t(e,["PgLine"])?l=s.tuple([s.number(),s.number(),s.number()]):$t(e,["PgLineABC"])?l=s.object({a:s.number(),b:s.number(),c:s.number()}):$t(e,["PgArray"])?(l=s.array(V0(e.baseColumn,s)),l=e.size?l.length(e.size):l):e.dataType==="array"?l=s.array(s.any()):e.dataType==="number"?l=sE(e,s,i):e.dataType==="bigint"?l=aE(e,s,i):e.dataType==="boolean"?l=i===!0||i.boolean?s.coerce.boolean():s.boolean():e.dataType==="date"?l=i===!0||i.date?s.coerce.date():s.date():e.dataType==="string"?l=iE(e,s,i):e.dataType==="json"?l=nE:e.dataType==="custom"?l=s.any():e.dataType==="buffer"&&(l=rE)),l||(l=s.any()),l}function sE(e,t,s){let i=e.getSQLType().includes("unsigned"),l,c,u=!1;$t(e,["MySqlTinyInt","SingleStoreTinyInt"])?(l=i?0:Rt.INT8_MIN,c=i?Rt.INT8_UNSIGNED_MAX:Rt.INT8_MAX,u=!0):$t(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(l=i?0:Rt.INT16_MIN,c=i?Rt.INT16_UNSIGNED_MAX:Rt.INT16_MAX,u=!0):$t(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(l=i?0:Rt.INT24_MIN,c=i?Rt.INT24_UNSIGNED_MAX:Rt.INT24_MAX,u=$t(e,["MySqlMediumInt","SingleStoreMediumInt"])):$t(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(l=i?0:Rt.INT32_MIN,c=i?Rt.INT32_UNSIGNED_MAX:Rt.INT32_MAX,u=!0):$t(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(l=i?0:Rt.INT48_MIN,c=i?Rt.INT48_UNSIGNED_MAX:Rt.INT48_MAX):$t(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(i=i||$t(e,["MySqlSerial","SingleStoreSerial"]),l=i?0:Number.MIN_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER,u=!0):$t(e,["MySqlYear","SingleStoreYear"])?(l=1901,c=2155,u=!0):(l=Number.MIN_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER);let f=s===!0||s?.number?t.coerce.number():t.number();return f=f.min(l).max(c),u?f.int():f}function aE(e,t,s){const i=e.getSQLType().includes("unsigned"),l=i?0n:Rt.INT64_MIN,c=i?Rt.INT64_UNSIGNED_MAX:Rt.INT64_MAX;return(s===!0||s?.bigint?t.coerce.bigint():t.bigint()).min(l).max(c)}function iE(e,t,s){if($t(e,["PgUUID"]))return t.string().uuid();let i,l,c=!1;$t(e,["PgVarchar","SQLiteText"])?i=e.length:$t(e,["MySqlVarChar","SingleStoreVarChar"])?i=e.length??Rt.INT16_UNSIGNED_MAX:$t(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?i=Rt.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?i=Rt.INT24_UNSIGNED_MAX:e.textType==="text"?i=Rt.INT16_UNSIGNED_MAX:i=Rt.INT8_UNSIGNED_MAX),$t(e,["PgChar","MySqlChar","SingleStoreChar"])&&(i=e.length,c=!0),$t(e,["PgBinaryVector"])&&(l=/^[01]+$/,i=e.dimensions);let u=s===!0||s?.string?t.coerce.string():t.string();return u=l?u.regex(l):u,i&&c?u.length(i):i?u.max(i):u}function q0(e){return C0(e)?W2(e):H2(e)}function U0(e,t,s,i){const l={};for(const[c,u]of Object.entries(e)){if(!dn(u,Uo)&&!dn(u,Ot)&&!dn(u,Ot.Aliased)&&typeof u=="object"){const b=C0(u)||Q2(u)?q0(u):u;l[c]=U0(b,t[c]??{},s,i);continue}const f=t[c];if(f!==void 0&&typeof f!="function"){l[c]=f;continue}const h=dn(u,Uo)?u:void 0,p=h?V0(h,i):Oe.any(),v=typeof f=="function"?f(p):p;s.never(h)||(l[c]=v,h&&(s.nullable(h)&&(l[c]=l[c].nullable()),s.optional(h)&&(l[c]=l[c].optional())))}return Oe.object(l)}const oE={never:e=>e?.generated?.type==="always"||e?.generatedIdentity?.type==="always",optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},rn=(e,t)=>{const s=q0(e);return U0(s,{},oE)},lE=["normal","super_rare","x_tier","umr","ssumr","divine","journeyman","expert","master","grandmaster","legend","elite"],cE=["weapon","armor","accessory"],dE=Oe.object({Str:Oe.number().optional(),Int:Oe.number().optional(),Spd:Oe.number().optional(),Luck:Oe.number().optional(),Pot:Oe.number().optional()});Oe.object({id:Oe.string(),name:Oe.string(),type:Oe.enum(cE),stats:dE,special:Oe.string().optional(),price:Oe.number(),tier:Oe.enum(lE)});const Sm=["Novice","Apprentice","Journeyman","Expert","Master","Grandmaster","Legend","Elite"];Oe.object({Str:Oe.number().default(10),Spd:Oe.number().default(10),Int:Oe.number().default(10),Luck:Oe.number().default(10),Pot:Oe.number().default(0)});Oe.object({weapon:Oe.string().nullable(),armor:Oe.string().nullable(),accessory1:Oe.string().nullable(),accessory2:Oe.string().nullable()});const qt=Gt("accounts",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),username:ft("username").notNull().unique(),password:ft("password").notNull(),role:ft("role").notNull().$type(),gold:$s("gold",{mode:"number"}).notNull().default(1e4),rubies:$s("rubies",{mode:"number"}).notNull().default(0),soulShards:$s("soul_shards",{mode:"number"}).notNull().default(0),focusedShards:$s("focused_shards",{mode:"number"}).notNull().default(0),trainingPoints:$s("training_points",{mode:"number"}).notNull().default(0),petExp:$s("pet_exp",{mode:"number"}).notNull().default(0),runes:$s("runes",{mode:"number"}).notNull().default(0),pets:sr("pets").notNull().default([]).$type(),rank:ft("rank").notNull().default("Novice").$type(),wins:wn("wins").notNull().default(0),losses:wn("losses").notNull().default(0),stats:sr("stats").notNull().default({Str:10,Spd:10,Int:10,Luck:10,Pot:0}).$type(),equipped:sr("equipped").notNull().default({weapon:null,armor:null,accessory1:null,accessory2:null}).$type(),npcFloor:wn("npc_floor").notNull().default(1),npcLevel:wn("npc_level").notNull().default(1),equippedPetId:De("equipped_pet_id"),lastActive:ct("last_active").defaultNow()}),uE=Gt("inventory_items",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),accountId:De("account_id").notNull().references(()=>qt.id),itemId:ft("item_id").notNull(),stats:sr("stats").notNull().default({}).$type(),purchasedAt:ct("purchased_at").notNull().defaultNow()});rn(qt).omit({id:!0});rn(uE).omit({id:!0});const Q0=Gt("events",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),name:ft("name").notNull(),description:ft("description").notNull(),startDate:ct("start_date").notNull(),endDate:ct("end_date"),isMandatory:ki("is_mandatory").notNull().default(!1),createdAt:ct("created_at").notNull().defaultNow(),createdBy:De("created_by").notNull().references(()=>qt.id)}),fE=Gt("event_registrations",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),eventId:De("event_id").notNull().references(()=>Q0.id,{onDelete:"cascade"}),accountId:De("account_id").notNull().references(()=>qt.id,{onDelete:"cascade"}),registeredAt:ct("registered_at").notNull().defaultNow(),isAutoRegistered:ki("is_auto_registered").notNull().default(!1)});rn(Q0).omit({id:!0,createdAt:!0});rn(fE).omit({id:!0,registeredAt:!0});const $c=["egg","baby","teen","adult","legend","mythic"],Bf=["Fire","Water","Earth","Air","Lightning","Ice","Nature","Dark","Light","Arcana","Chrono","Plasma","Void","Aether","Hybrid","Elemental Convergence","Time","Space","Soul","Mind"];Oe.object({Str:Oe.number().default(1),Spd:Oe.number().default(1),Luck:Oe.number().default(1),ElementalPower:Oe.number().default(1)});const mE={egg:{maxExp:100,evolutionCost:1e4,statMultiplier:1},baby:{maxExp:500,evolutionCost:5e4,statMultiplier:2},teen:{maxExp:2500,evolutionCost:25e4,statMultiplier:4},adult:{maxExp:1e4,evolutionCost:1e6,statMultiplier:8},legend:{maxExp:1e5,evolutionCost:1e8,statMultiplier:16},mythic:{maxExp:null,evolutionCost:null,statMultiplier:32}},pE=Gt("pets",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),accountId:De("account_id").notNull().references(()=>qt.id,{onDelete:"cascade"}),name:ft("name").notNull(),element:ft("element").notNull().$type().default("Fire"),elements:ft("elements").array().$type().default(_t`ARRAY['Fire']::text[]`),tier:ft("tier").notNull().$type().default("egg"),exp:wn("exp").notNull().default(0),stats:sr("stats").notNull().default({Str:1,Spd:1,Luck:1,ElementalPower:1}).$type(),createdAt:ct("created_at").notNull().defaultNow()});rn(pE).omit({id:!0,createdAt:!0});const hE=Gt("challenges",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),challengerId:De("challenger_id").notNull().references(()=>qt.id,{onDelete:"cascade"}),challengedId:De("challenged_id").notNull().references(()=>qt.id,{onDelete:"cascade"}),status:ft("status").notNull().$type().default("pending"),winnerId:De("winner_id").references(()=>qt.id),createdAt:ct("created_at").notNull().defaultNow(),acceptedAt:ct("accepted_at"),completedAt:ct("completed_at")});rn(hE).omit({id:!0,createdAt:!0});Gt("leaderboard_cache",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),type:ft("type").notNull(),data:sr("data").notNull().$type(),refreshedAt:ct("refreshed_at").notNull().defaultNow()});const W0=Gt("quests",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),title:ft("title").notNull(),description:ft("description").notNull(),rewards:sr("rewards").notNull().$type(),status:ft("status").notNull().$type().default("active"),createdBy:De("created_by").notNull().references(()=>qt.id),createdAt:ct("created_at").notNull().defaultNow(),expiresAt:ct("expires_at")}),gE=Gt("quest_assignments",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),questId:De("quest_id").notNull().references(()=>W0.id,{onDelete:"cascade"}),accountId:De("account_id").notNull().references(()=>qt.id,{onDelete:"cascade"}),status:ft("status").notNull().$type().default("pending"),acceptedAt:ct("accepted_at"),completedAt:ct("completed_at"),rewardedAt:ct("rewarded_at")});rn(W0).omit({id:!0,createdAt:!0});rn(gE).omit({id:!0});Oe.object({gold:Oe.number().default(0),rubies:Oe.number().default(0),soulShards:Oe.number().default(0),focusedShards:Oe.number().default(0),runes:Oe.number().default(0),trainingPoints:Oe.number().default(0)});const sl=Gt("guilds",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),name:ft("name").notNull().unique(),masterId:De("master_id").notNull().references(()=>qt.id),bank:sr("bank").notNull().default({gold:0,rubies:0,soulShards:0,focusedShards:0,runes:0,trainingPoints:0}).$type(),dungeonFloor:wn("dungeon_floor").notNull().default(1),dungeonLevel:wn("dungeon_level").notNull().default(1),wins:wn("wins").notNull().default(0),level:wn("level").notNull().default(1),createdAt:ct("created_at").notNull().defaultNow()}),xE=Gt("guild_members",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),guildId:De("guild_id").notNull().references(()=>sl.id,{onDelete:"cascade"}),accountId:De("account_id").notNull().references(()=>qt.id,{onDelete:"cascade"}).unique(),joinedAt:ct("joined_at").notNull().defaultNow()}),vE=Gt("guild_invites",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),guildId:De("guild_id").notNull().references(()=>sl.id,{onDelete:"cascade"}),accountId:De("account_id").notNull().references(()=>qt.id,{onDelete:"cascade"}),invitedBy:De("invited_by").notNull().references(()=>qt.id),createdAt:ct("created_at").notNull().defaultNow()});rn(sl).omit({id:!0,createdAt:!0,bank:!0,dungeonFloor:!0,dungeonLevel:!0});rn(xE).omit({id:!0,joinedAt:!0});rn(vE).omit({id:!0,createdAt:!0});const H0=Gt("skill_auctions",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),skillId:ft("skill_id").notNull(),status:ft("status").notNull().default("queued"),startAt:ct("start_at"),endAt:ct("end_at"),winningBidId:De("winning_bid_id"),winnerId:De("winner_id"),createdAt:ct("created_at").notNull().defaultNow()}),yE=Gt("skill_bids",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),auctionId:De("auction_id").notNull().references(()=>H0.id,{onDelete:"cascade"}),bidderId:De("bidder_id").notNull().references(()=>qt.id),amount:wn("amount").notNull(),createdAt:ct("created_at").notNull().defaultNow()}),wE=Gt("player_skills",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),accountId:De("account_id").notNull().references(()=>qt.id,{onDelete:"cascade"}),skillId:ft("skill_id").notNull(),isEquipped:ki("is_equipped").notNull().default(!1),acquiredAt:ct("acquired_at").notNull().defaultNow(),source:ft("source").notNull().default("auction")}),bE=Gt("activity_feed",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),type:ft("type").notNull(),accountId:De("account_id").references(()=>qt.id),accountName:ft("account_name"),message:ft("message").notNull(),metadata:sr("metadata"),createdAt:ct("created_at").notNull().defaultNow()});rn(H0).omit({id:!0,createdAt:!0});rn(yE).omit({id:!0,createdAt:!0});rn(wE).omit({id:!0,acquiredAt:!0});rn(bE).omit({id:!0,createdAt:!0});const jE=Gt("guild_battles",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),challengerGuildId:De("challenger_guild_id").notNull().references(()=>sl.id,{onDelete:"cascade"}),challengedGuildId:De("challenged_guild_id").notNull().references(()=>sl.id,{onDelete:"cascade"}),status:ft("status").notNull().$type().default("pending"),challengerFighters:sr("challenger_fighters").notNull().default([]).$type(),challengedFighters:sr("challenged_fighters").notNull().default([]).$type(),currentRound:wn("current_round").notNull().default(0),challengerScore:wn("challenger_score").notNull().default(0),challengedScore:wn("challenged_score").notNull().default(0),challengerCurrentIndex:wn("challenger_current_index").notNull().default(0),challengedCurrentIndex:wn("challenged_current_index").notNull().default(0),winnerId:De("winner_id"),createdAt:ct("created_at").notNull().defaultNow(),completedAt:ct("completed_at")});rn(jE).omit({id:!0,createdAt:!0});const G0=Gt("trades",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),initiatorId:De("initiator_id").notNull().references(()=>qt.id,{onDelete:"cascade"}),recipientId:De("recipient_id").notNull().references(()=>qt.id,{onDelete:"cascade"}),status:ft("status").notNull().$type().default("pending"),initiatorAccepted:ki("initiator_accepted").notNull().default(!1),recipientAccepted:ki("recipient_accepted").notNull().default(!1),createdAt:ct("created_at").notNull().defaultNow(),completedAt:ct("completed_at")}),NE=Gt("trade_items",{id:De("id").primaryKey().default(_t`gen_random_uuid()`),tradeId:De("trade_id").notNull().references(()=>G0.id,{onDelete:"cascade"}),ownerId:De("owner_id").notNull().references(()=>qt.id),type:ft("type").notNull().$type(),refId:De("ref_id").notNull()});rn(G0).omit({id:!0,createdAt:!0});rn(NE).omit({id:!0});const SE=[{id:"basic_treat",name:"Basic Treat",exp:10,price:100},{id:"tasty_snack",name:"Tasty Snack",exp:50,price:400},{id:"gourmet_meal",name:"Gourmet Meal",exp:200,price:1500},{id:"royal_feast",name:"Royal Feast",exp:1e3,price:6e3},{id:"mystic_elixir",name:"Mystic Elixir",exp:5e3,price:25e3},{id:"dragon_essence",name:"Dragon Essence",exp:25e3,price:1e5}],kE=[{name:"Arcane Staff",type:"weapon",stats:{Int:20},price:300},{name:"Thunder Hammer",type:"weapon",stats:{Str:12,Luck:5},price:280},{name:"Shadow Cloak",type:"armor",stats:{Spd:10,Luck:5},price:300},{name:"Mystic Robes",type:"armor",stats:{Int:20},price:300},{name:"Guardian Plate",type:"armor",stats:{Str:15},price:320},{name:"Frost Dagger",type:"weapon",stats:{Spd:15},special:"Slow",price:330},{name:"Ember Wand",type:"weapon",stats:{Int:18},special:"Fire Damage",price:340},{name:"Lucky Ring",type:"accessory",stats:{Luck:20},price:345},{name:"Flame Cloak",type:"armor",stats:{Str:15},special:"Fire Resist",price:350},{name:"Swift Helm",type:"armor",stats:{Spd:12,Int:5},price:355},{name:"Thunder Bow",type:"weapon",stats:{Spd:18},special:"Lightning Damage",price:360},{name:"Arcane Amulet",type:"accessory",stats:{Int:20},special:"Mana Regen",price:365},{name:"Shadow Saber",type:"weapon",stats:{Str:20},special:"Stealth",price:370},{name:"Frost Robes",type:"armor",stats:{Int:18},special:"Freeze",price:365},{name:"Lucky Pendant",type:"accessory",stats:{Luck:22,Str:6},price:370}],CE=[{name:"Elemental Vest",type:"armor",stats:{Str:10,Spd:10,Int:10,Luck:10},price:400},{name:"SR Ring of Fortune",type:"accessory",stats:{Luck:20},price:420},{name:"Frost Bow",type:"weapon",stats:{Spd:10,Luck:10},price:430},{name:"Ember Robes",type:"armor",stats:{Int:18},special:"Fire Damage",price:440},{name:"Shadow Fang",type:"weapon",stats:{Str:20},special:"Stealth",price:445},{name:"Arcane Sabre",type:"weapon",stats:{Str:22},special:"Mana Regen",price:450},{name:"Lightning Dagger",type:"weapon",stats:{Spd:18},special:"Lightning Damage",price:455},{name:"SR Ring of Insight",type:"accessory",stats:{Int:22,Luck:10},price:460},{name:"SR Swift Boots",type:"armor",stats:{Spd:20,Str:12},price:465},{name:"SR Ember Staff",type:"weapon",stats:{Int:25},special:"Fire AoE",price:470},{name:"SR Frost Fang",type:"weapon",stats:{Str:25},special:"Ice AoE",price:470},{name:"SR Lucky Pendant",type:"accessory",stats:{Luck:25,Str:15},price:475},{name:"Shadow Blade",type:"weapon",stats:{Str:27},special:"Stealth",price:480},{name:"SR Arcane Mantle",type:"armor",stats:{Int:27},special:"Mana Regen",price:480},{name:"Ring of Valor",type:"accessory",stats:{Luck:28,Int:18},price:490}],_E=[{name:"Titan's Hammer",type:"weapon",stats:{Str:40,Luck:20},price:1e3},{name:"Infinity Bow",type:"weapon",stats:{Spd:40,Luck:20},price:1e3},{name:"Sage's Staff",type:"weapon",stats:{Int:40},price:1e3},{name:"Omniguard Armor",type:"armor",stats:{Str:35,Spd:35,Int:35,Luck:35},price:1050},{name:"Dragonfang Blade",type:"weapon",stats:{Str:45,Spd:25},price:1100},{name:"Archmage Robes",type:"armor",stats:{Int:45,Luck:25},price:1100},{name:"Shadow Eclipse Cloak",type:"armor",stats:{Spd:42,Luck:30},price:1120},{name:"Phoenix Saber",type:"weapon",stats:{Str:50},special:"Fire Damage",price:1150},{name:"Frostbite Bow",type:"weapon",stats:{Spd:48},special:"Ice Damage",price:1150},{name:"Orb of Wisdom",type:"accessory",stats:{Int:45,Luck:20},price:1130},{name:"Titan Gauntlets",type:"armor",stats:{Str:40,Spd:20},price:1050},{name:"Lightning Hammer",type:"weapon",stats:{Str:48},special:"Lightning AoE",price:1150},{name:"Mystic Staff",type:"weapon",stats:{Int:50},special:"Mana Regen",price:1150},{name:"Ring of Omniscience",type:"accessory",stats:{Luck:45},price:1150}],PE=[{name:"Oblivion Fang",type:"weapon",stats:{Str:80,Luck:50},price:1e4},{name:"Eternal Eclipse Blade",type:"weapon",stats:{Str:85,Spd:45},price:10500},{name:"Archmage's Eternal Robe",type:"armor",stats:{Int:85,Luck:50},price:10500},{name:"Shadow Eclipse Mantle",type:"armor",stats:{Spd:80,Luck:50},price:10200},{name:"Phoenix Soul Saber",type:"weapon",stats:{Str:90},special:"Fire AoE 40",price:11e3},{name:"Frost Reaper Bow",type:"weapon",stats:{Spd:88},special:"Ice Damage 45",price:11e3},{name:"Orb of Divine Insight",type:"accessory",stats:{Int:85,Luck:45},price:10700},{name:"Titan's Gauntlets",type:"armor",stats:{Str:80,Spd:50},price:10200},{name:"Lightning Devastator",type:"weapon",stats:{Str:90},special:"Lightning AoE",price:11e3},{name:"Mystic Grand Staff",type:"weapon",stats:{Int:90},special:"Mana Regen",price:11e3},{name:"Ring of Eternal Omniscience",type:"accessory",stats:{Luck:90},price:11e3},{name:"Pendant of Absolute Luck",type:"accessory",stats:{Luck:90,Str:45},price:11200}],EE=[{name:"Godslayer Blade",type:"weapon",stats:{Str:150,Luck:100},price:1e5},{name:"Celestial Bow",type:"weapon",stats:{Spd:150,Luck:100},price:1e5},{name:"Divine Staff",type:"weapon",stats:{Int:150},special:"Divine AoE",price:1e5},{name:"Omnipotent Armor",type:"armor",stats:{Str:100,Spd:100,Int:100,Luck:100},price:12e4},{name:"Crown of the Gods",type:"accessory",stats:{Int:120,Luck:80},price:95e3},{name:"Eternal Flame Saber",type:"weapon",stats:{Str:160},special:"Inferno",price:11e4},{name:"Frostfall Reaper",type:"weapon",stats:{Spd:155},special:"Absolute Zero",price:11e4},{name:"Amulet of Infinity",type:"accessory",stats:{Luck:150,Str:80},price:115e3},{name:"World Ender",type:"weapon",stats:{Str:200},special:"Apocalypse",price:15e4},{name:"Ethereal Mantle",type:"armor",stats:{Int:140,Spd:60},special:"Phase Shift",price:125e3}],TE=[{name:"Primordial Void Blade",type:"weapon",stats:{Str:300,Luck:200},special:"Reality Rend",price:5e5},{name:"Astral Annihilator Bow",type:"weapon",stats:{Spd:300,Luck:200},special:"Cosmic Arrow",price:5e5},{name:"Staff of Infinite Cosmos",type:"weapon",stats:{Int:350},special:"Dimensional Rift",price:55e4},{name:"Armor of the First Light",type:"armor",stats:{Str:200,Spd:200,Int:200,Luck:200},special:"Divine Shield",price:65e4},{name:"Crown of Eternal Dominion",type:"accessory",stats:{Int:250,Luck:180},special:"Mind Control",price:48e4},{name:"Blade of Shattered Realities",type:"weapon",stats:{Str:350,Spd:150},special:"Dimension Slash",price:58e4},{name:"Frostfire Extinction",type:"weapon",stats:{Spd:320,Int:100},special:"Elemental Oblivion",price:56e4},{name:"Ring of Omnipotence",type:"accessory",stats:{Luck:300,Str:150},special:"Fate Manipulation",price:6e5},{name:"The Oblivion Hammer",type:"weapon",stats:{Str:400},special:"Extinction Event",price:75e4},{name:"Vestments of Creation",type:"armor",stats:{Int:280,Spd:120},special:"Genesis Barrier",price:62e4},{name:"Pendant of Primordial Power",type:"accessory",stats:{Str:200,Int:200,Luck:100},special:"Power Surge",price:55e4},{name:"Gauntlets of the Divine",type:"armor",stats:{Str:250,Spd:180},special:"Crushing Divinity",price:58e4}],IE=[{name:"Journeyman's Warblade",type:"weapon",stats:{Str:500,Luck:300},special:"Veteran Strike",price:15e5},{name:"Wanderer's Longbow",type:"weapon",stats:{Spd:500,Luck:300},special:"Precision Shot",price:15e5},{name:"Staff of Learned Wisdom",type:"weapon",stats:{Int:550},special:"Knowledge Burst",price:16e5},{name:"Traveler's Plate",type:"armor",stats:{Str:350,Spd:350,Int:200,Luck:200},special:"Road Ward",price:18e5},{name:"Medallion of Experience",type:"accessory",stats:{Int:400,Luck:280},special:"Wisdom Aura",price:14e5},{name:"Blade of Many Battles",type:"weapon",stats:{Str:550,Spd:200},special:"War Memory",price:17e5},{name:"Cloak of the Traveler",type:"armor",stats:{Spd:450,Luck:300},special:"Swift Passage",price:155e4},{name:"Ring of Earned Glory",type:"accessory",stats:{Luck:450,Str:200},special:"Glory Surge",price:165e4}],RE=[{name:"Expert's Decimator",type:"weapon",stats:{Str:800,Luck:500},special:"Mastered Blow",price:5e6},{name:"Precision Destroyer Bow",type:"weapon",stats:{Spd:800,Luck:500},special:"Perfect Aim",price:5e6},{name:"Arcane Mastery Staff",type:"weapon",stats:{Int:900},special:"Spell Mastery",price:55e5},{name:"Expert Battlewear",type:"armor",stats:{Str:550,Spd:550,Int:400,Luck:400},special:"Combat Mastery",price:6e6},{name:"Amulet of Expertise",type:"accessory",stats:{Int:650,Luck:450},special:"Expert Knowledge",price:48e5},{name:"Blade of a Thousand Cuts",type:"weapon",stats:{Str:850,Spd:400},special:"Flurry Master",price:58e5},{name:"Expert's Aegis",type:"armor",stats:{Spd:700,Int:500},special:"Perfect Defense",price:52e5},{name:"Ring of True Skill",type:"accessory",stats:{Luck:700,Str:350},special:"Skill Enhancement",price:55e5}],AE=[{name:"Master's Worldbreaker",type:"weapon",stats:{Str:1200,Luck:800},special:"Continental Slash",price:15e6},{name:"Bow of the Grandmaster",type:"weapon",stats:{Spd:1200,Luck:800},special:"Instant Kill Shot",price:15e6},{name:"Staff of Supreme Sorcery",type:"weapon",stats:{Int:1400},special:"Ultimate Arcana",price:16e6},{name:"Master's Transcendent Armor",type:"armor",stats:{Str:900,Spd:900,Int:700,Luck:700},special:"Absolute Defense",price:18e6},{name:"Crown of Mastery",type:"accessory",stats:{Int:1e3,Luck:700},special:"Mind Dominion",price:14e6},{name:"Blade of Utter Devastation",type:"weapon",stats:{Str:1350,Spd:600},special:"Annihilate",price:17e6},{name:"Master's Shroud",type:"armor",stats:{Spd:1100,Int:800},special:"Shadow Master",price:155e5},{name:"Ring of Absolute Power",type:"accessory",stats:{Luck:1100,Str:550},special:"Power Unlimited",price:16e6}],LE=[{name:"Grandmaster's Galaxy Edge",type:"weapon",stats:{Str:1800,Luck:1200},special:"Cosmic Cleave",price:5e7},{name:"Bow of Stellar Destruction",type:"weapon",stats:{Spd:1800,Luck:1200},special:"Star Piercer",price:5e7},{name:"Staff of Universal Law",type:"weapon",stats:{Int:2200},special:"Reality Warp",price:55e6},{name:"Grandmaster's Cosmic Plate",type:"armor",stats:{Str:1400,Spd:1400,Int:1100,Luck:1100},special:"Cosmic Shield",price:6e7},{name:"Pendant of the Cosmos",type:"accessory",stats:{Int:1600,Luck:1100},special:"Universal Wisdom",price:48e6},{name:"Blade of Infinite Stars",type:"weapon",stats:{Str:2e3,Spd:1e3},special:"Supernova Strike",price:58e6},{name:"Grandmaster's Void Cloak",type:"armor",stats:{Spd:1700,Int:1300},special:"Void Walk",price:52e6},{name:"Ring of Cosmic Authority",type:"accessory",stats:{Luck:1700,Str:900},special:"Cosmic Command",price:54e6}],DE=[{name:"Legendary Realm Splitter",type:"weapon",stats:{Str:2800,Luck:1800},special:"Dimension Breaker",price:15e7},{name:"Bow of Mythic Legends",type:"weapon",stats:{Spd:2800,Luck:1800},special:"Legend's Arrow",price:15e7},{name:"Staff of Eternal Myth",type:"weapon",stats:{Int:3400},special:"Mythic Storm",price:165e6},{name:"Legendary Hero's Armor",type:"armor",stats:{Str:2200,Spd:2200,Int:1700,Luck:1700},special:"Heroic Aura",price:18e7},{name:"Heart of Legends",type:"accessory",stats:{Int:2500,Luck:1700},special:"Legendary Will",price:14e7},{name:"Blade of Ancient Heroes",type:"weapon",stats:{Str:3100,Spd:1500},special:"Hero's Legacy",price:175e6},{name:"Legendary Shadowweave",type:"armor",stats:{Spd:2600,Int:2e3},special:"Legend's Cloak",price:158e6},{name:"Ring of Timeless Glory",type:"accessory",stats:{Luck:2600,Str:1400},special:"Eternal Fame",price:162e6}],ME=[{name:"Elite Omega Destroyer",type:"weapon",stats:{Str:5e3,Luck:3e3},special:"Omega Strike",price:5e8},{name:"Bow of Ultimate Annihilation",type:"weapon",stats:{Spd:5e3,Luck:3e3},special:"Total Erasure",price:5e8},{name:"Staff of Absolute Infinity",type:"weapon",stats:{Int:6e3},special:"Infinity Cascade",price:55e7},{name:"Elite Transcendence Armor",type:"armor",stats:{Str:4e3,Spd:4e3,Int:3e3,Luck:3e3},special:"Transcendent Shield",price:6e8},{name:"Crown of the Elite",type:"accessory",stats:{Int:4500,Luck:3e3},special:"Elite Dominion",price:48e7},{name:"Blade of Final Reckoning",type:"weapon",stats:{Str:5500,Spd:2800},special:"Armageddon",price:58e7},{name:"Elite Voidweave Mantle",type:"armor",stats:{Spd:4700,Int:3500},special:"Void Mastery",price:52e7},{name:"Ring of Ultimate Supremacy",type:"accessory",stats:{Luck:4700,Str:2500},special:"Supreme Authority",price:54e7}];function er(e,t){return e.map((s,i)=>({...s,id:`${t}-${i}`,tier:t}))}const Na=[...er(kE,"normal"),...er(CE,"super_rare"),...er(_E,"x_tier"),...er(PE,"umr"),...er(EE,"ssumr"),...er(TE,"divine"),...er(IE,"journeyman"),...er(RE,"expert"),...er(AE,"master"),...er(LE,"grandmaster"),...er(DE,"legend"),...er(ME,"elite")];function Do(e){return Na.find(t=>t.id===e)}const sp={normal:"Normal / Rare",super_rare:"Super Rare",x_tier:"X-Tier",umr:"Ultra Mythic Rare",ssumr:"SSUMR",divine:"Divine",journeyman:"Journeyman",expert:"Expert",master:"Master",grandmaster:"Grandmaster",legend:"Legend",elite:"Elite"},OE=yd("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function le({className:e,variant:t,...s}){return n.jsx("div",{className:we(OE({variant:t}),e),...s})}const ev={normal:"border-tier-normal/50 hover:border-tier-normal",super_rare:"border-tier-super-rare/50 hover:border-tier-super-rare",x_tier:"border-tier-x/50 hover:border-tier-x",umr:"border-tier-umr/50 hover:border-tier-umr",ssumr:"border-tier-ssumr/50 hover:border-tier-ssumr",divine:"border-tier-divine/50 hover:border-tier-divine",journeyman:"border-tier-journeyman/50 hover:border-tier-journeyman",expert:"border-tier-expert/50 hover:border-tier-expert",master:"border-tier-master/50 hover:border-tier-master",grandmaster:"border-tier-grandmaster/50 hover:border-tier-grandmaster",legend:"border-tier-legend/50 hover:border-tier-legend",elite:"border-tier-elite/50 hover:border-tier-elite"},FE={normal:"bg-tier-normal/20 text-tier-normal border-tier-normal/30",super_rare:"bg-tier-super-rare/20 text-tier-super-rare border-tier-super-rare/30",x_tier:"bg-tier-x/20 text-tier-x border-tier-x/30",umr:"bg-tier-umr/20 text-tier-umr border-tier-umr/30",ssumr:"bg-tier-ssumr/20 text-tier-ssumr border-tier-ssumr/30",divine:"bg-tier-divine/20 text-tier-divine border-tier-divine/30",journeyman:"bg-tier-journeyman/20 text-tier-journeyman border-tier-journeyman/30",expert:"bg-tier-expert/20 text-tier-expert border-tier-expert/30",master:"bg-tier-master/20 text-tier-master border-tier-master/30",grandmaster:"bg-tier-grandmaster/20 text-tier-grandmaster border-tier-grandmaster/30",legend:"bg-tier-legend/20 text-tier-legend border-tier-legend/30",elite:"bg-tier-elite/20 text-tier-elite border-tier-elite/30"},zE={normal:"hover:shadow-[0_0_20px_rgba(52,211,153,0.2)]",super_rare:"hover:shadow-[0_0_20px_rgba(167,139,250,0.2)]",x_tier:"hover:shadow-[0_0_20px_rgba(234,179,8,0.3)]",umr:"hover:shadow-[0_0_20px_rgba(239,68,68,0.3)]",ssumr:"hover:shadow-[0_0_25px_rgba(236,72,153,0.4)]",divine:"hover:shadow-[0_0_30px_rgba(56,189,248,0.5)]",journeyman:"hover:shadow-[0_0_25px_rgba(245,158,11,0.4)]",expert:"hover:shadow-[0_0_28px_rgba(192,132,252,0.45)]",master:"hover:shadow-[0_0_30px_rgba(249,115,22,0.5)]",grandmaster:"hover:shadow-[0_0_32px_rgba(168,85,247,0.55)]",legend:"hover:shadow-[0_0_35px_rgba(250,204,21,0.6)]",elite:"hover:shadow-[0_0_40px_rgba(232,121,249,0.7)]"};function $E({type:e}){const t="w-10 h-10";switch(e){case"weapon":return n.jsx(Us,{className:we(t,"text-stat-str")});case"armor":return n.jsx(tn,{className:we(t,"text-stat-int")});case"accessory":return n.jsx(qs,{className:we(t,"text-stat-luck")})}}function BE({statName:e,value:t}){const i={Str:{icon:Ks,color:"text-stat-str"},Int:{icon:Cy,color:"text-stat-int"},Spd:{icon:gk,color:"text-stat-spd"},Luck:{icon:kt,color:"text-stat-luck"},Pot:{icon:kt,color:"text-tier-super-rare"}}[e]||{icon:Ks,color:"text-muted-foreground"},l=i.icon;return n.jsxs("div",{className:"flex items-center gap-1.5","data-testid":`stat-${e.toLowerCase()}`,children:[n.jsx(l,{className:we("w-3.5 h-3.5",i.color)}),n.jsx("span",{className:"text-xs font-mono text-muted-foreground",children:e}),n.jsxs("span",{className:we("text-xs font-mono font-semibold",i.color),children:["+",t]})]})}function K0({item:e,onBuy:t,onSelect:s,onSell:i,showBuyButton:l=!0,showSellButton:c=!1,isOwned:u=!1,disabled:f=!1,inventoryId:h}){const p=()=>{s&&s(e)};return n.jsxs(Te,{className:we("border-2 transition-all duration-300 cursor-pointer",ev[e.tier],zE[e.tier],u&&"ring-2 ring-tier-normal/50",f&&"opacity-50 cursor-not-allowed"),onClick:p,"data-testid":`card-item-${e.id}`,children:[n.jsxs(Le,{className:"p-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:we("p-2 rounded-md bg-secondary/50",ev[e.tier].replace("border","border-l-2")),children:n.jsx($E,{type:e.type})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-serif font-semibold text-sm truncate","data-testid":`text-item-name-${e.id}`,children:e.name}),n.jsx(le,{variant:"outline",size:"sm",className:we("mt-1",FE[e.tier]),"data-testid":`badge-tier-${e.id}`,children:sp[e.tier]})]})]}),n.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:Object.entries(e.stats).map(([v,b])=>b?n.jsx(BE,{statName:v,value:b},v):null)}),e.special&&n.jsx("div",{className:"mt-2",children:n.jsx(le,{variant:"secondary",size:"sm",className:"text-xs",children:e.special})})]}),n.jsxs(Yc,{className:"px-4 pb-4 pt-0 flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1","data-testid":`text-price-${e.id}`,children:[n.jsx(rr,{className:"w-4 h-4 text-primary"}),n.jsx("span",{className:"font-mono font-bold text-primary",children:e.price.toLocaleString()})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[c&&i&&n.jsxs(I,{size:"sm",variant:"outline",className:"text-green-600 border-green-600/50 hover:bg-green-600/10",onClick:v=>{v.stopPropagation(),i(e)},"data-testid":`button-sell-${e.id}`,children:[n.jsx(cm,{className:"w-3 h-3 mr-1"}),"Sell"]}),l&&t&&n.jsx(I,{size:"sm",onClick:v=>{v.stopPropagation(),t(e)},disabled:f||u,"data-testid":`button-buy-${e.id}`,children:u?"Owned":"Buy"})]})]})]})}function Z0({items:e,onBuy:t,onSelect:s,onSell:i,showBuyButton:l=!0,showSellButton:c=!1,ownedItemIds:u=[],playerGold:f=1/0}){return e.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground","data-testid":"text-empty-grid",children:[n.jsx("p",{className:"font-serif text-lg",children:"No items found"}),n.jsx("p",{className:"text-sm",children:"Try adjusting your filters"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4","data-testid":"grid-items",children:e.map(h=>n.jsx(K0,{item:h,onBuy:t,onSelect:s,onSell:i,showBuyButton:l,showSellButton:c,isOwned:u.includes(h.id),disabled:h.price>f&&!u.includes(h.id)},h.id))})}const VE={all:"data-[state=on]:bg-secondary",normal:"data-[state=on]:bg-tier-normal/20 data-[state=on]:text-tier-normal data-[state=on]:border-tier-normal",super_rare:"data-[state=on]:bg-tier-super-rare/20 data-[state=on]:text-tier-super-rare data-[state=on]:border-tier-super-rare",x_tier:"data-[state=on]:bg-tier-x/20 data-[state=on]:text-tier-x data-[state=on]:border-tier-x",umr:"data-[state=on]:bg-tier-umr/20 data-[state=on]:text-tier-umr data-[state=on]:border-tier-umr",ssumr:"data-[state=on]:bg-tier-ssumr/20 data-[state=on]:text-tier-ssumr data-[state=on]:border-tier-ssumr",divine:"data-[state=on]:bg-tier-divine/20 data-[state=on]:text-tier-divine data-[state=on]:border-tier-divine",journeyman:"data-[state=on]:bg-tier-journeyman/20 data-[state=on]:text-tier-journeyman data-[state=on]:border-tier-journeyman",expert:"data-[state=on]:bg-tier-expert/20 data-[state=on]:text-tier-expert data-[state=on]:border-tier-expert",master:"data-[state=on]:bg-tier-master/20 data-[state=on]:text-tier-master data-[state=on]:border-tier-master",grandmaster:"data-[state=on]:bg-tier-grandmaster/20 data-[state=on]:text-tier-grandmaster data-[state=on]:border-tier-grandmaster",legend:"data-[state=on]:bg-tier-legend/20 data-[state=on]:text-tier-legend data-[state=on]:border-tier-legend",elite:"data-[state=on]:bg-tier-elite/20 data-[state=on]:text-tier-elite data-[state=on]:border-tier-elite"};function Y0({selectedTier:e,onSelectTier:t,excludeTiers:s=[]}){const l=["all","normal","super_rare","x_tier","umr","ssumr","divine","journeyman","expert","master","grandmaster","legend","elite"].filter(c=>c==="all"||!s.includes(c));return n.jsx("div",{className:"flex flex-wrap gap-2","data-testid":"filter-tier",children:l.map(c=>{const u=e===c;return n.jsx(I,{variant:u?"secondary":"outline",size:"sm",onClick:()=>t(c),className:we("transition-all toggle-elevate",u&&"toggle-elevated",VE[c]),"data-state":u?"on":"off","data-testid":`button-filter-${c}`,children:c==="all"?"All Items":sp[c]},c)})})}const qE={all:{label:"All Types"},weapon:{label:"Weapons",icon:Us},armor:{label:"Armor",icon:tn},accessory:{label:"Accessories",icon:qs}};function UE({selectedType:e,onSelectType:t}){const s=["all","weapon","armor","accessory"];return n.jsx("div",{className:"flex flex-wrap gap-2","data-testid":"filter-type",children:s.map(i=>{const l=e===i,c=qE[i],u=c.icon;return n.jsxs(I,{variant:l?"secondary":"outline",size:"sm",onClick:()=>t(i),className:we("transition-all toggle-elevate",l&&"toggle-elevated"),"data-testid":`button-filter-type-${i}`,children:[u&&n.jsx(u,{className:"w-4 h-4 mr-1.5"}),c.label]},i)})})}function id({amount:e,className:t,size:s="md"}){const i={sm:"text-sm gap-1",md:"text-base gap-1.5",lg:"text-lg gap-2"},l={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return n.jsxs("div",{className:we("flex items-center font-mono font-bold text-primary",i[s],t),"data-testid":"text-gold-balance",children:[n.jsx(rr,{className:l[s]}),n.jsx("span",{children:e.toLocaleString()})]})}var Vf="focusScope.autoFocusOnMount",qf="focusScope.autoFocusOnUnmount",tv={bubbles:!1,cancelable:!0},QE="FocusScope",ap=x.forwardRef((e,t)=>{const{loop:s=!1,trapped:i=!1,onMountAutoFocus:l,onUnmountAutoFocus:c,...u}=e,[f,h]=x.useState(null),p=Bt(l),v=Bt(c),b=x.useRef(null),N=st(t,w=>h(w)),_=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(i){let w=function(R){if(_.paused||!f)return;const P=R.target;f.contains(P)?b.current=P:Bs(b.current,{select:!0})},S=function(R){if(_.paused||!f)return;const P=R.relatedTarget;P!==null&&(f.contains(P)||Bs(b.current,{select:!0}))},k=function(R){if(document.activeElement===document.body)for(const O of R)O.removedNodes.length>0&&Bs(f)};document.addEventListener("focusin",w),document.addEventListener("focusout",S);const C=new MutationObserver(k);return f&&C.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",S),C.disconnect()}}},[i,f,_.paused]),x.useEffect(()=>{if(f){rv.add(_);const w=document.activeElement;if(!f.contains(w)){const k=new CustomEvent(Vf,tv);f.addEventListener(Vf,p),f.dispatchEvent(k),k.defaultPrevented||(WE(YE(X0(f)),{select:!0}),document.activeElement===w&&Bs(f))}return()=>{f.removeEventListener(Vf,p),setTimeout(()=>{const k=new CustomEvent(qf,tv);f.addEventListener(qf,v),f.dispatchEvent(k),k.defaultPrevented||Bs(w??document.body,{select:!0}),f.removeEventListener(qf,v),rv.remove(_)},0)}}},[f,p,v,_]);const E=x.useCallback(w=>{if(!s&&!i||_.paused)return;const S=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,k=document.activeElement;if(S&&k){const C=w.currentTarget,[R,P]=HE(C);R&&P?!w.shiftKey&&k===P?(w.preventDefault(),s&&Bs(R,{select:!0})):w.shiftKey&&k===R&&(w.preventDefault(),s&&Bs(P,{select:!0})):k===C&&w.preventDefault()}},[s,i,_.paused]);return n.jsx(qe.div,{tabIndex:-1,...u,ref:N,onKeyDown:E})});ap.displayName=QE;function WE(e,{select:t=!1}={}){const s=document.activeElement;for(const i of e)if(Bs(i,{select:t}),document.activeElement!==s)return}function HE(e){const t=X0(e),s=nv(t,e),i=nv(t.reverse(),e);return[s,i]}function X0(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const l=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||l?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function nv(e,t){for(const s of e)if(!GE(s,{upTo:t}))return s}function GE(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function KE(e){return e instanceof HTMLInputElement&&"select"in e}function Bs(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&KE(e)&&t&&e.select()}}var rv=ZE();function ZE(){let e=[];return{add(t){const s=e[0];t!==s&&s?.pause(),e=sv(e,t),e.unshift(t)},remove(t){e=sv(e,t),e[0]?.resume()}}}function sv(e,t){const s=[...e],i=s.indexOf(t);return i!==-1&&s.splice(i,1),s}function YE(e){return e.filter(t=>t.tagName!=="A")}var Uf=0;function J0(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??av()),document.body.insertAdjacentElement("beforeend",e[1]??av()),Uf++,()=>{Uf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Uf--}},[])}function av(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var zr=function(){return zr=Object.assign||function(t){for(var s,i=1,l=arguments.length;i<l;i++){s=arguments[i];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(t[c]=s[c])}return t},zr.apply(this,arguments)};function ew(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(s[i[l]]=e[i[l]]);return s}function XE(e,t,s){if(s||arguments.length===2)for(var i=0,l=t.length,c;i<l;i++)(c||!(i in t))&&(c||(c=Array.prototype.slice.call(t,0,i)),c[i]=t[i]);return e.concat(c||Array.prototype.slice.call(t))}var Bc="right-scroll-bar-position",Vc="width-before-scroll-bar",JE="with-scroll-bars-hidden",eT="--removed-body-scroll-bar-size";function Qf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function tT(e,t){var s=x.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(i){var l=s.value;l!==i&&(s.value=i,s.callback(i,l))}}}})[0];return s.callback=t,s.facade}var nT=typeof window<"u"?x.useLayoutEffect:x.useEffect,iv=new WeakMap;function rT(e,t){var s=tT(null,function(i){return e.forEach(function(l){return Qf(l,i)})});return nT(function(){var i=iv.get(s);if(i){var l=new Set(i),c=new Set(e),u=s.current;l.forEach(function(f){c.has(f)||Qf(f,null)}),c.forEach(function(f){l.has(f)||Qf(f,u)})}iv.set(s,e)},[e]),s}function sT(e){return e}function aT(e,t){t===void 0&&(t=sT);var s=[],i=!1,l={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(c){var u=t(c,i);return s.push(u),function(){s=s.filter(function(f){return f!==u})}},assignSyncMedium:function(c){for(i=!0;s.length;){var u=s;s=[],u.forEach(c)}s={push:function(f){return c(f)},filter:function(){return s}}},assignMedium:function(c){i=!0;var u=[];if(s.length){var f=s;s=[],f.forEach(c),u=s}var h=function(){var v=u;u=[],v.forEach(c)},p=function(){return Promise.resolve().then(h)};p(),s={push:function(v){u.push(v),p()},filter:function(v){return u=u.filter(v),s}}}};return l}function iT(e){e===void 0&&(e={});var t=aT(null);return t.options=zr({async:!0,ssr:!1},e),t}var tw=function(e){var t=e.sideCar,s=ew(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return x.createElement(i,zr({},s))};tw.isSideCarExport=!0;function oT(e,t){return e.useMedium(t),tw}var nw=iT(),Wf=function(){},Pd=x.forwardRef(function(e,t){var s=x.useRef(null),i=x.useState({onScrollCapture:Wf,onWheelCapture:Wf,onTouchMoveCapture:Wf}),l=i[0],c=i[1],u=e.forwardProps,f=e.children,h=e.className,p=e.removeScrollBar,v=e.enabled,b=e.shards,N=e.sideCar,_=e.noIsolation,E=e.inert,w=e.allowPinchZoom,S=e.as,k=S===void 0?"div":S,C=e.gapMode,R=ew(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=N,O=rT([s,t]),G=zr(zr({},R),l);return x.createElement(x.Fragment,null,v&&x.createElement(P,{sideCar:nw,removeScrollBar:p,shards:b,noIsolation:_,inert:E,setCallbacks:c,allowPinchZoom:!!w,lockRef:s,gapMode:C}),u?x.cloneElement(x.Children.only(f),zr(zr({},G),{ref:O})):x.createElement(k,zr({},G,{className:h,ref:O}),f))});Pd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pd.classNames={fullWidth:Vc,zeroRight:Bc};var lT=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function cT(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=lT();return t&&e.setAttribute("nonce",t),e}function dT(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function uT(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var fT=function(){var e=0,t=null;return{add:function(s){e==0&&(t=cT())&&(dT(t,s),uT(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},mT=function(){var e=fT();return function(t,s){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},rw=function(){var e=mT(),t=function(s){var i=s.styles,l=s.dynamic;return e(i,l),null};return t},pT={left:0,top:0,right:0,gap:0},Hf=function(e){return parseInt(e||"",10)||0},hT=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],l=t[e==="padding"?"paddingRight":"marginRight"];return[Hf(s),Hf(i),Hf(l)]},gT=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return pT;var t=hT(e),s=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-s+t[2]-t[0])}},xT=rw(),bi="data-scroll-locked",vT=function(e,t,s,i){var l=e.left,c=e.top,u=e.right,f=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(JE,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(f,"px ").concat(i,`;
  }
  body[`).concat(bi,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),s==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(i,`;
    `),s==="padding"&&"padding-right: ".concat(f,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Bc,` {
    right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(Vc,` {
    margin-right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(Bc," .").concat(Bc,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Vc," .").concat(Vc,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(bi,`] {
    `).concat(eT,": ").concat(f,`px;
  }
`)},ov=function(){var e=parseInt(document.body.getAttribute(bi)||"0",10);return isFinite(e)?e:0},yT=function(){x.useEffect(function(){return document.body.setAttribute(bi,(ov()+1).toString()),function(){var e=ov()-1;e<=0?document.body.removeAttribute(bi):document.body.setAttribute(bi,e.toString())}},[])},wT=function(e){var t=e.noRelative,s=e.noImportant,i=e.gapMode,l=i===void 0?"margin":i;yT();var c=x.useMemo(function(){return gT(l)},[l]);return x.createElement(xT,{styles:vT(c,!t,l,s?"":"!important")})},km=!1;if(typeof window<"u")try{var Ec=Object.defineProperty({},"passive",{get:function(){return km=!0,!0}});window.addEventListener("test",Ec,Ec),window.removeEventListener("test",Ec,Ec)}catch{km=!1}var ci=km?{passive:!1}:!1,bT=function(e){return e.tagName==="TEXTAREA"},sw=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!bT(e)&&s[t]==="visible")},jT=function(e){return sw(e,"overflowY")},NT=function(e){return sw(e,"overflowX")},lv=function(e,t){var s=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var l=aw(e,i);if(l){var c=iw(e,i),u=c[1],f=c[2];if(u>f)return!0}i=i.parentNode}while(i&&i!==s.body);return!1},ST=function(e){var t=e.scrollTop,s=e.scrollHeight,i=e.clientHeight;return[t,s,i]},kT=function(e){var t=e.scrollLeft,s=e.scrollWidth,i=e.clientWidth;return[t,s,i]},aw=function(e,t){return e==="v"?jT(t):NT(t)},iw=function(e,t){return e==="v"?ST(t):kT(t)},CT=function(e,t){return e==="h"&&t==="rtl"?-1:1},_T=function(e,t,s,i,l){var c=CT(e,window.getComputedStyle(t).direction),u=c*i,f=s.target,h=t.contains(f),p=!1,v=u>0,b=0,N=0;do{var _=iw(e,f),E=_[0],w=_[1],S=_[2],k=w-S-c*E;(E||k)&&aw(e,f)&&(b+=k,N+=E),f instanceof ShadowRoot?f=f.host:f=f.parentNode}while(!h&&f!==document.body||h&&(t.contains(f)||t===f));return(v&&Math.abs(b)<1||!v&&Math.abs(N)<1)&&(p=!0),p},Tc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},cv=function(e){return[e.deltaX,e.deltaY]},dv=function(e){return e&&"current"in e?e.current:e},PT=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ET=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},TT=0,di=[];function IT(e){var t=x.useRef([]),s=x.useRef([0,0]),i=x.useRef(),l=x.useState(TT++)[0],c=x.useState(rw)[0],u=x.useRef(e);x.useEffect(function(){u.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(l));var w=XE([e.lockRef.current],(e.shards||[]).map(dv),!0).filter(Boolean);return w.forEach(function(S){return S.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),w.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(l))})}}},[e.inert,e.lockRef.current,e.shards]);var f=x.useCallback(function(w,S){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!u.current.allowPinchZoom;var k=Tc(w),C=s.current,R="deltaX"in w?w.deltaX:C[0]-k[0],P="deltaY"in w?w.deltaY:C[1]-k[1],O,G=w.target,q=Math.abs(R)>Math.abs(P)?"h":"v";if("touches"in w&&q==="h"&&G.type==="range")return!1;var X=lv(q,G);if(!X)return!0;if(X?O=q:(O=q==="v"?"h":"v",X=lv(q,G)),!X)return!1;if(!i.current&&"changedTouches"in w&&(R||P)&&(i.current=O),!O)return!0;var se=i.current||O;return _T(se,S,w,se==="h"?R:P)},[]),h=x.useCallback(function(w){var S=w;if(!(!di.length||di[di.length-1]!==c)){var k="deltaY"in S?cv(S):Tc(S),C=t.current.filter(function(O){return O.name===S.type&&(O.target===S.target||S.target===O.shadowParent)&&PT(O.delta,k)})[0];if(C&&C.should){S.cancelable&&S.preventDefault();return}if(!C){var R=(u.current.shards||[]).map(dv).filter(Boolean).filter(function(O){return O.contains(S.target)}),P=R.length>0?f(S,R[0]):!u.current.noIsolation;P&&S.cancelable&&S.preventDefault()}}},[]),p=x.useCallback(function(w,S,k,C){var R={name:w,delta:S,target:k,should:C,shadowParent:RT(k)};t.current.push(R),setTimeout(function(){t.current=t.current.filter(function(P){return P!==R})},1)},[]),v=x.useCallback(function(w){s.current=Tc(w),i.current=void 0},[]),b=x.useCallback(function(w){p(w.type,cv(w),w.target,f(w,e.lockRef.current))},[]),N=x.useCallback(function(w){p(w.type,Tc(w),w.target,f(w,e.lockRef.current))},[]);x.useEffect(function(){return di.push(c),e.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:N}),document.addEventListener("wheel",h,ci),document.addEventListener("touchmove",h,ci),document.addEventListener("touchstart",v,ci),function(){di=di.filter(function(w){return w!==c}),document.removeEventListener("wheel",h,ci),document.removeEventListener("touchmove",h,ci),document.removeEventListener("touchstart",v,ci)}},[]);var _=e.removeScrollBar,E=e.inert;return x.createElement(x.Fragment,null,E?x.createElement(c,{styles:ET(l)}):null,_?x.createElement(wT,{gapMode:e.gapMode}):null)}function RT(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const AT=oT(nw,IT);var ip=x.forwardRef(function(e,t){return x.createElement(Pd,zr({},e,{ref:t,sideCar:AT}))});ip.classNames=Pd.classNames;var LT=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ui=new WeakMap,Ic=new WeakMap,Rc={},Gf=0,ow=function(e){return e&&(e.host||ow(e.parentNode))},DT=function(e,t){return t.map(function(s){if(e.contains(s))return s;var i=ow(s);return i&&e.contains(i)?i:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},MT=function(e,t,s,i){var l=DT(t,Array.isArray(e)?e:[e]);Rc[s]||(Rc[s]=new WeakMap);var c=Rc[s],u=[],f=new Set,h=new Set(l),p=function(b){!b||f.has(b)||(f.add(b),p(b.parentNode))};l.forEach(p);var v=function(b){!b||h.has(b)||Array.prototype.forEach.call(b.children,function(N){if(f.has(N))v(N);else try{var _=N.getAttribute(i),E=_!==null&&_!=="false",w=(ui.get(N)||0)+1,S=(c.get(N)||0)+1;ui.set(N,w),c.set(N,S),u.push(N),w===1&&E&&Ic.set(N,!0),S===1&&N.setAttribute(s,"true"),E||N.setAttribute(i,"true")}catch(k){console.error("aria-hidden: cannot operate on ",N,k)}})};return v(t),f.clear(),Gf++,function(){u.forEach(function(b){var N=ui.get(b)-1,_=c.get(b)-1;ui.set(b,N),c.set(b,_),N||(Ic.has(b)||b.removeAttribute(i),Ic.delete(b)),_||b.removeAttribute(s)}),Gf--,Gf||(ui=new WeakMap,ui=new WeakMap,Ic=new WeakMap,Rc={})}},lw=function(e,t,s){s===void 0&&(s="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),l=LT(e);return l?(i.push.apply(i,Array.from(l.querySelectorAll("[aria-live]"))),MT(i,l,s,"aria-hidden")):function(){return null}},op="Dialog",[cw]=Er(op),[OT,Tr]=cw(op),dw=e=>{const{__scopeDialog:t,children:s,open:i,defaultOpen:l,onOpenChange:c,modal:u=!0}=e,f=x.useRef(null),h=x.useRef(null),[p=!1,v]=Ca({prop:i,defaultProp:l,onChange:c});return n.jsx(OT,{scope:t,triggerRef:f,contentRef:h,contentId:Ws(),titleId:Ws(),descriptionId:Ws(),open:p,onOpenChange:v,onOpenToggle:x.useCallback(()=>v(b=>!b),[v]),modal:u,children:s})};dw.displayName=op;var uw="DialogTrigger",fw=x.forwardRef((e,t)=>{const{__scopeDialog:s,...i}=e,l=Tr(uw,s),c=st(t,l.triggerRef);return n.jsx(qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":dp(l.open),...i,ref:c,onClick:Ce(e.onClick,l.onOpenToggle)})});fw.displayName=uw;var lp="DialogPortal",[FT,mw]=cw(lp,{forceMount:void 0}),pw=e=>{const{__scopeDialog:t,forceMount:s,children:i,container:l}=e,c=Tr(lp,t);return n.jsx(FT,{scope:t,forceMount:s,children:x.Children.map(i,u=>n.jsx(ir,{present:s||c.open,children:n.jsx(gd,{asChild:!0,container:l,children:u})}))})};pw.displayName=lp;var od="DialogOverlay",hw=x.forwardRef((e,t)=>{const s=mw(od,e.__scopeDialog),{forceMount:i=s.forceMount,...l}=e,c=Tr(od,e.__scopeDialog);return c.modal?n.jsx(ir,{present:i||c.open,children:n.jsx($T,{...l,ref:t})}):null});hw.displayName=od;var zT=ji("DialogOverlay.RemoveScroll"),$T=x.forwardRef((e,t)=>{const{__scopeDialog:s,...i}=e,l=Tr(od,s);return n.jsx(ip,{as:zT,allowPinchZoom:!0,shards:[l.contentRef],children:n.jsx(qe.div,{"data-state":dp(l.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),Ia="DialogContent",gw=x.forwardRef((e,t)=>{const s=mw(Ia,e.__scopeDialog),{forceMount:i=s.forceMount,...l}=e,c=Tr(Ia,e.__scopeDialog);return n.jsx(ir,{present:i||c.open,children:c.modal?n.jsx(BT,{...l,ref:t}):n.jsx(VT,{...l,ref:t})})});gw.displayName=Ia;var BT=x.forwardRef((e,t)=>{const s=Tr(Ia,e.__scopeDialog),i=x.useRef(null),l=st(t,s.contentRef,i);return x.useEffect(()=>{const c=i.current;if(c)return lw(c)},[]),n.jsx(xw,{...e,ref:l,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(e.onCloseAutoFocus,c=>{c.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:Ce(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&c.preventDefault()}),onFocusOutside:Ce(e.onFocusOutside,c=>c.preventDefault())})}),VT=x.forwardRef((e,t)=>{const s=Tr(Ia,e.__scopeDialog),i=x.useRef(!1),l=x.useRef(!1);return n.jsx(xw,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{e.onCloseAutoFocus?.(c),c.defaultPrevented||(i.current||s.triggerRef.current?.focus(),c.preventDefault()),i.current=!1,l.current=!1},onInteractOutside:c=>{e.onInteractOutside?.(c),c.defaultPrevented||(i.current=!0,c.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const u=c.target;s.triggerRef.current?.contains(u)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&l.current&&c.preventDefault()}})}),xw=x.forwardRef((e,t)=>{const{__scopeDialog:s,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:c,...u}=e,f=Tr(Ia,s),h=x.useRef(null),p=st(t,h);return J0(),n.jsxs(n.Fragment,{children:[n.jsx(ap,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:l,onUnmountAutoFocus:c,children:n.jsx(il,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":dp(f.open),...u,ref:p,onDismiss:()=>f.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(qT,{titleId:f.titleId}),n.jsx(QT,{contentRef:h,descriptionId:f.descriptionId})]})]})}),cp="DialogTitle",vw=x.forwardRef((e,t)=>{const{__scopeDialog:s,...i}=e,l=Tr(cp,s);return n.jsx(qe.h2,{id:l.titleId,...i,ref:t})});vw.displayName=cp;var yw="DialogDescription",ww=x.forwardRef((e,t)=>{const{__scopeDialog:s,...i}=e,l=Tr(yw,s);return n.jsx(qe.p,{id:l.descriptionId,...i,ref:t})});ww.displayName=yw;var bw="DialogClose",jw=x.forwardRef((e,t)=>{const{__scopeDialog:s,...i}=e,l=Tr(bw,s);return n.jsx(qe.button,{type:"button",...i,ref:t,onClick:Ce(e.onClick,()=>l.onOpenChange(!1))})});jw.displayName=bw;function dp(e){return e?"open":"closed"}var Nw="DialogTitleWarning",[RR,Sw]=cS(Nw,{contentName:Ia,titleName:cp,docsSlug:"dialog"}),qT=({titleId:e})=>{const t=Sw(Nw),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},UT="DialogDescriptionWarning",QT=({contentRef:e,descriptionId:t})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Sw(UT).contentName}}.`;return x.useEffect(()=>{const l=e.current?.getAttribute("aria-describedby");t&&l&&(document.getElementById(t)||console.warn(i))},[i,e,t]),null},WT=dw,HT=fw,GT=pw,kw=hw,Cw=gw,_w=vw,Pw=ww,KT=jw;const gt=WT,Vs=HT,ZT=GT,Ew=x.forwardRef(({className:e,...t},s)=>n.jsx(kw,{ref:s,className:we("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Ew.displayName=kw.displayName;const mt=x.forwardRef(({className:e,children:t,...s},i)=>n.jsxs(ZT,{children:[n.jsx(Ew,{}),n.jsxs(Cw,{ref:i,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,n.jsxs(KT,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx($r,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));mt.displayName=Cw.displayName;const pt=({className:e,...t})=>n.jsx("div",{className:we("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});pt.displayName="DialogHeader";const Lt=({className:e,...t})=>n.jsx("div",{className:we("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Lt.displayName="DialogFooter";const ht=x.forwardRef(({className:e,...t},s)=>n.jsx(_w,{ref:s,className:we("text-lg font-semibold leading-none tracking-tight",e),...t}));ht.displayName=_w.displayName;const Nt=x.forwardRef(({className:e,...t},s)=>n.jsx(Pw,{ref:s,className:we("text-sm text-muted-foreground",e),...t}));Nt.displayName=Pw.displayName;function YT(){const[,e]=Un(),{account:t,inventory:s,addToInventory:i,logout:l}=Wn(),{toast:c}=Qn(),[u,f]=x.useState("all"),[h,p]=x.useState("all"),[v,b]=x.useState(""),[N,_]=x.useState(null),E=x.useMemo(()=>s.map(O=>O.itemId),[s]),w={normal:"Novice",super_rare:"Novice",x_tier:"Novice",umr:"Novice",ssumr:"Novice",divine:"Apprentice",journeyman:"Journeyman",expert:"Expert",master:"Master",grandmaster:"Grandmaster",legend:"Legend",elite:"Elite"},S=x.useMemo(()=>{if(!t)return["divine","journeyman","expert","master","grandmaster","legend","elite"];const O=Sm.indexOf(t.rank);return Object.entries(w).filter(([G,q])=>Sm.indexOf(q)>O).map(([G])=>G)},[t]),k=x.useMemo(()=>Na.filter(O=>!(S.includes(O.tier)||u!=="all"&&O.tier!==u||h!=="all"&&O.type!==h||v&&!O.name.toLowerCase().includes(v.toLowerCase()))),[u,h,v,S]),C=O=>{_(O)},R=async()=>{if(!N||!t)return;if(t.gold<N.price){c({title:"Not enough gold!",description:`You need ${N.price.toLocaleString()} gold to buy ${N.name}.`,variant:"destructive"}),_(null);return}const O=await i(N);c(O?{title:"Purchase successful!",description:`You acquired ${N.name}!`}:{title:"Purchase failed",description:"Something went wrong. Please try again.",variant:"destructive"}),_(null)},P=()=>{l(),e("/")};return!t||t.role!=="player"?(e("/"),null):n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsxs("div",{className:"container mx-auto px-4 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("h1",{className:"font-serif text-xl font-bold text-foreground","data-testid":"text-shop-title",children:"Item Shop"}),n.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/shop"),className:"toggle-elevate toggle-elevated","data-testid":"link-shop",children:[n.jsx(kn,{className:"w-4 h-4 mr-1.5"}),"Shop"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/inventory"),className:"toggle-elevate","data-testid":"link-inventory",children:[n.jsx(bn,{className:"w-4 h-4 mr-1.5"}),"Inventory (",s.length,")"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/skills"),className:"toggle-elevate","data-testid":"link-skills",children:[n.jsx(kt,{className:"w-4 h-4 mr-1.5"}),"Skills"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/trading"),className:"toggle-elevate","data-testid":"link-trading",children:[n.jsx(kr,{className:"w-4 h-4 mr-1.5"}),"Trade"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/events"),className:"toggle-elevate","data-testid":"link-events",children:[n.jsx(en,{className:"w-4 h-4 mr-1.5"}),"Events"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/challenges"),className:"toggle-elevate","data-testid":"link-challenges",children:[n.jsx(St,{className:"w-4 h-4 mr-1.5"}),"Challenges"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/npc-battle"),className:"toggle-elevate","data-testid":"link-npc-battle",children:[n.jsx(Ht,{className:"w-4 h-4 mr-1.5"}),"NPC Tower"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/quests"),className:"toggle-elevate","data-testid":"link-quests",children:[n.jsx(Nr,{className:"w-4 h-4 mr-1.5"}),"Quests"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/leaderboard"),className:"toggle-elevate","data-testid":"link-leaderboard",children:[n.jsx(yt,{className:"w-4 h-4 mr-1.5"}),"Leaderboard"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/guild"),className:"toggle-elevate","data-testid":"link-guild",children:[n.jsx(tn,{className:"w-4 h-4 mr-1.5"}),"Guild"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/skills"),className:"toggle-elevate","data-testid":"link-skills",children:[n.jsx(kt,{className:"w-4 h-4 mr-1.5"}),"Skills"]})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-username",children:t.username}),n.jsx(id,{amount:t.gold,size:"sm"})]}),n.jsx(I,{variant:"outline",size:"icon",onClick:P,"data-testid":"button-logout",children:n.jsx(ar,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"flex sm:hidden overflow-x-auto gap-1 mt-3 pb-2 -mx-4 px-4 scrollbar-hide",children:[n.jsx(I,{variant:"secondary",size:"sm",onClick:()=>e("/shop"),className:"shrink-0",children:n.jsx(kn,{className:"w-4 h-4"})}),n.jsx(I,{variant:"outline",size:"sm",onClick:()=>e("/inventory"),className:"shrink-0",children:n.jsx(bn,{className:"w-4 h-4"})}),n.jsx(I,{variant:"outline",size:"sm",onClick:()=>e("/pets"),className:"shrink-0",children:n.jsx(jr,{className:"w-4 h-4"})}),n.jsx(I,{variant:"outline",size:"sm",onClick:()=>e("/events"),className:"shrink-0",children:n.jsx(en,{className:"w-4 h-4"})}),n.jsx(I,{variant:"outline",size:"sm",onClick:()=>e("/challenges"),className:"shrink-0",children:n.jsx(St,{className:"w-4 h-4"})}),n.jsx(I,{variant:"outline",size:"sm",onClick:()=>e("/npc-battle"),className:"shrink-0",children:n.jsx(Ht,{className:"w-4 h-4"})}),n.jsx(I,{variant:"outline",size:"sm",onClick:()=>e("/quests"),className:"shrink-0",children:n.jsx(Nr,{className:"w-4 h-4"})}),n.jsx(I,{variant:"outline",size:"sm",onClick:()=>e("/leaderboard"),className:"shrink-0",children:n.jsx(yt,{className:"w-4 h-4"})}),n.jsx(I,{variant:"outline",size:"sm",onClick:()=>e("/guild"),className:"shrink-0",children:n.jsx(Qs,{className:"w-4 h-4"})})]})]})}),n.jsxs("main",{className:"container mx-auto px-4 py-6",children:[n.jsxs("div",{className:"space-y-4 mb-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx(To,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(tt,{type:"search",placeholder:"Search items...",value:v,onChange:O=>b(O.target.value),className:"pl-9","data-testid":"input-search"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Y0,{selectedTier:u,onSelectTier:f,excludeTiers:S}),n.jsx(UE,{selectedType:h,onSelectType:p})]})]}),n.jsx("div",{className:"mb-4",children:n.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":"text-item-count",children:["Showing ",k.length," items"]})}),n.jsx(Z0,{items:k,onBuy:C,showBuyButton:!0,ownedItemIds:E,playerGold:t.gold})]}),n.jsx(gt,{open:!!N,onOpenChange:()=>_(null),children:n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsx(ht,{className:"font-serif",children:"Confirm Purchase"}),n.jsx(Nt,{children:"Are you sure you want to buy this item?"})]}),N&&n.jsx("div",{className:"py-4",children:n.jsx(K0,{item:N,showBuyButton:!1})}),n.jsxs(Lt,{className:"gap-2",children:[n.jsx(I,{variant:"outline",onClick:()=>_(null),"data-testid":"button-cancel-purchase",children:"Cancel"}),n.jsxs(I,{onClick:R,"data-testid":"button-confirm-purchase",children:["Buy for ",N?.price.toLocaleString()," gold"]})]})]})})]})}const XT={normal:"border-tier-normal",super_rare:"border-tier-super-rare",x_tier:"border-tier-x",umr:"border-tier-umr",ssumr:"border-tier-ssumr",divine:"border-tier-x",journeyman:"border-tier-normal",expert:"border-tier-super-rare",master:"border-tier-x",grandmaster:"border-tier-umr",legend:"border-tier-ssumr",elite:"border-tier-ssumr"};function Ac({stat:e,value:t,icon:s}){return n.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-md bg-secondary/30",children:[n.jsx("div",{className:"text-muted-foreground",children:s}),n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:e}),n.jsx("span",{className:"font-mono font-bold ml-2",children:t})]})]})}function Lc({slot:e,item:t,inventoryItem:s,label:i,icon:l,onUnequip:c,onBoost:u}){const f=s?.stats||{};return n.jsxs("div",{className:we("p-3 rounded-md border-2 border-dashed transition-colors",t?XT[t.tier]+" bg-card":"border-muted bg-secondary/20"),children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-muted-foreground",children:l}),n.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase",children:i})]}),t?n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"font-serif font-semibold text-sm",children:t.name}),n.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(t.stats).map(([h,p])=>{const v=f[h]||0,b=(p||0)+v;return b===0?null:n.jsxs(le,{variant:"secondary",className:"text-xs font-mono",children:["+",b," ",h,v>0&&n.jsxs("span",{className:"ml-1 text-tier-x",children:["(+",v,")"]})]},h)})}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsx(I,{size:"sm",variant:"outline",onClick:c,className:"flex-1","data-testid":`button-unequip-${e}`,children:"Unequip"}),(t.type==="weapon"||t.type==="armor"||t.type==="accessory")&&n.jsxs(I,{size:"sm",variant:"secondary",onClick:u,className:"gap-1 px-2","data-testid":`button-boost-${e}`,children:[n.jsx(dm,{className:"w-3 h-3 text-tier-x fill-tier-x"}),"Boost"]})]})]}):n.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Empty slot"})]})}function JT(){const[,e]=Un(),{account:t,inventory:s,logout:i,setAccount:l,refreshInventory:c}=Wn(),{toast:u}=Qn(),[f,h]=x.useState(null),[p,v]=x.useState(null),[b,N]=x.useState(!1),[_,E]=x.useState(1),[w,S]=x.useState(null),[k,C]=x.useState(!1),P=t?["Journeyman","Expert","Master","Grandmaster","Legend","Elite"].includes(t.rank):!1,O=x.useMemo(()=>({Novice:999,Apprentice:9999,Journeyman:99999,Expert:999999,Master:9999999,Grandmaster:99999999,Legend:999999999,Elite:9999999999})[t?.rank||"Novice"]||999,[t?.rank]),G=x.useMemo(()=>s.map(B=>{const Y=Do(B.itemId);if(Y)return{...Y,inventoryId:B.id,boostedStats:B.stats||{}}}).filter(B=>B!==void 0),[s]),q=x.useMemo(()=>{if(!t)return{weapon:null,armor:null,accessory1:null,accessory2:null};const B=Y=>{if(!Y)return null;const T=s.find(U=>U.itemId===Y);return T?{item:Do(T.itemId),invItem:T}:null};return{weapon:B(t.equipped?.weapon),armor:B(t.equipped?.armor),accessory1:B(t.equipped?.accessory1),accessory2:B(t.equipped?.accessory2)}},[t,s]),X=x.useMemo(()=>{const B=t?.stats||{Str:10,Spd:10,Int:10,Luck:10,Pot:0},Y={Str:0,Spd:0,Int:0,Luck:0,Pot:0};return Object.values(q).forEach(T=>{if(T){const{item:U,invItem:W}=T,L=W.stats||{};Object.entries(U.stats).forEach(([H,_e])=>{H in Y&&(Y[H]+=(_e||0)+(L[H]||0))})}}),{Str:B.Str+Y.Str,Spd:B.Spd+Y.Spd,Int:B.Int+Y.Int,Luck:B.Luck+Y.Luck,Pot:B.Pot+Y.Pot}},[t,q]),se=x.useMemo(()=>{if(!f)return[];const B=f.type;return G.filter(Y=>Y.type===B)},[f,G]),de=x.useMemo(()=>G.reduce((B,Y)=>B+Y.price,0),[G]),xe=async(B,Y)=>{if(!t)return;const T={...t.equipped,[Y]:B.id};try{await he("PATCH",`/api/accounts/${t.id}`,{equipped:T}),l({...t,equipped:T}),h(null),await c()}catch(U){console.error("Failed to equip item:",U)}},oe=async(B,Y)=>{if(B.stopPropagation(),!t)return;const T={...t.equipped,[Y]:null};try{await he("PATCH",`/api/accounts/${t.id}`,{equipped:T}),l({...t,equipped:T}),await c()}catch(U){console.error("Failed to unequip item:",U)}},K=async(B,Y=1)=>{if(!p||!t)return;const T=10*Y;if(t.trainingPoints<T){u({title:"Insufficient Training Points",description:`You need ${T} Training Points to boost by ${Y}.`,variant:"destructive"});return}N(!0);try{const W=await(await he("POST",`/api/inventory/${p.id}/boost`,{stat:B,amount:Y})).json();await c();const L=await he("GET",`/api/accounts/${t.id}`);l(await L.json()),v({...p,stats:W.stats}),u({title:"Stat Boosted!",description:`Successfully boosted ${B} by ${Y}.`})}catch{u({title:"Boost Failed",description:"Could not boost weapon stat.",variant:"destructive"})}finally{N(!1)}},$=async()=>{if(!(!w||!t)){C(!0);try{const Y=await(await he("POST",`/api/accounts/${t.id}/inventory/${w.inventoryItem.id}/sell`,{originalPrice:w.item.price})).json();await c();const T=await he("GET",`/api/accounts/${t.id}`);l(await T.json()),u({title:"Item Sold!",description:`Received ${Y.goldReceived.toLocaleString()} gold for ${w.item.name}.`}),S(null)}catch(B){const Y=await B.json?.()||{error:"Could not sell item."};u({title:"Sell Failed",description:Y.error,variant:"destructive"})}finally{C(!1)}}},me=()=>{i(),e("/")};return!t||t.role!=="player"?(e("/"),null):n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsxs("div",{className:"container mx-auto px-4 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("h1",{className:"font-serif text-xl font-bold text-foreground","data-testid":"text-inventory-title",children:"My Inventory"}),n.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/shop"),className:"toggle-elevate","data-testid":"link-shop",children:[n.jsx(kn,{className:"w-4 h-4 mr-1.5"}),"Shop"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/skills"),className:"toggle-elevate","data-testid":"link-skills",children:[n.jsx(kt,{className:"w-4 h-4 mr-1.5"}),"Skills"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/trading"),className:"toggle-elevate","data-testid":"link-trading",children:[n.jsx(kr,{className:"w-4 h-4 mr-1.5"}),"Trade"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/inventory"),className:"toggle-elevate toggle-elevated","data-testid":"link-inventory",children:[n.jsx(bn,{className:"w-4 h-4 mr-1.5"}),"Inventory (",s.length,")"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/pets"),className:"toggle-elevate","data-testid":"link-pets",children:[n.jsx(jr,{className:"w-4 h-4 mr-1.5"}),"Pets"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/events"),className:"toggle-elevate","data-testid":"link-events",children:[n.jsx(en,{className:"w-4 h-4 mr-1.5"}),"Events"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/challenges"),className:"toggle-elevate","data-testid":"link-challenges",children:[n.jsx(St,{className:"w-4 h-4 mr-1.5"}),"Challenges"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/npc-battle"),className:"toggle-elevate","data-testid":"link-npc-battle",children:[n.jsx(Ht,{className:"w-4 h-4 mr-1.5"}),"NPC Tower"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/quests"),className:"toggle-elevate","data-testid":"link-quests",children:[n.jsx(Nr,{className:"w-4 h-4 mr-1.5"}),"Quests"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/leaderboard"),className:"toggle-elevate","data-testid":"link-leaderboard",children:[n.jsx(yt,{className:"w-4 h-4 mr-1.5"}),"Leaderboard"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/guild"),className:"toggle-elevate","data-testid":"link-guild",children:[n.jsx(Qs,{className:"w-4 h-4 mr-1.5"}),"Guild"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/skills"),className:"toggle-elevate","data-testid":"link-skills",children:[n.jsx(kt,{className:"w-4 h-4 mr-1.5"}),"Skills"]})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-username",children:t.username}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(id,{amount:t.gold,size:"sm"}),n.jsxs("div",{className:"flex items-center gap-1 text-xs font-mono text-tier-x",children:[n.jsx(dm,{className:"w-3 h-3 fill-tier-x"}),t.trainingPoints||0," TP"]})]})]}),n.jsx(I,{variant:"outline",size:"icon",onClick:me,"data-testid":"button-logout",children:n.jsx(ar,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"flex sm:hidden overflow-x-auto gap-1 mt-3 pb-2 -mx-4 px-4 scrollbar-hide",children:[n.jsx(I,{variant:"outline",size:"sm",onClick:()=>e("/shop"),className:"shrink-0",children:n.jsx(kn,{className:"w-4 h-4"})}),n.jsx(I,{variant:"secondary",size:"sm",onClick:()=>e("/inventory"),className:"shrink-0",children:n.jsx(bn,{className:"w-4 h-4"})}),n.jsx(I,{variant:"outline",size:"sm",onClick:()=>e("/pets"),className:"shrink-0",children:n.jsx(jr,{className:"w-4 h-4"})}),n.jsx(I,{variant:"outline",size:"sm",onClick:()=>e("/events"),className:"shrink-0",children:n.jsx(en,{className:"w-4 h-4"})}),n.jsx(I,{variant:"outline",size:"sm",onClick:()=>e("/challenges"),className:"shrink-0",children:n.jsx(St,{className:"w-4 h-4"})}),n.jsx(I,{variant:"outline",size:"sm",onClick:()=>e("/npc-battle"),className:"shrink-0",children:n.jsx(Ht,{className:"w-4 h-4"})}),n.jsx(I,{variant:"outline",size:"sm",onClick:()=>e("/quests"),className:"shrink-0",children:n.jsx(Nr,{className:"w-4 h-4"})}),n.jsx(I,{variant:"outline",size:"sm",onClick:()=>e("/leaderboard"),className:"shrink-0",children:n.jsx(yt,{className:"w-4 h-4"})}),n.jsx(I,{variant:"outline",size:"sm",onClick:()=>e("/guild"),className:"shrink-0",children:n.jsx(Qs,{className:"w-4 h-4"})})]})]})}),n.jsxs("main",{className:"container mx-auto px-4 py-6",children:[n.jsxs("div",{className:"grid lg:grid-cols-3 gap-6 mb-8",children:[n.jsxs(Te,{children:[n.jsx(He,{className:"pb-3",children:n.jsxs(We,{className:"font-serif text-base flex items-center gap-2",children:[n.jsx(Ty,{className:"w-4 h-4"}),"Character Info"]})}),n.jsxs(Le,{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Rank"}),n.jsx(le,{variant:"secondary",children:t.rank})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Record"}),n.jsxs("span",{className:"text-sm font-mono",children:[n.jsxs("span",{className:"text-green-500",children:[t.wins,"W"]})," / ",n.jsxs("span",{className:"text-red-500",children:[t.losses,"L"]})]})]}),n.jsxs("div",{className:"border-t border-border pt-2 mt-2 space-y-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(dm,{className:"w-3 h-3 text-tier-x fill-tier-x"})," Training Points"]}),n.jsx("span",{className:"text-sm font-mono text-tier-x",children:t.trainingPoints||0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(qs,{className:"w-3 h-3 text-red-400"})," Rubies"]}),n.jsx("span",{className:"text-sm font-mono text-red-400",children:t.rubies||0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(kt,{className:"w-3 h-3 text-purple-400"})," Soul Shards"]}),n.jsx("span",{className:"text-sm font-mono text-purple-400",children:t.soulShards||0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(Ks,{className:"w-3 h-3 text-blue-400"})," Focused Shards"]}),n.jsx("span",{className:"text-sm font-mono text-blue-400",children:t.focusedShards||0})]})]})]})]}),n.jsxs(Te,{children:[n.jsx(He,{className:"pb-3",children:n.jsxs(We,{className:"font-serif text-base flex items-center gap-2",children:[n.jsx(yt,{className:"w-4 h-4"}),"Total Stats"]})}),n.jsx(Le,{children:n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx(Ac,{stat:"Str",value:X.Str,icon:n.jsx(Ks,{className:"w-4 h-4 text-stat-str"})}),n.jsx(Ac,{stat:"Spd",value:X.Spd,icon:n.jsx(Ht,{className:"w-4 h-4 text-stat-spd"})}),n.jsx(Ac,{stat:"Int",value:X.Int,icon:n.jsx(Cy,{className:"w-4 h-4 text-stat-int"})}),n.jsx(Ac,{stat:"Luck",value:X.Luck,icon:n.jsx(Py,{className:"w-4 h-4 text-stat-luck"})})]})})]}),n.jsxs(Te,{children:[n.jsx(He,{className:"pb-3",children:n.jsxs(We,{className:"font-serif text-base flex items-center gap-2",children:[n.jsx(Px,{className:"w-4 h-4"}),"Inventory Value"]})}),n.jsxs(Le,{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Items"}),n.jsx("span",{className:"font-mono font-bold",children:G.length})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Value"}),n.jsx(id,{amount:de,size:"sm"})]})]})]})]}),n.jsxs(Te,{className:"mb-8",children:[n.jsx(He,{className:"pb-3",children:n.jsx(We,{className:"font-serif text-base",children:"Equipment Slots"})}),n.jsx(Le,{children:n.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx("div",{onClick:()=>h({slot:"weapon",type:"weapon"}),className:"cursor-pointer",children:n.jsx(Lc,{slot:"weapon",item:q.weapon?.item||null,inventoryItem:q.weapon?.invItem||null,label:"Weapon",icon:n.jsx(Us,{className:"w-4 h-4"}),onUnequip:B=>oe(B,"weapon"),onBoost:()=>v(q.weapon?.invItem||null)})}),n.jsx("div",{onClick:()=>h({slot:"armor",type:"armor"}),className:"cursor-pointer",children:n.jsx(Lc,{slot:"armor",item:q.armor?.item||null,inventoryItem:q.armor?.invItem||null,label:"Armor",icon:n.jsx(tn,{className:"w-4 h-4"}),onUnequip:B=>oe(B,"armor"),onBoost:()=>v(q.armor?.invItem||null)})}),n.jsx("div",{onClick:()=>h({slot:"accessory1",type:"accessory"}),className:"cursor-pointer",children:n.jsx(Lc,{slot:"accessory1",item:q.accessory1?.item||null,inventoryItem:q.accessory1?.invItem||null,label:"Accessory 1",icon:n.jsx(qs,{className:"w-4 h-4"}),onUnequip:B=>oe(B,"accessory1"),onBoost:()=>v(q.accessory1?.invItem||null)})}),n.jsx("div",{onClick:()=>h({slot:"accessory2",type:"accessory"}),className:"cursor-pointer",children:n.jsx(Lc,{slot:"accessory2",item:q.accessory2?.item||null,inventoryItem:q.accessory2?.invItem||null,label:"Accessory 2",icon:n.jsx(qs,{className:"w-4 h-4"}),onUnequip:B=>oe(B,"accessory2"),onBoost:()=>v(q.accessory2?.invItem||null)})})]})})]}),n.jsxs("div",{className:"flex items-center justify-between mb-4 flex-wrap gap-2",children:[n.jsx("h2",{className:"font-serif text-lg font-semibold",children:"All Items"}),P?n.jsxs(le,{variant:"outline",className:"text-green-600 border-green-600/50",children:[n.jsx(cm,{className:"w-3 h-3 mr-1"}),"Selling Available (50% value)"]}):n.jsx(le,{variant:"outline",className:"text-muted-foreground",children:"Reach Journeyman rank to sell items"})]}),G.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[n.jsx("div",{className:"p-4 rounded-full bg-secondary/50 mb-4",children:n.jsx(Px,{className:"w-12 h-12 text-muted-foreground"})}),n.jsx("h2",{className:"font-serif text-xl font-semibold mb-2",children:"Your inventory is empty"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"Visit the shop to acquire legendary items!"}),n.jsxs(I,{onClick:()=>e("/shop"),"data-testid":"button-go-to-shop",children:[n.jsx(kn,{className:"w-4 h-4 mr-2"}),"Go to Shop"]})]}):n.jsx(Z0,{items:G,showBuyButton:!1,showSellButton:P,ownedItemIds:G.map(B=>B.id),onSell:B=>{const Y=s.find(T=>T.itemId===B.id);Y&&S({inventoryItem:Y,item:B})}})]}),n.jsx(gt,{open:!!f,onOpenChange:()=>h(null),children:n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsxs(ht,{className:"font-serif",children:["Equip ",f?.type]}),n.jsx(Nt,{children:"Select an item from your inventory to equip."})]}),n.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:se.length===0?n.jsxs("p",{className:"text-sm text-muted-foreground text-center py-4",children:["No ",f?.type," items in inventory"]}):se.map(B=>n.jsx(I,{variant:"outline",className:"w-full justify-start h-auto py-2",onClick:()=>f&&xe(B,f.slot),"data-testid":`button-equip-${B.inventoryId}`,children:n.jsxs("div",{className:"flex flex-col items-start gap-1",children:[n.jsx("span",{className:"font-serif font-bold",children:B.name}),n.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(B.stats).map(([Y,T])=>{const U=B.boostedStats[Y]||0,W=(T||0)+U;return W===0?null:n.jsxs(le,{variant:"secondary",className:"text-[10px] px-1 h-4",children:["+",W," ",Y]},Y)})})]})},B.inventoryId))})]})}),n.jsx(gt,{open:!!p,onOpenChange:()=>{v(null),E(1)},children:n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsx(ht,{className:"font-serif",children:"Boost Equipment Stats"}),n.jsxs(Nt,{children:["Spend 10 Training Points per stat point. Max ",O.toLocaleString()," (",t?.rank||"Novice"," rank)."]})]}),p&&n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md bg-tier-x/10 border border-tier-x/20",children:[n.jsx("span",{className:"text-sm font-medium",children:"Available TP"}),n.jsxs("span",{className:"font-mono font-bold text-tier-x",children:[t.trainingPoints||0," TP"]})]}),n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Boost Amount:"}),[1,10,100,1e3].map(B=>n.jsxs(I,{size:"sm",variant:_===B?"default":"outline",onClick:()=>E(B),"data-testid":`button-boost-scale-${B}`,children:["+",B]},B))]}),n.jsxs("div",{className:"text-center text-xs text-muted-foreground",children:["Cost: ",10*_," TP per boost"]}),n.jsx("div",{className:"grid gap-2",children:["Str","Int","Spd","Luck","Pot"].map(B=>{const Y=Do(p.itemId);if(!Y)return null;const T=p.stats?.[B]||0,U=Y.stats[B]||0,W=U+T,L=10*_;return n.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-bold uppercase",children:B}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Total: ",W," (Base: ",U," + Boost: ",T,")"]})]}),n.jsxs(I,{size:"sm",disabled:b||t.trainingPoints<L||W>=O,onClick:()=>K(B,_),className:"gap-1","data-testid":`button-boost-${B}`,children:["+",_," ",B]})]},B)})})]}),n.jsx(Lt,{children:n.jsx(I,{variant:"outline",onClick:()=>{v(null),E(1)},children:"Close"})})]})}),n.jsx(gt,{open:!!w,onOpenChange:()=>S(null),children:n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsxs(ht,{className:"font-serif flex items-center gap-2",children:[n.jsx(cm,{className:"w-5 h-5 text-green-500"}),"Sell Item"]}),n.jsx(Nt,{children:"Sell this item for 50% of its original value."})]}),w&&n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"p-4 rounded-lg border bg-card",children:[n.jsx("h4",{className:"font-serif font-semibold",children:w.item.name}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:Object.entries(w.item.stats).map(([B,Y])=>Y?n.jsxs(le,{variant:"secondary",className:"text-xs",children:["+",Y," ",B]},B):null)})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 p-3 rounded-md bg-secondary/30",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Original Price"}),n.jsxs("p",{className:"font-mono font-bold text-muted-foreground line-through",children:[w.item.price.toLocaleString()," gold"]})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-green-500",children:"You Receive"}),n.jsxs("p",{className:"font-mono font-bold text-green-500",children:[Math.floor(w.item.price*.5).toLocaleString()," gold"]})]})]}),n.jsx("div",{className:"text-center text-xs text-amber-500",children:"This action cannot be undone!"})]}),n.jsxs(Lt,{children:[n.jsx(I,{variant:"outline",onClick:()=>S(null),children:"Cancel"}),n.jsxs(I,{onClick:$,disabled:k,className:"bg-green-600 hover:bg-green-700","data-testid":"button-confirm-sell",children:[n.jsx(rr,{className:"w-4 h-4 mr-2"}),k?"Selling...":"Sell Item"]})]})]})})]})}function e5(){const[,e]=Un(),{account:t,inventory:s,logout:i}=Wn(),{toast:l}=Qn(),{data:c=[],isLoading:u}=lt({queryKey:["/api/events"]}),{data:f=[],isLoading:h}=lt({queryKey:["/api/accounts",t?.id,"events"],enabled:!!t?.id}),p=x.useMemo(()=>new Set(f.map(k=>k.eventId)),[f]),v=async k=>{if(t)try{await he("POST",`/api/events/${k.id}/register`,{accountId:t.id}),l({title:"Registered!",description:`You are now registered for ${k.name}.`}),ce.invalidateQueries({queryKey:["/api/accounts",t.id,"events"]})}catch{l({title:"Registration failed",description:"Could not register for this event.",variant:"destructive"})}},b=async k=>{if(t){if(k.isMandatory){l({title:"Cannot unregister",description:"This is a mandatory event. You cannot unregister.",variant:"destructive"});return}try{await he("DELETE",`/api/events/${k.id}/register/${t.id}`),l({title:"Unregistered",description:`You have been removed from ${k.name}.`}),ce.invalidateQueries({queryKey:["/api/accounts",t.id,"events"]})}catch{l({title:"Failed to unregister",description:"Could not unregister from this event.",variant:"destructive"})}}},N=()=>{i(),e("/")};if(!t||t.role!=="player")return e("/"),null;const _=u||h,E=c.filter(k=>new Date(k.startDate)>new Date),w=c.filter(k=>{const C=new Date,R=new Date(k.startDate),P=k.endDate?new Date(k.endDate):null;return R<=C&&(!P||P>=C)}),S=c.filter(k=>{const C=k.endDate?new Date(k.endDate):null;return C&&C<new Date});return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsx("div",{className:"container mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(I,{variant:"ghost",size:"icon",onClick:()=>e("/shop"),"data-testid":"button-back",children:n.jsx(Um,{className:"w-5 h-5"})}),n.jsx("h1",{className:"font-serif text-xl font-bold text-foreground","data-testid":"text-events-title",children:"Events"}),n.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/shop"),className:"toggle-elevate","data-testid":"link-shop",children:[n.jsx(kn,{className:"w-4 h-4 mr-1.5"}),"Shop"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/inventory"),className:"toggle-elevate","data-testid":"link-inventory",children:[n.jsx(bn,{className:"w-4 h-4 mr-1.5"}),"Inventory (",s.length,")"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/events"),className:"toggle-elevate toggle-elevated","data-testid":"link-events",children:[n.jsx(en,{className:"w-4 h-4 mr-1.5"}),"Events"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/challenges"),className:"toggle-elevate","data-testid":"link-challenges",children:[n.jsx(St,{className:"w-4 h-4 mr-1.5"}),"Challenges"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/npc-battle"),className:"toggle-elevate","data-testid":"link-npc-battle",children:[n.jsx(Ht,{className:"w-4 h-4 mr-1.5"}),"NPC Tower"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/quests"),className:"toggle-elevate","data-testid":"link-quests",children:[n.jsx(Nr,{className:"w-4 h-4 mr-1.5"}),"Quests"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/leaderboard"),className:"toggle-elevate","data-testid":"link-leaderboard",children:[n.jsx(yt,{className:"w-4 h-4 mr-1.5"}),"Leaderboard"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/guild"),className:"toggle-elevate","data-testid":"link-guild",children:[n.jsx(Ht,{className:"w-4 h-4 mr-1.5"}),"Guild"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/trading"),className:"toggle-elevate","data-testid":"link-trading",children:[n.jsx(kr,{className:"w-4 h-4 mr-1.5"}),"Trade"]})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm font-medium text-foreground","data-testid":"text-player-name",children:t.username}),n.jsx("p",{className:"text-xs text-muted-foreground","data-testid":"text-player-rank",children:t.rank})]}),n.jsx(I,{variant:"outline",size:"icon",onClick:N,"data-testid":"button-logout",children:n.jsx(ar,{className:"w-4 h-4"})})]})]})})}),n.jsx("main",{className:"container mx-auto px-4 py-6",children:_?n.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Loading events..."}):c.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(en,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h2",{className:"font-serif text-lg font-semibold mb-2",children:"No Events Yet"}),n.jsx("p",{className:"text-muted-foreground",children:"Check back later for upcoming events!"})]}):n.jsxs("div",{className:"space-y-8",children:[w.length>0&&n.jsxs("section",{children:[n.jsxs("h2",{className:"font-serif text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(Gs,{className:"w-5 h-5 text-green-500"}),"Active Events"]}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(k=>n.jsx(Kf,{event:k,isRegistered:p.has(k.id),onRegister:v,onUnregister:b,registration:f.find(C=>C.eventId===k.id)},k.id))})]}),E.length>0&&n.jsxs("section",{children:[n.jsxs("h2",{className:"font-serif text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(en,{className:"w-5 h-5 text-blue-500"}),"Upcoming Events"]}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map(k=>n.jsx(Kf,{event:k,isRegistered:p.has(k.id),onRegister:v,onUnregister:b,registration:f.find(C=>C.eventId===k.id)},k.id))})]}),S.length>0&&n.jsxs("section",{children:[n.jsxs("h2",{className:"font-serif text-lg font-semibold mb-4 flex items-center gap-2 text-muted-foreground",children:[n.jsx(en,{className:"w-5 h-5"}),"Past Events"]}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4 opacity-60",children:S.map(k=>n.jsx(Kf,{event:k,isRegistered:p.has(k.id),isPast:!0,registration:f.find(C=>C.eventId===k.id)},k.id))})]})]})})]})}function Kf({event:e,isRegistered:t,isPast:s,onRegister:i,onUnregister:l,registration:c}){return n.jsxs(Te,{"data-testid":`card-event-${e.id}`,children:[n.jsx(He,{className:"pb-2",children:n.jsxs(We,{className:"font-serif text-base flex items-center justify-between gap-2",children:[n.jsx("span",{children:e.name}),n.jsxs("div",{className:"flex gap-1",children:[e.isMandatory&&n.jsxs(le,{variant:"destructive",className:"text-[10px]",children:[n.jsx(um,{className:"w-3 h-3 mr-1"}),"Mandatory"]}),t&&n.jsxs(le,{variant:"secondary",className:"text-[10px] bg-green-500/20 text-green-600",children:[n.jsx(cs,{className:"w-3 h-3 mr-1"}),"Registered"]})]})]})}),n.jsxs(Le,{className:"space-y-3",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),n.jsxs("div",{className:"text-xs space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(en,{className:"w-3 h-3"}),n.jsxs("span",{children:["Start: ",new Date(e.startDate).toLocaleDateString()," ",new Date(e.startDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),e.endDate&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(en,{className:"w-3 h-3"}),n.jsxs("span",{children:["End: ",new Date(e.endDate).toLocaleDateString()," ",new Date(e.endDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),c?.isAutoRegistered&&n.jsx("p",{className:"text-[10px] text-muted-foreground italic",children:"Auto-registered (mandatory event)"}),!s&&n.jsx("div",{className:"pt-2",children:t?n.jsx(I,{size:"sm",variant:"outline",className:"w-full",onClick:()=>l?.(e),disabled:e.isMandatory,"data-testid":`button-unregister-${e.id}`,children:e.isMandatory?"Cannot Unregister":"Unregister"}):n.jsxs(I,{size:"sm",className:"w-full",onClick:()=>i?.(e),"data-testid":`button-register-${e.id}`,children:[n.jsx(Ey,{className:"w-3.5 h-3.5 mr-1"}),"Register"]})})]})]})}function t5(){const[,e]=Un(),{account:t,logout:s}=Wn(),{toast:i}=Qn(),[l,c]=x.useState(!1),{data:u=[],isLoading:f}=lt({queryKey:["/api/challenges",t?.id],queryFn:async()=>{if(!t?.id)return[];const P=await fetch(`/api/challenges?accountId=${t.id}`,{credentials:"include"});if(!P.ok)throw new Error("Failed to fetch challenges");return P.json()},enabled:!!t?.id}),{data:h=[]}=lt({queryKey:["/api/accounts"]}),p=x.useMemo(()=>h.filter(P=>P.id!==t?.id),[h,t?.id]),v=u.filter(P=>P.challengedId===t?.id&&P.status==="pending"),b=u.filter(P=>P.challengerId===t?.id&&P.status==="pending"),N=u.filter(P=>P.status==="accepted"),_=u.filter(P=>P.status==="completed"),E=async P=>{if(t)try{await he("POST","/api/challenges",{challengerId:t.id,challengedId:P}),i({title:"Challenge Sent!",description:"Your challenge has been sent to the player."}),ce.invalidateQueries({queryKey:["/api/challenges",t.id]}),c(!1)}catch{i({title:"Challenge failed",description:"Could not send the challenge.",variant:"destructive"})}},w=async P=>{if(t)try{await he("PATCH",`/api/challenges/${P}/accept`),i({title:"Challenge Accepted!",description:"The challenge has been accepted. Awaiting admin to select winner."}),ce.invalidateQueries({queryKey:["/api/challenges",t.id]})}catch{i({title:"Failed to accept",description:"Could not accept the challenge.",variant:"destructive"})}},S=async P=>{if(t)try{await he("PATCH",`/api/challenges/${P}/decline`),i({title:"Challenge Declined",description:"You have declined the challenge."}),ce.invalidateQueries({queryKey:["/api/challenges",t.id]})}catch{i({title:"Failed to decline",description:"Could not decline the challenge.",variant:"destructive"})}},k=async P=>{if(t)try{await he("PATCH",`/api/challenges/${P}/cancel`),i({title:"Challenge Cancelled",description:"Your challenge has been cancelled."}),ce.invalidateQueries({queryKey:["/api/challenges",t.id]})}catch{i({title:"Failed to cancel",description:"Could not cancel the challenge.",variant:"destructive"})}},C=()=>{s(),e("/")};if(!t||t.role!=="player")return e("/"),null;const R=P=>{switch(P){case"pending":return n.jsxs(le,{variant:"secondary",children:[n.jsx(Gs,{className:"w-3 h-3 mr-1"}),"Pending"]});case"accepted":return n.jsxs(le,{className:"bg-yellow-600",children:[n.jsx(St,{className:"w-3 h-3 mr-1"}),"In Progress"]});case"completed":return n.jsxs(le,{className:"bg-green-600",children:[n.jsx(yt,{className:"w-3 h-3 mr-1"}),"Completed"]});case"declined":return n.jsxs(le,{variant:"destructive",children:[n.jsx($r,{className:"w-3 h-3 mr-1"}),"Declined"]});case"cancelled":return n.jsxs(le,{variant:"outline",children:[n.jsx($r,{className:"w-3 h-3 mr-1"}),"Cancelled"]});default:return n.jsx(le,{variant:"secondary",children:P})}};return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsxs("div",{className:"container mx-auto px-4 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(I,{variant:"ghost",size:"icon",onClick:()=>e("/shop"),"data-testid":"button-back",children:n.jsx(Um,{className:"w-5 h-5"})}),n.jsx("h1",{className:"font-serif text-xl font-bold text-foreground","data-testid":"text-challenges-title",children:"Challenges"}),n.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/shop"),"data-testid":"button-nav-shop",children:[n.jsx(kn,{className:"w-4 h-4 mr-2"}),"Shop"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/inventory"),"data-testid":"button-nav-inventory",children:[n.jsx(bn,{className:"w-4 h-4 mr-2"}),"Inventory"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/events"),"data-testid":"button-nav-events",children:[n.jsx(en,{className:"w-4 h-4 mr-2"}),"Events"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/npc-battle"),"data-testid":"button-nav-npc",children:[n.jsx(Ht,{className:"w-4 h-4 mr-2"}),"NPC Tower"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/quests"),"data-testid":"button-nav-quests",children:[n.jsx(Nr,{className:"w-4 h-4 mr-2"}),"Quests"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/leaderboard"),"data-testid":"button-nav-leaderboard",children:[n.jsx(yt,{className:"w-4 h-4 mr-2"}),"Leaderboard"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/guild"),"data-testid":"button-nav-guild",children:[n.jsx(Ht,{className:"w-4 h-4 mr-2"}),"Guild"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/trading"),"data-testid":"link-trading",children:[n.jsx(kr,{className:"w-4 h-4 mr-2"}),"Trade"]})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsxs("span",{className:"text-muted-foreground",children:["W: ",t.wins]}),n.jsxs("span",{className:"text-muted-foreground",children:["L: ",t.losses]})]}),n.jsxs(gt,{open:l,onOpenChange:c,children:[n.jsx(Vs,{asChild:!0,children:n.jsxs(I,{size:"sm","data-testid":"button-new-challenge",children:[n.jsx(St,{className:"w-4 h-4 mr-2"}),"New Challenge"]})}),n.jsxs(mt,{children:[n.jsx(pt,{children:n.jsx(ht,{children:"Challenge a Player"})}),n.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:p.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No other players available"}):p.map(P=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-border",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ty,{className:"w-5 h-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:P.username}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[P.wins,"W - ",P.losses,"L"]})]})]}),n.jsxs(I,{size:"sm",onClick:()=>E(P.id),"data-testid":`button-challenge-${P.id}`,children:[n.jsx(St,{className:"w-4 h-4 mr-1"}),"Challenge"]})]},P.id))})]})]}),n.jsxs(I,{variant:"outline",size:"sm",onClick:C,"data-testid":"button-logout",children:[n.jsx(ar,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]}),n.jsxs("div",{className:"flex sm:hidden items-center gap-2 mt-3 overflow-x-auto pb-2",children:[n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/shop"),children:[n.jsx(kn,{className:"w-4 h-4 mr-1"}),"Shop"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/inventory"),children:[n.jsx(bn,{className:"w-4 h-4 mr-1"}),"Inventory"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/pets"),children:[n.jsx(jr,{className:"w-4 h-4 mr-1"}),"Pets"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/events"),children:[n.jsx(en,{className:"w-4 h-4 mr-1"}),"Events"]})]})]})}),n.jsx("main",{className:"container mx-auto px-4 py-8 space-y-8",children:f?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading challenges..."})}):n.jsxs(n.Fragment,{children:[v.length>0&&n.jsxs("section",{children:[n.jsxs("h2",{className:"font-serif text-lg font-bold text-foreground mb-4 flex items-center gap-2",children:[n.jsx(St,{className:"w-5 h-5 text-primary"}),"Incoming Challenges (",v.length,")"]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:v.map(P=>n.jsxs(Te,{className:"border-primary/50",children:[n.jsx(He,{className:"pb-2",children:n.jsxs(We,{className:"text-base flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`w-2 h-2 rounded-full ${P.challengerOnline?"bg-green-500":"bg-muted-foreground/50"}`}),n.jsx("span",{className:"truncate",children:P.challengerName})]}),R(P.status)]})}),n.jsxs(Le,{children:[n.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Challenged you on ",new Date(P.createdAt).toLocaleDateString()]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(I,{size:"sm",onClick:()=>w(P.id),"data-testid":`button-accept-${P.id}`,children:[n.jsx(cs,{className:"w-4 h-4 mr-1"}),"Accept"]}),n.jsxs(I,{size:"sm",variant:"destructive",onClick:()=>S(P.id),"data-testid":`button-decline-${P.id}`,children:[n.jsx($r,{className:"w-4 h-4 mr-1"}),"Decline"]})]})]})]},P.id))})]}),b.length>0&&n.jsxs("section",{children:[n.jsxs("h2",{className:"font-serif text-lg font-bold text-foreground mb-4 flex items-center gap-2",children:[n.jsx(Gs,{className:"w-5 h-5 text-muted-foreground"}),"Sent Challenges (",b.length,")"]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:b.map(P=>n.jsxs(Te,{children:[n.jsx(He,{className:"pb-2",children:n.jsxs(We,{className:"text-base flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`w-2 h-2 rounded-full ${P.challengedOnline?"bg-green-500":"bg-muted-foreground/50"}`}),n.jsx("span",{className:"truncate",children:P.challengedName})]}),R(P.status)]})}),n.jsxs(Le,{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Waiting for response..."}),n.jsxs(I,{size:"sm",variant:"outline",onClick:()=>k(P.id),"data-testid":`button-cancel-${P.id}`,children:[n.jsx($r,{className:"w-4 h-4 mr-1"}),"Cancel"]})]})]},P.id))})]}),N.length>0&&n.jsxs("section",{children:[n.jsxs("h2",{className:"font-serif text-lg font-bold text-foreground mb-4 flex items-center gap-2",children:[n.jsx(St,{className:"w-5 h-5 text-yellow-500"}),"Active Challenges (",N.length,")"]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:N.map(P=>{const O=P.challengerId===t.id,G=O?P.challengedName:P.challengerName,q=O?P.challengedOnline:P.challengerOnline;return n.jsxs(Te,{className:"border-yellow-500/50",children:[n.jsx(He,{className:"pb-2",children:n.jsxs(We,{className:"text-base flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`w-2 h-2 rounded-full ${q?"bg-green-500":"bg-muted-foreground/50"}`}),n.jsxs("span",{className:"truncate",children:["vs ",G]})]}),R(P.status)]})}),n.jsxs(Le,{children:[n.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground mb-2",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx("span",{className:`w-2 h-2 rounded-full ${P.challengerOnline?"bg-green-500":"bg-muted-foreground/50"}`}),P.challengerName]}),n.jsx("span",{children:"vs"}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx("span",{className:`w-2 h-2 rounded-full ${P.challengedOnline?"bg-green-500":"bg-muted-foreground/50"}`}),P.challengedName]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Awaiting admin to decide winner"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Accepted: ",new Date(P.acceptedAt).toLocaleDateString()]})]})]},P.id)})})]}),_.length>0&&n.jsxs("section",{children:[n.jsxs("h2",{className:"font-serif text-lg font-bold text-foreground mb-4 flex items-center gap-2",children:[n.jsx(yt,{className:"w-5 h-5 text-green-500"}),"Completed Challenges (",_.length,")"]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:_.map(P=>{const O=P.winnerId===t.id,G=P.challengerId===t.id?P.challengedName:P.challengerName;return n.jsxs(Te,{className:O?"border-green-500/50":"border-red-500/50",children:[n.jsx(He,{className:"pb-2",children:n.jsxs(We,{className:"text-base flex items-center justify-between gap-2",children:[n.jsxs("span",{className:"truncate",children:["vs ",G]}),n.jsx(le,{className:O?"bg-green-600":"bg-red-600",children:O?"Won":"Lost"})]})}),n.jsxs(Le,{children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Winner: ",P.winnerName]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Completed: ",P.completedAt?new Date(P.completedAt).toLocaleDateString():"N/A"]})]})]},P.id)})})]}),u.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(St,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"font-serif text-lg font-bold text-foreground mb-2",children:"No Challenges Yet"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Challenge other players to compete and earn wins!"}),n.jsxs(I,{onClick:()=>c(!0),"data-testid":"button-first-challenge",children:[n.jsx(St,{className:"w-4 h-4 mr-2"}),"Send Your First Challenge"]})]})]})})]})}var up="Progress",fp=100,[n5]=Er(up),[r5,s5]=n5(up),Tw=x.forwardRef((e,t)=>{const{__scopeProgress:s,value:i=null,max:l,getValueLabel:c=a5,...u}=e;(l||l===0)&&!uv(l)&&console.error(i5(`${l}`,"Progress"));const f=uv(l)?l:fp;i!==null&&!fv(i,f)&&console.error(o5(`${i}`,"Progress"));const h=fv(i,f)?i:null,p=ld(h)?c(h,f):void 0;return n.jsx(r5,{scope:s,value:h,max:f,children:n.jsx(qe.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":ld(h)?h:void 0,"aria-valuetext":p,role:"progressbar","data-state":Aw(h,f),"data-value":h??void 0,"data-max":f,...u,ref:t})})});Tw.displayName=up;var Iw="ProgressIndicator",Rw=x.forwardRef((e,t)=>{const{__scopeProgress:s,...i}=e,l=s5(Iw,s);return n.jsx(qe.div,{"data-state":Aw(l.value,l.max),"data-value":l.value??void 0,"data-max":l.max,...i,ref:t})});Rw.displayName=Iw;function a5(e,t){return`${Math.round(e/t*100)}%`}function Aw(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function ld(e){return typeof e=="number"}function uv(e){return ld(e)&&!isNaN(e)&&e>0}function fv(e,t){return ld(e)&&!isNaN(e)&&e<=t&&e>=0}function i5(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${fp}\`.`}function o5(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${fp} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Lw=Tw,l5=Rw;const Ed=x.forwardRef(({className:e,value:t,...s},i)=>n.jsx(Lw,{ref:i,className:we("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:n.jsx(l5,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ed.displayName=Lw.displayName;const mv={egg:"bg-gray-500/20 text-gray-400 border-gray-500/30",baby:"bg-green-500/20 text-green-400 border-green-500/30",teen:"bg-blue-500/20 text-blue-400 border-blue-500/30",adult:"bg-purple-500/20 text-purple-400 border-purple-500/30",legend:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",mythic:"bg-pink-500/20 text-pink-400 border-pink-500/30"},pv={egg:"",baby:"",teen:"",adult:"",legend:"",mythic:""},hv={Fire:"text-red-500",Water:"text-blue-500",Earth:"text-amber-600",Air:"text-sky-400",Lightning:"text-yellow-400",Ice:"text-cyan-300",Nature:"text-green-500",Dark:"text-purple-600",Light:"text-yellow-200",Arcana:"text-violet-500",Chrono:"text-indigo-400",Plasma:"text-pink-500",Void:"text-gray-600",Aether:"text-teal-400",Hybrid:"text-orange-500","Elemental Convergence":"text-transparent bg-clip-text bg-gradient-to-r from-red-500 via-blue-500 to-green-500",Time:"text-amber-400",Space:"text-indigo-600",Soul:"text-cyan-400",Mind:"text-pink-400"};function c5(){const[,e]=Un(),{account:t,setAccount:s,logout:i}=Wn(),{toast:l}=Qn(),[c,u]=x.useState(null),[f,h]=x.useState(null),[p,v]=x.useState(!1),[b,N]=x.useState(100),[_,E]=x.useState(!1),[w,S]=x.useState(!1),[k,C]=x.useState(null),[R,P]=x.useState(null),[O,G]=x.useState(!1),{data:q=[],isLoading:X,refetch:se}=lt({queryKey:["/api/accounts",t?.id,"pets"],queryFn:async()=>t?.id?(await fetch(`/api/accounts/${t.id}/pets`)).json():[],enabled:!!t?.id}),de=x.useMemo(()=>{const T={egg:[],baby:[],teen:[],adult:[],legend:[],mythic:[]};return q.forEach(U=>{const W=U.tier;T[W]&&T[W].push(U)}),T},[q]);x.useEffect(()=>{if(!t?.id)return;const T=new EventSource(`/api/player/events?accountId=${t.id}`);return T.addEventListener("petAdded",U=>{const W=JSON.parse(U.data);ce.setQueryData(["/api/accounts",t.id,"pets"],L=>L?L.find(H=>H.id===W.id)?L:[...L,W]:[W]),l({title:"New Pet Received!",description:`${W.name} has joined your collection.`})}),T.addEventListener("petUpdated",U=>{const W=JSON.parse(U.data);ce.setQueryData(["/api/accounts",t.id,"pets"],L=>L?L.map(H=>H.id===W.id?W:H):[W])}),T.addEventListener("petRemoved",U=>{const{petId:W}=JSON.parse(U.data);ce.setQueryData(["/api/accounts",t.id,"pets"],L=>L?L.filter(H=>H.id!==W):[]),l({title:"Pet Removed",description:"A pet has been removed from your collection."})}),T.onerror=()=>{T.close()},()=>{T.close()}},[t?.id,l]);const xe=async T=>{if(!(!c||!t)){v(!0);try{await(await he("POST",`/api/pets/${c.id}/feed`,{accountId:t.id,foodId:T.id})).json(),await se();const W=await he("GET",`/api/accounts/${t.id}`);s(await W.json()),l({title:"Pet Fed!",description:`Used ${T.name} to add ${T.exp} EXP to ${c.name}.`}),u(null),h(null)}catch(U){const W=await U.json?.()||{error:"Could not feed pet."};l({title:"Feed Failed",description:W.error||"Could not feed pet.",variant:"destructive"})}finally{v(!1)}}},oe=async()=>{if(!(!c||!t||b<=0)){v(!0);try{await(await he("POST",`/api/pets/${c.id}/feed-exp`,{accountId:t.id,amount:b})).json(),await se();const U=await he("GET",`/api/accounts/${t.id}`);s(await U.json()),l({title:"Pet Fed!",description:`Added ${b.toLocaleString()} EXP to ${c.name}.`}),u(null),h(null),N(100)}catch(T){const U=await T.json?.()||{error:"Could not feed pet."};l({title:"Feed Failed",description:U.error||"Could not feed pet.",variant:"destructive"})}finally{v(!1)}}},K=async T=>{if(t){E(!0);try{const U=await he("POST",`/api/pets/${T.id}/evolve`),{pet:W,account:L}=await U.json();await se(),s(L),l({title:"Evolution Complete!",description:`${T.name} evolved to ${W.tier}!`})}catch(U){const W=await U.json?.()||{error:"Could not evolve pet."};l({title:"Evolution Failed",description:W.error,variant:"destructive"})}finally{E(!1)}}},$=async()=>{if(!(!t||!k||!R)){G(!0);try{const U=await(await he("POST",`/api/accounts/${t.id}/pets/merge`,{petId1:k.id,petId2:R.id})).json();await se();const W=await he("GET",`/api/accounts/${t.id}`);s(await W.json()),l({title:"Pets Merged!",description:`Created a powerful new egg: ${U.newPet.name}`}),S(!1),C(null),P(null)}catch(T){const U=await T.json?.()||{error:"Could not merge pets."};l({title:"Merge Failed",description:U.error,variant:"destructive"})}finally{G(!1)}}},me=q.filter(T=>T.tier==="mythic"),B=()=>{i(),e("/")};if(!t||t.role!=="player")return e("/"),null;const Y=T=>{const U=T.tier,W=mE[U],L=T.stats,H=W.maxExp?T.exp/W.maxExp*100:100,_e=W.maxExp!==null&&T.exp>=W.maxExp;return n.jsxs(Te,{className:`border ${mv[U]}`,children:[n.jsx(He,{className:"pb-2",children:n.jsxs(We,{className:"text-base flex items-center justify-between gap-2",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xl",children:pv[U]}),n.jsx("span",{className:"truncate",children:T.name})]}),n.jsx(le,{className:mv[U],"data-testid":`badge-pet-tier-${T.id}`,children:U.charAt(0).toUpperCase()+U.slice(1)})]})}),n.jsxs(Le,{className:"space-y-3",children:[n.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:(T.elements||[T.element]).map(Ee=>n.jsx(le,{variant:"outline",className:`text-xs ${hv[Ee]||"text-muted-foreground"}`,children:Ee},Ee))}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Ks,{className:"w-3 h-3 text-red-400"}),n.jsxs("span",{children:["STR: ",L.Str]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(kt,{className:"w-3 h-3 text-blue-400"}),n.jsxs("span",{children:["SPD: ",L.Spd]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Py,{className:"w-3 h-3 text-green-400"}),n.jsxs("span",{children:["LUCK: ",L.Luck]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ok,{className:"w-3 h-3 text-orange-400"}),n.jsxs("span",{children:["ELEM: ",L.ElementalPower]})]})]}),W.maxExp!==null&&n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[n.jsx("span",{children:"EXP"}),n.jsxs("span",{children:[T.exp," / ",W.maxExp]})]}),n.jsx(Ed,{value:H,className:"h-2"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(I,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>u(T),disabled:t.gold<=0&&(t.petExp||0)<=0,"data-testid":`button-feed-${T.id}`,children:[n.jsx(jr,{className:"w-3 h-3 mr-1"}),"Feed"]}),_e&&W.evolutionCost!==null&&n.jsxs(I,{size:"sm",className:"flex-1 bg-gradient-to-r from-yellow-600 to-orange-600",onClick:()=>K(T),disabled:_||t.gold<W.evolutionCost,"data-testid":`button-evolve-${T.id}`,children:[n.jsx(tk,{className:"w-3 h-3 mr-1"}),"Evolve (",W.evolutionCost.toLocaleString(),"g)"]})]})]})]},T.id)};return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsxs("div",{className:"container mx-auto px-4 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("h1",{className:"font-serif text-xl font-bold text-foreground","data-testid":"text-pets-title",children:"My Pets"}),n.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/shop"),"data-testid":"link-shop",children:[n.jsx(kn,{className:"w-4 h-4 mr-1.5"}),"Shop"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/skills"),"data-testid":"link-skills",children:[n.jsx(kt,{className:"w-4 h-4 mr-1.5"}),"Skills"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/trading"),"data-testid":"link-trading",children:[n.jsx(kr,{className:"w-4 h-4 mr-1.5"}),"Trade"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/inventory"),"data-testid":"link-inventory",children:[n.jsx(bn,{className:"w-4 h-4 mr-1.5"}),"Inventory"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/challenges"),"data-testid":"link-challenges",children:[n.jsx(St,{className:"w-4 h-4 mr-1.5"}),"Challenges"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/events"),"data-testid":"link-events",children:[n.jsx(en,{className:"w-4 h-4 mr-1.5"}),"Events"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/npc-battle"),"data-testid":"link-npc",children:[n.jsx(Ht,{className:"w-4 h-4 mr-1.5"}),"NPC Tower"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/quests"),"data-testid":"link-quests",children:[n.jsx(Nr,{className:"w-4 h-4 mr-1.5"}),"Quests"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/leaderboard"),"data-testid":"link-leaderboard",children:[n.jsx(yt,{className:"w-4 h-4 mr-1.5"}),"Leaderboard"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/guild"),"data-testid":"link-guild",children:[n.jsx(Ht,{className:"w-4 h-4 mr-1.5"}),"Guild"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/skills"),"data-testid":"link-skills",children:[n.jsx(kt,{className:"w-4 h-4 mr-1.5"}),"Skills"]})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex items-center gap-2 text-sm",children:n.jsxs(le,{variant:"outline",className:"bg-tier-x/10 text-tier-x border-tier-x/30",children:[n.jsx(jr,{className:"w-3 h-3 mr-1"}),t.petExp||0," Pet EXP"]})}),n.jsxs(I,{variant:"outline",size:"sm",onClick:B,"data-testid":"button-logout",children:[n.jsx(ar,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]}),n.jsxs("div",{className:"flex sm:hidden items-center gap-2 mt-3 overflow-x-auto pb-2",children:[n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/shop"),children:[n.jsx(kn,{className:"w-4 h-4 mr-1"}),"Shop"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/inventory"),children:[n.jsx(bn,{className:"w-4 h-4 mr-1"}),"Inventory"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/challenges"),children:[n.jsx(St,{className:"w-4 h-4 mr-1"}),"Challenges"]})]})]})}),n.jsx("main",{className:"container mx-auto px-4 py-8 space-y-8",children:X?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading pets..."})}):q.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(jr,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"You don't have any pets yet."})]}):$c.map(T=>{const U=de[T];return U.length===0?null:n.jsxs("section",{children:[n.jsxs("h2",{className:"font-serif text-lg font-bold text-foreground mb-4 flex items-center gap-2",children:[n.jsx("span",{className:"text-xl",children:pv[T]}),T.charAt(0).toUpperCase()+T.slice(1)," (",U.length,")"]}),n.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:U.map(Y)})]},T)})}),me.length>=2&&n.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:n.jsxs(I,{size:"lg",onClick:()=>S(!0),className:"shadow-lg bg-pink-600 hover:bg-pink-700","data-testid":"button-open-merge",children:[n.jsx(Ex,{className:"w-5 h-5 mr-2"}),"Merge Mythic Pets"]})}),n.jsx(gt,{open:w,onOpenChange:T=>{S(T),T||(C(null),P(null))},children:n.jsxs(mt,{className:"max-w-md",children:[n.jsxs(pt,{children:[n.jsxs(ht,{className:"font-serif flex items-center gap-2",children:[n.jsx(Ex,{className:"w-5 h-5 text-pink-500"}),"Merge Mythic Pets"]}),n.jsx(Nt,{children:"Combine two mythic pets to create a powerful new egg with combined elements and boosted stats. Cost: 1,000,000,000 Gold"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md bg-yellow-500/10 border border-yellow-500/20",children:[n.jsxs("span",{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(rr,{className:"w-4 h-4 text-yellow-500"}),"Your Gold"]}),n.jsx("span",{className:`font-mono font-bold ${t.gold>=1e9?"text-green-500":"text-red-500"}`,children:t.gold.toLocaleString()})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"First Mythic Pet"}),n.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-32 overflow-y-auto",children:me.filter(T=>T.id!==R?.id).map(T=>n.jsx(I,{variant:k?.id===T.id?"default":"outline",size:"sm",onClick:()=>C(T),className:"justify-start","data-testid":`button-select-pet1-${T.id}`,children:T.name},T.id))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Second Mythic Pet"}),n.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-32 overflow-y-auto",children:me.filter(T=>T.id!==k?.id).map(T=>n.jsx(I,{variant:R?.id===T.id?"default":"outline",size:"sm",onClick:()=>P(T),className:"justify-start","data-testid":`button-select-pet2-${T.id}`,children:T.name},T.id))})]})]}),k&&R&&n.jsxs("div",{className:"p-3 rounded-lg bg-pink-500/10 border border-pink-500/30",children:[n.jsx("p",{className:"text-sm font-medium text-pink-400 mb-2",children:"Combined Elements:"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:Array.from(new Set([...k.elements||[k.element],...R.elements||[R.element]])).map(T=>n.jsx(le,{variant:"outline",className:`text-xs ${hv[T]||""}`,children:T},T))})]})]}),n.jsxs(Lt,{children:[n.jsx(I,{variant:"outline",onClick:()=>{S(!1),C(null),P(null)},children:"Cancel"}),n.jsx(I,{onClick:$,disabled:O||!k||!R||t.gold<1e9,className:"bg-pink-600 hover:bg-pink-700","data-testid":"button-confirm-merge",children:O?"Merging...":"Merge (1B Gold)"})]})]})}),n.jsx(gt,{open:!!c,onOpenChange:()=>{u(null),h(null)},children:n.jsxs(mt,{className:"max-w-lg",children:[n.jsxs(pt,{children:[n.jsxs(ht,{className:"font-serif",children:["Feed ",c?.name]}),n.jsx(Nt,{children:"Use your Pet EXP or buy food with gold to increase your pet's experience."})]}),c&&n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md bg-yellow-500/10 border border-yellow-500/20",children:[n.jsx("span",{className:"text-sm font-medium",children:"Gold"}),n.jsx("span",{className:"font-mono font-bold text-yellow-500",children:(t.gold||0).toLocaleString()})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md bg-purple-500/10 border border-purple-500/20",children:[n.jsx("span",{className:"text-sm font-medium",children:"Pet EXP"}),n.jsx("span",{className:"font-mono font-bold text-purple-500",children:(t.petExp||0).toLocaleString()})]})]}),n.jsxs("div",{className:"space-y-2 p-3 rounded-md bg-purple-500/10 border border-purple-500/20",children:[n.jsx("span",{className:"text-sm font-medium text-purple-400",children:"Use Pet EXP"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(tt,{type:"number",min:1,max:t.petExp||0,value:b,onChange:T=>N(Math.min(Number(T.target.value)||0,t.petExp||0)),className:"flex-1","data-testid":"input-pet-exp-amount"}),n.jsxs(I,{size:"sm",onClick:oe,disabled:p||b<=0||b>(t.petExp||0),className:"bg-purple-600 hover:bg-purple-700","data-testid":"button-feed-with-exp",children:["Feed ",b.toLocaleString()," EXP"]})]})]}),n.jsxs("div",{className:"relative py-2",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("span",{className:"w-full border-t border-border"})}),n.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:n.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or buy food"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Pet Food Shop"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:SE.map(T=>{const U=(t.gold||0)>=T.price;return n.jsx(Te,{className:`cursor-pointer transition-all ${f?.id===T.id?"ring-2 ring-primary":""} ${U?"hover-elevate":"opacity-50"}`,onClick:()=>U&&h(T),"data-testid":`card-food-${T.id}`,children:n.jsx(Le,{className:"p-3",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:T.name}),n.jsxs("p",{className:"text-xs text-green-500",children:["+",T.exp.toLocaleString()," EXP"]})]}),n.jsxs(le,{variant:"outline",className:"text-yellow-500",children:[n.jsx(rr,{className:"w-3 h-3 mr-1"}),T.price.toLocaleString()]})]})})},T.id)})})]}),f&&n.jsxs("div",{className:"text-center text-sm text-muted-foreground p-2 bg-muted/50 rounded-md",children:["Feed ",c.name," with ",f.name," for ",f.exp.toLocaleString()," EXP"]})]}),n.jsxs(Lt,{children:[n.jsx(I,{variant:"outline",onClick:()=>{u(null),h(null)},children:"Cancel"}),n.jsx(I,{onClick:()=>f&&xe(f),disabled:p||!f,"data-testid":"button-confirm-feed",children:p?"Feeding...":f?`Buy & Feed (${f.price.toLocaleString()} Gold)`:"Select Food"})]})]})})]})}const gv={Fire:"text-red-500 border-red-500",Water:"text-blue-500 border-blue-500",Earth:"text-amber-700 border-amber-700",Air:"text-sky-400 border-sky-400",Lightning:"text-yellow-400 border-yellow-400",Ice:"text-cyan-300 border-cyan-300",Nature:"text-green-500 border-green-500",Dark:"text-purple-800 border-purple-800",Light:"text-yellow-100 border-yellow-100",Arcana:"text-violet-500 border-violet-500",Chrono:"text-amber-400 border-amber-400",Plasma:"text-pink-500 border-pink-500",Void:"text-gray-600 border-gray-600",Aether:"text-indigo-400 border-indigo-400",Hybrid:"text-gradient bg-gradient-to-r from-red-500 to-blue-500 border-purple-400","Elemental Convergence":"text-white border-white",Time:"text-amber-300 border-amber-300",Space:"text-indigo-300 border-indigo-300"};function d5(){const[,e]=Un(),{account:t,logout:s}=Wn(),{toast:i}=Qn(),l=zm(),[c,u]=x.useState(null),[f,h]=x.useState(!1),{data:p}=lt({queryKey:["/api/accounts",t?.id,"current-npc"],queryFn:async()=>{if(!t?.id)return null;const S=await fetch(`/api/accounts/${t.id}/current-npc`);if(!S.ok)throw new Error("Failed to fetch NPC");return S.json()},enabled:!!t?.id}),{data:v}=lt({queryKey:["/api/accounts",t?.id,"pets"],queryFn:async()=>{if(!t?.id)return[];const S=await fetch(`/api/accounts/${t.id}/pets`);if(!S.ok)throw new Error("Failed to fetch pets");return S.json()},enabled:!!t?.id}),b=Mt({mutationFn:async S=>(await he("POST",`/api/accounts/${t?.id}/equip-pet`,{petId:S})).json(),onSuccess:()=>{l.invalidateQueries({queryKey:["/api/accounts",t?.id,"current-npc"]}),h(!1),i({title:"Pet equipped",description:"Your pet is ready for battle"})},onError:()=>{i({title:"Error",description:"Failed to equip pet",variant:"destructive"})}}),N=Mt({mutationFn:async()=>(await he("POST",`/api/accounts/${t?.id}/npc-battle`)).json(),onSuccess:S=>{u(S),l.invalidateQueries({queryKey:["/api/accounts",t?.id,"current-npc"]})},onError:()=>{i({title:"Error",description:"Battle failed",variant:"destructive"})}}),_=()=>{s(),e("/")};if(!t||t.role!=="player")return e("/"),null;const E=p?(p.floor-1)*100+p.level:1,w=p?(p.level-1)/99*100:0;return n.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[n.jsx("header",{className:"border-b border-border bg-card/50 backdrop-blur sticky top-0 z-50",children:n.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("h1",{className:"text-xl font-bold font-serif text-primary",children:"NPC Tower"}),n.jsxs("nav",{className:"flex gap-2",children:[n.jsx(I,{variant:"ghost",size:"sm",onClick:()=>e("/shop"),"data-testid":"link-shop",children:"Shop"}),n.jsx(I,{variant:"ghost",size:"sm",onClick:()=>e("/inventory"),"data-testid":"link-inventory",children:"Inventory"}),n.jsx(I,{variant:"ghost",size:"sm",onClick:()=>e("/pets"),"data-testid":"link-pets",children:"Pets"}),n.jsx(I,{variant:"ghost",size:"sm",onClick:()=>e("/challenges"),"data-testid":"link-challenges",children:"Challenges"}),n.jsx(I,{variant:"ghost",size:"sm",onClick:()=>e("/events"),"data-testid":"link-events",children:"Events"}),n.jsx(I,{variant:"secondary",size:"sm","data-testid":"link-npc-active",children:"NPC Battle"}),n.jsx(I,{variant:"ghost",size:"sm",onClick:()=>e("/quests"),"data-testid":"link-quests",children:"Quests"}),n.jsx(I,{variant:"ghost",size:"sm",onClick:()=>e("/leaderboard"),"data-testid":"link-leaderboard",children:"Leaderboard"}),n.jsx(I,{variant:"ghost",size:"sm",onClick:()=>e("/guild"),"data-testid":"link-guild",children:"Guild"}),n.jsx(I,{variant:"ghost",size:"sm",onClick:()=>e("/skills"),"data-testid":"link-skills",children:"Skills"}),n.jsx(I,{variant:"ghost",size:"sm",onClick:()=>e("/trading"),"data-testid":"link-trading",children:"Trade"})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:t.username}),n.jsx(I,{variant:"ghost",size:"sm",onClick:_,"data-testid":"button-logout",children:n.jsx(ar,{className:"w-4 h-4"})})]})]})}),n.jsx("main",{className:"container mx-auto px-4 py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[n.jsxs(Te,{children:[n.jsx(He,{children:n.jsxs(We,{className:"flex items-center gap-2",children:[n.jsx(Ht,{className:"w-5 h-5 text-primary"}),"Current Progress"]})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"Floor"}),n.jsxs(le,{variant:"outline",className:"text-lg",children:[p?.floor||1," / 50"]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"Level"}),n.jsxs(le,{variant:"outline",className:"text-lg",children:[p?.level||1," / 100"]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"Global Level"}),n.jsx("span",{className:"text-xl font-bold text-primary",children:E.toLocaleString()})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground mb-1",children:[n.jsx("span",{children:"Floor Progress"}),n.jsxs("span",{children:[p?.level||1,"%"]})]}),n.jsx(Ed,{value:w,className:"h-2"})]})]})]}),n.jsxs(Te,{children:[n.jsx(He,{children:n.jsxs(We,{className:"flex items-center gap-2",children:[n.jsx(Wc,{className:"w-5 h-5 text-primary"}),"Equipped Pet"]})}),n.jsx(Le,{children:p?.equippedPet?n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-semibold",children:p.equippedPet.name}),n.jsx(le,{children:p.equippedPet.tier})]}),n.jsx("div",{className:"flex flex-wrap gap-1",children:p.equippedPet.elements.map(S=>n.jsx(le,{variant:"outline",className:`text-xs ${gv[S]||""}`,children:S},S))}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[n.jsxs("div",{children:["STR: ",p.equippedPet.stats?.Str||0]}),n.jsxs("div",{children:["SPD: ",p.equippedPet.stats?.Spd||0]}),n.jsxs("div",{children:["LUCK: ",p.equippedPet.stats?.Luck||0]}),n.jsxs("div",{children:["ELEM: ",p.equippedPet.stats?.ElementalPower||0]})]}),n.jsx(I,{variant:"outline",size:"sm",className:"w-full",onClick:()=>h(!0),"data-testid":"button-change-pet",children:"Change Pet"})]}):n.jsxs("div",{className:"text-center py-4",children:[n.jsx("p",{className:"text-muted-foreground mb-3",children:"No pet equipped"}),n.jsxs(I,{onClick:()=>h(!0),"data-testid":"button-equip-pet",children:[n.jsx(Wc,{className:"w-4 h-4 mr-2"}),"Equip Pet"]})]})})]})]}),n.jsxs(Te,{className:"mb-6",children:[n.jsxs(He,{children:[n.jsx(We,{className:"flex items-center gap-2",children:p?.isBoss?n.jsxs(n.Fragment,{children:[n.jsx(ds,{className:"w-6 h-6 text-yellow-500"}),n.jsx("span",{className:"text-yellow-500",children:p?.name||"Floor Boss"})]}):n.jsxs(n.Fragment,{children:[n.jsx(Tx,{className:"w-6 h-6 text-muted-foreground"}),n.jsx("span",{children:p?.name||"Loading..."})]})}),p?.isBoss&&p.bossAbility&&n.jsxs(un,{className:"text-yellow-500/80",children:[n.jsx(kt,{className:"w-4 h-4 inline mr-1"}),p.bossAbility.name,": ",p.bossAbility.description]})]}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-muted-foreground text-sm",children:"Power"}),n.jsx("div",{className:"text-2xl font-bold text-red-500",children:p?.power?.toLocaleString()||"?"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-muted-foreground text-sm",children:"Floor Range"}),n.jsxs("div",{className:"text-sm",children:[p?.powerRange?.min.toLocaleString()," - ",p?.powerRange?.max.toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-muted-foreground text-sm",children:"Type"}),n.jsx(le,{variant:p?.isBoss?"default":"secondary",children:p?.isBoss?"BOSS":"Normal"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-muted-foreground text-sm",children:"Immunities"}),n.jsx("div",{className:"flex flex-wrap gap-1 justify-center",children:p?.immuneElements?.length>0?p.immuneElements.map(S=>n.jsx(le,{variant:"destructive",className:"text-xs",children:S},S)):n.jsx("span",{className:"text-xs text-muted-foreground",children:"None"})})]})]}),p?.immuneElements?.length>0&&n.jsxs("div",{className:"bg-destructive/10 border border-destructive/30 rounded-md p-3 text-sm",children:[n.jsx(tn,{className:"w-4 h-4 inline mr-2 text-destructive"}),"This NPC is immune to ",p.immuneElements.join(", ")," elements. Your pet's elemental power won't count if it has any of these elements."]}),p?.potentialRewards&&n.jsxs("div",{className:"bg-primary/10 border border-primary/30 rounded-md p-3",children:[n.jsx("div",{className:"text-sm font-semibold mb-2",children:"Victory Rewards:"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-yellow-500",children:"Gold:"}),n.jsx("span",{className:"font-mono",children:p.potentialRewards.gold.toLocaleString()})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-blue-400",children:"TP:"}),n.jsx("span",{className:"font-mono",children:p.potentialRewards.trainingPoints.toLocaleString()})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-purple-400",children:"Shards:"}),n.jsx("span",{className:"font-mono",children:p.potentialRewards.soulShards.toLocaleString()})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-green-400",children:"Pet Exp:"}),n.jsx("span",{className:"font-mono",children:p.potentialRewards.petExp.toLocaleString()})]}),p.potentialRewards.runes>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-red-400",children:"Runes:"}),n.jsx("span",{className:"font-mono",children:p.potentialRewards.runes})]})]})]}),p?.requiredRank&&!p?.canFight&&n.jsxs("div",{className:"bg-destructive/20 border border-destructive/50 rounded-md p-3 text-center",children:[n.jsx("div",{className:"font-semibold text-destructive",children:"Rank Too Low"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["You need ",n.jsx("span",{className:"font-bold text-foreground",children:p.requiredRank})," rank to fight level ",E,"+. Your current rank: ",p.playerRank]})]}),n.jsx(I,{size:"lg",className:"w-full",onClick:()=>N.mutate(),disabled:N.isPending||!p?.canFight,"data-testid":"button-battle",children:N.isPending?"Fighting...":p?.canFight?n.jsxs(n.Fragment,{children:[n.jsx(Us,{className:"w-5 h-5 mr-2"}),"Challenge ",p?.isBoss?"Boss":"NPC"]}):n.jsxs(n.Fragment,{children:[n.jsx(tn,{className:"w-5 h-5 mr-2"}),"Rank Required: ",p?.requiredRank]})})]})]}),n.jsxs(Te,{children:[n.jsx(He,{children:n.jsx(We,{children:"Tower Info"})}),n.jsx(Le,{children:n.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"50 Floors"})," - Each floor has 100 NPC levels plus a boss at level 100"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Power Scaling"})," - NPCs get exponentially stronger on higher floors"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Boss Fights"})," - Bosses have max stats and special abilities"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Elemental Immunity"})," - Floor 2+ NPCs are immune to certain elements"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Rewards"})," - Earn gold, pet exp, and runes (bosses only) from victories"]}),n.jsx("p",{className:"text-xs opacity-60",children:"Note: NPC battles do not affect your win/loss record"})]})})]})]})}),n.jsx(gt,{open:f,onOpenChange:h,children:n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsx(ht,{children:"Select Pet for Battle"}),n.jsx(Nt,{children:"Choose a pet to help you in NPC battles"})]}),n.jsxs("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:[n.jsx(I,{variant:"outline",className:"w-full justify-start",onClick:()=>b.mutate(null),"data-testid":"button-unequip-pet",children:n.jsx("span",{className:"text-muted-foreground",children:"No Pet"})}),v?.map(S=>{const k=p?.equippedPet?.id===S.id,C=S.elements||[S.element];return n.jsxs(I,{variant:k?"secondary":"outline",className:"w-full justify-between",onClick:()=>b.mutate(S.id),"data-testid":`button-select-pet-${S.id}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{children:S.name}),n.jsx(le,{variant:"outline",children:S.tier}),C.map(R=>n.jsx(le,{variant:"outline",className:`text-xs ${gv[R]||""}`,children:R},R))]}),k&&n.jsx(cs,{className:"w-4 h-4 text-green-500"})]},S.id)})]})]})}),n.jsx(gt,{open:!!c,onOpenChange:()=>u(null),children:n.jsxs(mt,{children:[n.jsx(pt,{children:n.jsx(ht,{className:c?.won?"text-green-500":"text-red-500",children:c?.won?n.jsxs(n.Fragment,{children:[n.jsx(yt,{className:"w-6 h-6 inline mr-2"}),"Victory!"]}):n.jsxs(n.Fragment,{children:[n.jsx(Tx,{className:"w-6 h-6 inline mr-2"}),"Defeated"]})})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-center text-lg",children:["vs ",c?.npcName,c?.isBoss&&n.jsx(le,{className:"ml-2 bg-yellow-500",children:"BOSS"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Your Power"}),n.jsx("div",{className:"text-xl font-bold text-green-500",children:c?.playerPower?.toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"NPC Power"}),n.jsx("div",{className:"text-xl font-bold text-red-500",children:c?.npcPower?.toLocaleString()})]})]}),c?.equippedPet&&n.jsxs("div",{className:"bg-muted/50 rounded-md p-3 text-sm",children:[n.jsxs("div",{className:"font-semibold mb-1",children:["Pet: ",c.equippedPet.name]}),n.jsxs("div",{className:"text-muted-foreground",children:["Elements: ",c.equippedPet.elements.join(", ")]}),c.petElementImmune&&n.jsxs("div",{className:"text-destructive mt-1",children:[n.jsx(tn,{className:"w-3 h-3 inline mr-1"}),"Pet's elemental power was blocked by immunity"]})]}),c?.won&&n.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-md p-3",children:[n.jsx("div",{className:"font-semibold text-green-500 mb-2",children:"Rewards Collected!"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[c.rewards.gold>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-yellow-500",children:"Gold:"})," +",c.rewards.gold.toLocaleString()]}),c.rewards.trainingPoints>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-blue-400",children:"TP:"})," +",c.rewards.trainingPoints.toLocaleString()]}),c.rewards.soulShards>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-purple-400",children:"Soul Shards:"})," +",c.rewards.soulShards.toLocaleString()]}),c.rewards.petExp>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-green-400",children:"Pet Exp:"})," +",c.rewards.petExp.toLocaleString()]}),c.rewards.runes>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-red-400",children:"Runes:"})," +",c.rewards.runes.toLocaleString()]})]}),c.newFloor>c.floor&&n.jsxs("div",{className:"mt-2 text-green-500 font-semibold",children:[n.jsx(rk,{className:"w-4 h-4 inline"}),"Advanced to Floor ",c.newFloor,"!"]})]}),n.jsx(I,{className:"w-full",onClick:()=>u(null),"data-testid":"button-close-result",children:"Continue"})]})]})})]})}var u5=x.createContext(void 0);function Td(e){const t=x.useContext(u5);return e||t||"ltr"}var Zf="rovingFocusGroup.onEntryFocus",f5={bubbles:!1,cancelable:!0},Id="RovingFocusGroup",[Cm,Dw,m5]=$m(Id),[p5,Mw]=Er(Id,[m5]),[h5,g5]=p5(Id),Ow=x.forwardRef((e,t)=>n.jsx(Cm.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Cm.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(x5,{...e,ref:t})})}));Ow.displayName=Id;var x5=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:i,loop:l=!1,dir:c,currentTabStopId:u,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:v=!1,...b}=e,N=x.useRef(null),_=st(t,N),E=Td(c),[w=null,S]=Ca({prop:u,defaultProp:f,onChange:h}),[k,C]=x.useState(!1),R=Bt(p),P=Dw(s),O=x.useRef(!1),[G,q]=x.useState(0);return x.useEffect(()=>{const X=N.current;if(X)return X.addEventListener(Zf,R),()=>X.removeEventListener(Zf,R)},[R]),n.jsx(h5,{scope:s,orientation:i,dir:E,loop:l,currentTabStopId:w,onItemFocus:x.useCallback(X=>S(X),[S]),onItemShiftTab:x.useCallback(()=>C(!0),[]),onFocusableItemAdd:x.useCallback(()=>q(X=>X+1),[]),onFocusableItemRemove:x.useCallback(()=>q(X=>X-1),[]),children:n.jsx(qe.div,{tabIndex:k||G===0?-1:0,"data-orientation":i,...b,ref:_,style:{outline:"none",...e.style},onMouseDown:Ce(e.onMouseDown,()=>{O.current=!0}),onFocus:Ce(e.onFocus,X=>{const se=!O.current;if(X.target===X.currentTarget&&se&&!k){const de=new CustomEvent(Zf,f5);if(X.currentTarget.dispatchEvent(de),!de.defaultPrevented){const xe=P().filter(B=>B.focusable),oe=xe.find(B=>B.active),K=xe.find(B=>B.id===w),me=[oe,K,...xe].filter(Boolean).map(B=>B.ref.current);$w(me,v)}}O.current=!1}),onBlur:Ce(e.onBlur,()=>C(!1))})})}),Fw="RovingFocusGroupItem",zw=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:i=!0,active:l=!1,tabStopId:c,...u}=e,f=Ws(),h=c||f,p=g5(Fw,s),v=p.currentTabStopId===h,b=Dw(s),{onFocusableItemAdd:N,onFocusableItemRemove:_}=p;return x.useEffect(()=>{if(i)return N(),()=>_()},[i,N,_]),n.jsx(Cm.ItemSlot,{scope:s,id:h,focusable:i,active:l,children:n.jsx(qe.span,{tabIndex:v?0:-1,"data-orientation":p.orientation,...u,ref:t,onMouseDown:Ce(e.onMouseDown,E=>{i?p.onItemFocus(h):E.preventDefault()}),onFocus:Ce(e.onFocus,()=>p.onItemFocus(h)),onKeyDown:Ce(e.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){p.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const w=w5(E,p.orientation,p.dir);if(w!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let k=b().filter(C=>C.focusable).map(C=>C.ref.current);if(w==="last")k.reverse();else if(w==="prev"||w==="next"){w==="prev"&&k.reverse();const C=k.indexOf(E.currentTarget);k=p.loop?b5(k,C+1):k.slice(C+1)}setTimeout(()=>$w(k))}})})})});zw.displayName=Fw;var v5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function y5(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function w5(e,t,s){const i=y5(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return v5[i]}function $w(e,t=!1){const s=document.activeElement;for(const i of e)if(i===s||(i.focus({preventScroll:t}),document.activeElement!==s))return}function b5(e,t){return e.map((s,i)=>e[(t+i)%e.length])}var j5=Ow,N5=zw,mp="Tabs",[S5]=Er(mp,[Mw]),Bw=Mw(),[k5,pp]=S5(mp),Vw=x.forwardRef((e,t)=>{const{__scopeTabs:s,value:i,onValueChange:l,defaultValue:c,orientation:u="horizontal",dir:f,activationMode:h="automatic",...p}=e,v=Td(f),[b,N]=Ca({prop:i,onChange:l,defaultProp:c});return n.jsx(k5,{scope:s,baseId:Ws(),value:b,onValueChange:N,orientation:u,dir:v,activationMode:h,children:n.jsx(qe.div,{dir:v,"data-orientation":u,...p,ref:t})})});Vw.displayName=mp;var qw="TabsList",Uw=x.forwardRef((e,t)=>{const{__scopeTabs:s,loop:i=!0,...l}=e,c=pp(qw,s),u=Bw(s);return n.jsx(j5,{asChild:!0,...u,orientation:c.orientation,dir:c.dir,loop:i,children:n.jsx(qe.div,{role:"tablist","aria-orientation":c.orientation,...l,ref:t})})});Uw.displayName=qw;var Qw="TabsTrigger",Ww=x.forwardRef((e,t)=>{const{__scopeTabs:s,value:i,disabled:l=!1,...c}=e,u=pp(Qw,s),f=Bw(s),h=Kw(u.baseId,i),p=Zw(u.baseId,i),v=i===u.value;return n.jsx(N5,{asChild:!0,...f,focusable:!l,active:v,children:n.jsx(qe.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":p,"data-state":v?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:h,...c,ref:t,onMouseDown:Ce(e.onMouseDown,b=>{!l&&b.button===0&&b.ctrlKey===!1?u.onValueChange(i):b.preventDefault()}),onKeyDown:Ce(e.onKeyDown,b=>{[" ","Enter"].includes(b.key)&&u.onValueChange(i)}),onFocus:Ce(e.onFocus,()=>{const b=u.activationMode!=="manual";!v&&!l&&b&&u.onValueChange(i)})})})});Ww.displayName=Qw;var Hw="TabsContent",Gw=x.forwardRef((e,t)=>{const{__scopeTabs:s,value:i,forceMount:l,children:c,...u}=e,f=pp(Hw,s),h=Kw(f.baseId,i),p=Zw(f.baseId,i),v=i===f.value,b=x.useRef(v);return x.useEffect(()=>{const N=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(N)},[]),n.jsx(ir,{present:l||v,children:({present:N})=>n.jsx(qe.div,{"data-state":v?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":h,hidden:!N,id:p,tabIndex:0,...u,ref:t,style:{...e.style,animationDuration:b.current?"0s":void 0},children:N&&c})})});Gw.displayName=Hw;function Kw(e,t){return`${e}-trigger-${t}`}function Zw(e,t){return`${e}-content-${t}`}var C5=Vw,Yw=Uw,Xw=Ww,Jw=Gw;const Rd=C5,ul=x.forwardRef(({className:e,...t},s)=>n.jsx(Yw,{ref:s,className:we("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ul.displayName=Yw.displayName;const Xt=x.forwardRef(({className:e,...t},s)=>n.jsx(Xw,{ref:s,className:we("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Xt.displayName=Xw.displayName;const Jt=x.forwardRef(({className:e,...t},s)=>n.jsx(Jw,{ref:s,className:we("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Jt.displayName=Jw.displayName;function fn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function _5(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Dc=43200,xv=1440;let P5={};function E5(){return P5}function vv(e){const t=fn(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function qc(e,t){const s=fn(e),i=fn(t),l=s.getTime()-i.getTime();return l<0?-1:l>0?1:l}function T5(e){return _5(e,Date.now())}function I5(e,t){const s=fn(e),i=fn(t),l=s.getFullYear()-i.getFullYear(),c=s.getMonth()-i.getMonth();return l*12+c}function R5(e){return t=>{const i=(e?Math[e]:Math.trunc)(t);return i===0?0:i}}function A5(e,t){return+fn(e)-+fn(t)}function L5(e){const t=fn(e);return t.setHours(23,59,59,999),t}function D5(e){const t=fn(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function M5(e){const t=fn(e);return+L5(t)==+D5(t)}function O5(e,t){const s=fn(e),i=fn(t),l=qc(s,i),c=Math.abs(I5(s,i));let u;if(c<1)u=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-l*c);let f=qc(s,i)===-l;M5(fn(e))&&c===1&&qc(e,i)===1&&(f=!1),u=l*(c-Number(f))}return u===0?0:u}function F5(e,t,s){const i=A5(e,t)/1e3;return R5(s?.roundingMethod)(i)}const z5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$5=(e,t,s)=>{let i;const l=z5[e];return typeof l=="string"?i=l:t===1?i=l.one:i=l.other.replace("{{count}}",t.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"in "+i:i+" ago":i};function Yf(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const B5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},V5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},q5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},U5={date:Yf({formats:B5,defaultWidth:"full"}),time:Yf({formats:V5,defaultWidth:"full"}),dateTime:Yf({formats:q5,defaultWidth:"full"})},Q5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},W5=(e,t,s,i)=>Q5[e];function Po(e){return(t,s)=>{const i=s?.context?String(s.context):"standalone";let l;if(i==="formatting"&&e.formattingValues){const u=e.defaultFormattingWidth||e.defaultWidth,f=s?.width?String(s.width):u;l=e.formattingValues[f]||e.formattingValues[u]}else{const u=e.defaultWidth,f=s?.width?String(s.width):e.defaultWidth;l=e.values[f]||e.values[u]}const c=e.argumentCallback?e.argumentCallback(t):t;return l[c]}}const H5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},G5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},K5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Z5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Y5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},X5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},J5=(e,t)=>{const s=Number(e),i=s%100;if(i>20||i<10)switch(i%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},eI={ordinalNumber:J5,era:Po({values:H5,defaultWidth:"wide"}),quarter:Po({values:G5,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Po({values:K5,defaultWidth:"wide"}),day:Po({values:Z5,defaultWidth:"wide"}),dayPeriod:Po({values:Y5,defaultWidth:"wide",formattingValues:X5,defaultFormattingWidth:"wide"})};function Eo(e){return(t,s={})=>{const i=s.width,l=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],c=t.match(l);if(!c)return null;const u=c[0],f=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(f)?nI(f,b=>b.test(u)):tI(f,b=>b.test(u));let p;p=e.valueCallback?e.valueCallback(h):h,p=s.valueCallback?s.valueCallback(p):p;const v=t.slice(u.length);return{value:p,rest:v}}}function tI(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function nI(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function rI(e){return(t,s={})=>{const i=t.match(e.matchPattern);if(!i)return null;const l=i[0],c=t.match(e.parsePattern);if(!c)return null;let u=e.valueCallback?e.valueCallback(c[0]):c[0];u=s.valueCallback?s.valueCallback(u):u;const f=t.slice(l.length);return{value:u,rest:f}}}const sI=/^(\d+)(th|st|nd|rd)?/i,aI=/\d+/i,iI={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oI={any:[/^b/i,/^(a|c)/i]},lI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cI={any:[/1/i,/2/i,/3/i,/4/i]},dI={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uI={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fI={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mI={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pI={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},hI={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gI={ordinalNumber:rI({matchPattern:sI,parsePattern:aI,valueCallback:e=>parseInt(e,10)}),era:Eo({matchPatterns:iI,defaultMatchWidth:"wide",parsePatterns:oI,defaultParseWidth:"any"}),quarter:Eo({matchPatterns:lI,defaultMatchWidth:"wide",parsePatterns:cI,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Eo({matchPatterns:dI,defaultMatchWidth:"wide",parsePatterns:uI,defaultParseWidth:"any"}),day:Eo({matchPatterns:fI,defaultMatchWidth:"wide",parsePatterns:mI,defaultParseWidth:"any"}),dayPeriod:Eo({matchPatterns:pI,defaultMatchWidth:"any",parsePatterns:hI,defaultParseWidth:"any"})},xI={code:"en-US",formatDistance:$5,formatLong:U5,formatRelative:W5,localize:eI,match:gI,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vI(e,t,s){const i=E5(),l=s?.locale??i.locale??xI,c=2520,u=qc(e,t);if(isNaN(u))throw new RangeError("Invalid time value");const f=Object.assign({},s,{addSuffix:s?.addSuffix,comparison:u});let h,p;u>0?(h=fn(t),p=fn(e)):(h=fn(e),p=fn(t));const v=F5(p,h),b=(vv(p)-vv(h))/1e3,N=Math.round((v-b)/60);let _;if(N<2)return s?.includeSeconds?v<5?l.formatDistance("lessThanXSeconds",5,f):v<10?l.formatDistance("lessThanXSeconds",10,f):v<20?l.formatDistance("lessThanXSeconds",20,f):v<40?l.formatDistance("halfAMinute",0,f):v<60?l.formatDistance("lessThanXMinutes",1,f):l.formatDistance("xMinutes",1,f):N===0?l.formatDistance("lessThanXMinutes",1,f):l.formatDistance("xMinutes",N,f);if(N<45)return l.formatDistance("xMinutes",N,f);if(N<90)return l.formatDistance("aboutXHours",1,f);if(N<xv){const E=Math.round(N/60);return l.formatDistance("aboutXHours",E,f)}else{if(N<c)return l.formatDistance("xDays",1,f);if(N<Dc){const E=Math.round(N/xv);return l.formatDistance("xDays",E,f)}else if(N<Dc*2)return _=Math.round(N/Dc),l.formatDistance("aboutXMonths",_,f)}if(_=O5(p,h),_<12){const E=Math.round(N/Dc);return l.formatDistance("xMonths",E,f)}else{const E=_%12,w=Math.trunc(_/12);return E<3?l.formatDistance("aboutXYears",w,f):E<9?l.formatDistance("overXYears",w,f):l.formatDistance("almostXYears",w+1,f)}}function yv(e,t){return vI(e,T5(e),t)}const wv=[{id:"wins",label:"Wins",icon:yt,color:"text-yellow-500"},{id:"losses",label:"Losses",icon:pk,color:"text-red-500"},{id:"npc_progress",label:"NPC Tower",icon:Ht,color:"text-purple-500"},{id:"rank",label:"Rank",icon:ds,color:"text-blue-500"},{id:"guild_dungeon",label:"Guild Dungeon",icon:Bo,color:"text-emerald-500"},{id:"guild_wins",label:"Guild Wins",icon:St,color:"text-orange-500"}],yI={Novice:"text-gray-400",Apprentice:"text-green-500",Journeyman:"text-blue-400",Expert:"text-purple-400",Master:"text-orange-400",Grandmaster:"text-red-400",Legend:"text-yellow-400",Elite:"text-pink-400"};function wI(){const[,e]=Un(),{account:t,logout:s}=Wn(),[i,l]=x.useState("wins"),{data:c,isLoading:u,refetch:f}=lt({queryKey:["/api/leaderboards",i],enabled:!!t,refetchInterval:1800*1e3});if(!t)return e("/"),null;const h=(p,v,b)=>{const N=v==="guild_dungeon"||v==="guild_wins",_=!N&&p.accountId===t.id,E=N?p.guildName:p.username,w=p.rank<=3?n.jsxs(le,{variant:p.rank===1?"default":"secondary",className:p.rank===1?"bg-yellow-500 text-black":p.rank===2?"bg-gray-300 text-black":"bg-amber-700 text-white",children:["#",p.rank]}):n.jsxs("span",{className:"text-muted-foreground w-8 text-center",children:["#",p.rank]});return n.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg transition-colors ${_?"bg-primary/10 border border-primary/30":"bg-card/50 hover-elevate"}`,"data-testid":`leaderboard-entry-${b}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[w,N&&n.jsx(Bo,{className:"h-4 w-4 text-emerald-500"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("span",{className:`font-medium ${_?"text-primary":""}`,children:[E,_&&n.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"(You)"})]}),N&&p.masterName&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Leader: ",p.masterName]})]})]}),n.jsx("div",{className:"flex items-center gap-2",children:v==="npc_progress"?n.jsxs(le,{variant:"outline",className:"font-mono",children:["Floor ",p.npcFloor,":",p.npcLevel]}):v==="guild_dungeon"?n.jsxs(le,{variant:"outline",className:"font-mono text-emerald-500 border-emerald-500/50",children:["Floor ",p.dungeonFloor," - Lvl ",p.dungeonLevel]}):v==="rank"?n.jsx("span",{className:`font-semibold ${yI[p.value]||""}`,children:p.value}):n.jsx("span",{className:"font-mono font-bold",children:p.value.toLocaleString()})})]},b)};return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"border-b border-border/40 bg-card/30 backdrop-blur-sm sticky top-0 z-50",children:n.jsx("div",{className:"container mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("h1",{className:"font-cinzel text-2xl font-bold text-foreground flex items-center gap-2",children:[n.jsx(yt,{className:"h-6 w-6 text-yellow-500"}),"Leaderboards"]})}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/shop"),"data-testid":"link-shop",children:[n.jsx(kn,{className:"h-4 w-4 mr-1"}),"Shop"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/inventory"),"data-testid":"link-inventory",children:[n.jsx(bn,{className:"h-4 w-4 mr-1"}),"Inventory"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/events"),"data-testid":"link-events",children:[n.jsx(en,{className:"h-4 w-4 mr-1"}),"Events"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/challenges"),"data-testid":"link-challenges",children:[n.jsx(St,{className:"h-4 w-4 mr-1"}),"Challenges"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/npc-battle"),"data-testid":"link-npc-battle",children:[n.jsx(Ht,{className:"h-4 w-4 mr-1"}),"NPC Tower"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/guild"),"data-testid":"link-guild",children:[n.jsx(Qs,{className:"h-4 w-4 mr-1"}),"Guild"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/skills"),className:"toggle-elevate","data-testid":"link-skills",children:[n.jsx(kt,{className:"h-4 w-4 mr-1"}),"Skills"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/trading"),className:"toggle-elevate","data-testid":"link-trading",children:[n.jsx(kr,{className:"h-4 w-4 mr-1"}),"Trade"]})]})]})})}),n.jsx("main",{className:"container mx-auto px-4 py-8",children:n.jsxs(Te,{className:"max-w-3xl mx-auto",children:[n.jsx(He,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(We,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5 text-yellow-500"}),"Hall of Champions"]}),c&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Gs,{className:"h-4 w-4"}),"Updated ",yv(new Date(c.refreshedAt),{addSuffix:!0})]})]})}),n.jsxs(Le,{children:[n.jsxs(Rd,{value:i,onValueChange:l,children:[n.jsx(ul,{className:"grid w-full grid-cols-6 mb-6",children:wv.map(p=>n.jsxs(Xt,{value:p.id,className:"flex items-center gap-1","data-testid":`tab-${p.id}`,children:[n.jsx(p.icon,{className:`h-4 w-4 ${p.color}`}),n.jsx("span",{className:"hidden sm:inline",children:p.label})]},p.id))}),wv.map(p=>n.jsx(Jt,{value:p.id,children:u?n.jsx("div",{className:"space-y-2",children:[...Array(10)].map((v,b)=>n.jsx("div",{className:"h-14 bg-muted/50 rounded-lg animate-pulse"},b))}):c?.data?.length?n.jsx("div",{className:"space-y-2",children:c.data.map(v=>{const b=p.id==="guild_dungeon"||p.id==="guild_wins"?v.guildId||`guild-${v.rank}`:v.accountId||`player-${v.rank}`;return h(v,p.id,b)})}):n.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No data available yet"})},p.id))]}),c&&n.jsxs("div",{className:"mt-6 pt-4 border-t border-border/40 flex items-center justify-between text-sm text-muted-foreground",children:[n.jsxs("span",{children:["Next refresh: ",yv(new Date(c.nextRefresh),{addSuffix:!0})]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>f(),"data-testid":"button-refresh",children:[n.jsx(fk,{className:"h-4 w-4 mr-1"}),"Refresh"]})]})]})]})})]})}const bv={pending:"bg-yellow-500/20 text-yellow-500",accepted:"bg-blue-500/20 text-blue-500",completed:"bg-green-500/20 text-green-500",rewarded:"bg-purple-500/20 text-purple-500"},jv={pending:"New Quest",accepted:"In Progress",completed:"Completed",rewarded:"Rewards Claimed"},Mc=({rewards:e})=>{const t=[];return e.gold&&t.push({label:"Gold",value:e.gold,icon:rr,color:"text-yellow-500"}),e.rubies&&t.push({label:"Rubies",value:e.rubies,icon:is,color:"text-red-500"}),e.soulShards&&t.push({label:"Soul Shards",value:e.soulShards,icon:is,color:"text-purple-500"}),e.focusedShards&&t.push({label:"Focused Shards",value:e.focusedShards,icon:is,color:"text-blue-500"}),e.trainingPoints&&t.push({label:"Training Points",value:e.trainingPoints,icon:is,color:"text-green-500"}),e.runes&&t.push({label:"Runes",value:e.runes,icon:is,color:"text-orange-500"}),e.petExp&&t.push({label:"Pet Exp",value:e.petExp,icon:is,color:"text-pink-500"}),t.length===0?n.jsx("span",{className:"text-muted-foreground",children:"No rewards specified"}):n.jsx("div",{className:"flex flex-wrap gap-2",children:t.map((s,i)=>n.jsxs(le,{variant:"outline",className:"flex items-center gap-1",children:[n.jsx(s.icon,{className:`h-3 w-3 ${s.color}`}),s.value.toLocaleString()," ",s.label]},i))})};function bI(){const[,e]=Un(),{account:t,logout:s}=Wn(),{toast:i}=Qn(),{data:l=[],isLoading:c}=lt({queryKey:["/api/quests"],enabled:!!t}),{data:u=[],isLoading:f}=lt({queryKey:["/api/accounts",t?.id,"quests"],enabled:!!t}),h=Mt({mutationFn:async w=>he("POST",`/api/accounts/${t?.id}/quests/${w}/accept`),onSuccess:()=>{ce.invalidateQueries({queryKey:["/api/accounts",t?.id,"quests"]}),ce.invalidateQueries({queryKey:["/api/admin/quests"]}),i({title:"Quest Accepted!",description:"You've accepted the quest. Good luck!"})},onError:w=>{i({title:"Failed to accept quest",description:w?.message||"This quest may already be taken.",variant:"destructive"})}});if(!t)return e("/"),null;const p=c||f,v=new Set(u.map(w=>w.questId)),b=l.filter(w=>{const S=w.assignments&&w.assignments.length>0,k=v.has(w.id);return!S&&!k}),N=l.filter(w=>{const S=w.assignments&&w.assignments.length>0,k=v.has(w.id);return S&&!k}),_=u.filter(w=>w.status==="accepted"),E=u.filter(w=>["completed","rewarded"].includes(w.status));return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"border-b border-border/40 bg-card/30 backdrop-blur-sm sticky top-0 z-50",children:n.jsx("div",{className:"container mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("h1",{className:"font-cinzel text-2xl font-bold text-foreground flex items-center gap-2",children:[n.jsx(Nr,{className:"h-6 w-6 text-amber-500"}),"Quests"]})}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/shop"),"data-testid":"link-shop",children:[n.jsx(kn,{className:"h-4 w-4 mr-1"}),"Shop"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/inventory"),"data-testid":"link-inventory",children:[n.jsx(bn,{className:"h-4 w-4 mr-1"}),"Inventory"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/events"),"data-testid":"link-events",children:[n.jsx(en,{className:"h-4 w-4 mr-1"}),"Events"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/challenges"),"data-testid":"link-challenges",children:[n.jsx(St,{className:"h-4 w-4 mr-1"}),"Challenges"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/npc-battle"),"data-testid":"link-npc-battle",children:[n.jsx(Ht,{className:"h-4 w-4 mr-1"}),"NPC Tower"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/leaderboard"),"data-testid":"link-leaderboard",children:[n.jsx(yt,{className:"h-4 w-4 mr-1"}),"Leaderboard"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/guild"),"data-testid":"link-guild",children:[n.jsx(tn,{className:"h-4 w-4 mr-1"}),"Guild"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/trading"),"data-testid":"link-trading",children:[n.jsx(kr,{className:"h-4 w-4 mr-1"}),"Trade"]}),n.jsxs(I,{variant:"outline",size:"sm",onClick:()=>{s(),e("/")},"data-testid":"button-logout",children:[n.jsx(ar,{className:"h-4 w-4 mr-1"}),"Logout"]})]})]})})}),n.jsx("main",{className:"container mx-auto px-4 py-8",children:n.jsx("div",{className:"max-w-4xl mx-auto space-y-8",children:p?n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((w,S)=>n.jsx("div",{className:"h-32 bg-muted/50 rounded-lg animate-pulse"},S))}):n.jsxs(n.Fragment,{children:[b.length>0&&n.jsxs("section",{children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(Gs,{className:"h-5 w-5 text-yellow-500"}),"Available Quests (",b.length,")"]}),n.jsx("div",{className:"space-y-4",children:b.map(w=>n.jsxs(Te,{className:"border-yellow-500/30","data-testid":`quest-available-${w.id}`,children:[n.jsx(He,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx(We,{children:w.title}),n.jsx(un,{children:w.description})]}),n.jsx(le,{className:"bg-green-500/20 text-green-500",children:"Available"})]})}),n.jsx(Le,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Rewards:"}),n.jsx(Mc,{rewards:w.rewards})]})}),n.jsx(Yc,{children:n.jsx(I,{onClick:()=>h.mutate(w.id),disabled:h.isPending,"data-testid":`button-accept-${w.id}`,children:"Accept Quest"})})]},w.id))})]}),N.length>0&&n.jsxs("section",{children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(ck,{className:"h-5 w-5 text-muted-foreground"}),"Taken by Others (",N.length,")"]}),n.jsx("div",{className:"space-y-4",children:N.map(w=>n.jsxs(Te,{className:"border-muted opacity-60","data-testid":`quest-taken-${w.id}`,children:[n.jsx(He,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx(We,{className:"text-muted-foreground",children:w.title}),n.jsx(un,{children:w.description})]}),n.jsx(le,{variant:"secondary",children:"Taken"})]})}),n.jsx(Le,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Rewards:"}),n.jsx(Mc,{rewards:w.rewards})]})})]},w.id))})]}),_.length>0&&n.jsxs("section",{children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(Nr,{className:"h-5 w-5 text-blue-500"}),"My Active Quests (",_.length,")"]}),n.jsx("div",{className:"space-y-4",children:_.map(w=>n.jsxs(Te,{className:"border-blue-500/30","data-testid":`quest-active-${w.id}`,children:[n.jsx(He,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx(We,{children:w.quest.title}),n.jsx(un,{children:w.quest.description})]}),n.jsx(le,{className:bv[w.status],children:jv[w.status]})]})}),n.jsx(Le,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Rewards on completion:"}),n.jsx(Mc,{rewards:w.quest.rewards})]})}),n.jsx(Yc,{className:"text-sm text-muted-foreground",children:"Waiting for admin to mark as complete..."})]},w.id))})]}),E.length>0&&n.jsxs("section",{children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(ik,{className:"h-5 w-5 text-green-500"}),"Completed Quests (",E.length,")"]}),n.jsx("div",{className:"space-y-4",children:E.map(w=>n.jsxs(Te,{className:"border-green-500/30 opacity-75","data-testid":`quest-completed-${w.id}`,children:[n.jsx(He,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx(We,{children:w.quest.title}),n.jsx(un,{children:w.quest.description})]}),n.jsx(le,{className:bv[w.status],children:jv[w.status]})]})}),n.jsx(Le,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Rewards received:"}),n.jsx(Mc,{rewards:w.quest.rewards})]})})]},w.id))})]}),l.length===0&&u.length===0&&n.jsxs("div",{className:"text-center py-16",children:[n.jsx(Nr,{className:"h-16 w-16 mx-auto text-muted-foreground/50 mb-4"}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Quests Available"}),n.jsx("p",{className:"text-muted-foreground",children:"Check back later for new quests from the admins!"})]})]})})})]})}function _m(e,[t,s]){return Math.min(s,Math.max(t,e))}function eb(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var jI=[" ","Enter","ArrowUp","ArrowDown"],NI=[" ","Enter"],fl="Select",[Ad,Ld,SI]=$m(fl),[Di]=Er(fl,[SI,Nd]),Dd=Nd(),[kI,ra]=Di(fl),[CI,_I]=Di(fl),tb=e=>{const{__scopeSelect:t,children:s,open:i,defaultOpen:l,onOpenChange:c,value:u,defaultValue:f,onValueChange:h,dir:p,name:v,autoComplete:b,disabled:N,required:_,form:E}=e,w=Dd(t),[S,k]=x.useState(null),[C,R]=x.useState(null),[P,O]=x.useState(!1),G=Td(p),[q=!1,X]=Ca({prop:i,defaultProp:l,onChange:c}),[se,de]=Ca({prop:u,defaultProp:f,onChange:h}),xe=x.useRef(null),oe=S?E||!!S.closest("form"):!0,[K,$]=x.useState(new Set),me=Array.from(K).map(B=>B.props.value).join(";");return n.jsx(i2,{...w,children:n.jsxs(kI,{required:_,scope:t,trigger:S,onTriggerChange:k,valueNode:C,onValueNodeChange:R,valueNodeHasChildren:P,onValueNodeHasChildrenChange:O,contentId:Ws(),value:se,onValueChange:de,open:q,onOpenChange:X,dir:G,triggerPointerDownPosRef:xe,disabled:N,children:[n.jsx(Ad.Provider,{scope:t,children:n.jsx(CI,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(B=>{$(Y=>new Set(Y).add(B))},[]),onNativeOptionRemove:x.useCallback(B=>{$(Y=>{const T=new Set(Y);return T.delete(B),T})},[]),children:s})}),oe?n.jsxs(Cb,{"aria-hidden":!0,required:_,tabIndex:-1,name:v,autoComplete:b,value:se,onChange:B=>de(B.target.value),disabled:N,form:E,children:[se===void 0?n.jsx("option",{value:""}):null,Array.from(K)]},me):null]})})};tb.displayName=fl;var nb="SelectTrigger",rb=x.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:i=!1,...l}=e,c=Dd(s),u=ra(nb,s),f=u.disabled||i,h=st(t,u.onTriggerChange),p=Ld(s),v=x.useRef("touch"),[b,N,_]=_b(w=>{const S=p().filter(R=>!R.disabled),k=S.find(R=>R.value===u.value),C=Pb(S,w,k);C!==void 0&&u.onValueChange(C.value)}),E=w=>{f||(u.onOpenChange(!0),_()),w&&(u.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return n.jsx(l0,{asChild:!0,...c,children:n.jsx(qe.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":kb(u.value)?"":void 0,...l,ref:h,onClick:Ce(l.onClick,w=>{w.currentTarget.focus(),v.current!=="mouse"&&E(w)}),onPointerDown:Ce(l.onPointerDown,w=>{v.current=w.pointerType;const S=w.target;S.hasPointerCapture(w.pointerId)&&S.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(E(w),w.preventDefault())}),onKeyDown:Ce(l.onKeyDown,w=>{const S=b.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&N(w.key),!(S&&w.key===" ")&&jI.includes(w.key)&&(E(),w.preventDefault())})})})});rb.displayName=nb;var sb="SelectValue",ab=x.forwardRef((e,t)=>{const{__scopeSelect:s,className:i,style:l,children:c,placeholder:u="",...f}=e,h=ra(sb,s),{onValueNodeHasChildrenChange:p}=h,v=c!==void 0,b=st(t,h.onValueNodeChange);return mn(()=>{p(v)},[p,v]),n.jsx(qe.span,{...f,ref:b,style:{pointerEvents:"none"},children:kb(h.value)?n.jsx(n.Fragment,{children:u}):c})});ab.displayName=sb;var PI="SelectIcon",ib=x.forwardRef((e,t)=>{const{__scopeSelect:s,children:i,...l}=e;return n.jsx(qe.span,{"aria-hidden":!0,...l,ref:t,children:i||""})});ib.displayName=PI;var EI="SelectPortal",ob=e=>n.jsx(gd,{asChild:!0,...e});ob.displayName=EI;var Ra="SelectContent",lb=x.forwardRef((e,t)=>{const s=ra(Ra,e.__scopeSelect),[i,l]=x.useState();if(mn(()=>{l(new DocumentFragment)},[]),!s.open){const c=i;return c?Ii.createPortal(n.jsx(cb,{scope:e.__scopeSelect,children:n.jsx(Ad.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),c):null}return n.jsx(db,{...e,ref:t})});lb.displayName=Ra;var gr=10,[cb,sa]=Di(Ra),TI="SelectContentImpl",II=ji("SelectContent.RemoveScroll"),db=x.forwardRef((e,t)=>{const{__scopeSelect:s,position:i="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,side:f,sideOffset:h,align:p,alignOffset:v,arrowPadding:b,collisionBoundary:N,collisionPadding:_,sticky:E,hideWhenDetached:w,avoidCollisions:S,...k}=e,C=ra(Ra,s),[R,P]=x.useState(null),[O,G]=x.useState(null),q=st(t,ae=>P(ae)),[X,se]=x.useState(null),[de,xe]=x.useState(null),oe=Ld(s),[K,$]=x.useState(!1),me=x.useRef(!1);x.useEffect(()=>{if(R)return lw(R)},[R]),J0();const B=x.useCallback(ae=>{const[ue,...Fe]=oe().map(dt=>dt.ref.current),[Se]=Fe.slice(-1),Ke=document.activeElement;for(const dt of ae)if(dt===Ke||(dt?.scrollIntoView({block:"nearest"}),dt===ue&&O&&(O.scrollTop=0),dt===Se&&O&&(O.scrollTop=O.scrollHeight),dt?.focus(),document.activeElement!==Ke))return},[oe,O]),Y=x.useCallback(()=>B([X,R]),[B,X,R]);x.useEffect(()=>{K&&Y()},[K,Y]);const{onOpenChange:T,triggerPointerDownPosRef:U}=C;x.useEffect(()=>{if(R){let ae={x:0,y:0};const ue=Se=>{ae={x:Math.abs(Math.round(Se.pageX)-(U.current?.x??0)),y:Math.abs(Math.round(Se.pageY)-(U.current?.y??0))}},Fe=Se=>{ae.x<=10&&ae.y<=10?Se.preventDefault():R.contains(Se.target)||T(!1),document.removeEventListener("pointermove",ue),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",Fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",Fe,{capture:!0})}}},[R,T,U]),x.useEffect(()=>{const ae=()=>T(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[T]);const[W,L]=_b(ae=>{const ue=oe().filter(Ke=>!Ke.disabled),Fe=ue.find(Ke=>Ke.ref.current===document.activeElement),Se=Pb(ue,ae,Fe);Se&&setTimeout(()=>Se.ref.current.focus())}),H=x.useCallback((ae,ue,Fe)=>{const Se=!me.current&&!Fe;(C.value!==void 0&&C.value===ue||Se)&&(se(ae),Se&&(me.current=!0))},[C.value]),_e=x.useCallback(()=>R?.focus(),[R]),Ee=x.useCallback((ae,ue,Fe)=>{const Se=!me.current&&!Fe;(C.value!==void 0&&C.value===ue||Se)&&xe(ae)},[C.value]),$e=i==="popper"?Pm:ub,Be=$e===Pm?{side:f,sideOffset:h,align:p,alignOffset:v,arrowPadding:b,collisionBoundary:N,collisionPadding:_,sticky:E,hideWhenDetached:w,avoidCollisions:S}:{};return n.jsx(cb,{scope:s,content:R,viewport:O,onViewportChange:G,itemRefCallback:H,selectedItem:X,onItemLeave:_e,itemTextRefCallback:Ee,focusSelectedItem:Y,selectedItemText:de,position:i,isPositioned:K,searchRef:W,children:n.jsx(ip,{as:II,allowPinchZoom:!0,children:n.jsx(ap,{asChild:!0,trapped:C.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:Ce(l,ae=>{C.trigger?.focus({preventScroll:!0}),ae.preventDefault()}),children:n.jsx(il,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:n.jsx($e,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:ae=>ae.preventDefault(),...k,...Be,onPlaced:()=>$(!0),ref:q,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:Ce(k.onKeyDown,ae=>{const ue=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!ue&&ae.key.length===1&&L(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let Se=oe().filter(Ke=>!Ke.disabled).map(Ke=>Ke.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(Se=Se.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const Ke=ae.target,dt=Se.indexOf(Ke);Se=Se.slice(dt+1)}setTimeout(()=>B(Se)),ae.preventDefault()}})})})})})})});db.displayName=TI;var RI="SelectItemAlignedPosition",ub=x.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:i,...l}=e,c=ra(Ra,s),u=sa(Ra,s),[f,h]=x.useState(null),[p,v]=x.useState(null),b=st(t,q=>v(q)),N=Ld(s),_=x.useRef(!1),E=x.useRef(!0),{viewport:w,selectedItem:S,selectedItemText:k,focusSelectedItem:C}=u,R=x.useCallback(()=>{if(c.trigger&&c.valueNode&&f&&p&&w&&S&&k){const q=c.trigger.getBoundingClientRect(),X=p.getBoundingClientRect(),se=c.valueNode.getBoundingClientRect(),de=k.getBoundingClientRect();if(c.dir!=="rtl"){const Ke=de.left-X.left,dt=se.left-Ke,xt=q.left-dt,Je=q.width+xt,sn=Math.max(Je,X.width),Dn=window.innerWidth-gr,lr=_m(dt,[gr,Math.max(gr,Dn-sn)]);f.style.minWidth=Je+"px",f.style.left=lr+"px"}else{const Ke=X.right-de.right,dt=window.innerWidth-se.right-Ke,xt=window.innerWidth-q.right-dt,Je=q.width+xt,sn=Math.max(Je,X.width),Dn=window.innerWidth-gr,lr=_m(dt,[gr,Math.max(gr,Dn-sn)]);f.style.minWidth=Je+"px",f.style.right=lr+"px"}const xe=N(),oe=window.innerHeight-gr*2,K=w.scrollHeight,$=window.getComputedStyle(p),me=parseInt($.borderTopWidth,10),B=parseInt($.paddingTop,10),Y=parseInt($.borderBottomWidth,10),T=parseInt($.paddingBottom,10),U=me+B+K+T+Y,W=Math.min(S.offsetHeight*5,U),L=window.getComputedStyle(w),H=parseInt(L.paddingTop,10),_e=parseInt(L.paddingBottom,10),Ee=q.top+q.height/2-gr,$e=oe-Ee,Be=S.offsetHeight/2,ae=S.offsetTop+Be,ue=me+B+ae,Fe=U-ue;if(ue<=Ee){const Ke=xe.length>0&&S===xe[xe.length-1].ref.current;f.style.bottom="0px";const dt=p.clientHeight-w.offsetTop-w.offsetHeight,xt=Math.max($e,Be+(Ke?_e:0)+dt+Y),Je=ue+xt;f.style.height=Je+"px"}else{const Ke=xe.length>0&&S===xe[0].ref.current;f.style.top="0px";const xt=Math.max(Ee,me+w.offsetTop+(Ke?H:0)+Be)+Fe;f.style.height=xt+"px",w.scrollTop=ue-Ee+w.offsetTop}f.style.margin=`${gr}px 0`,f.style.minHeight=W+"px",f.style.maxHeight=oe+"px",i?.(),requestAnimationFrame(()=>_.current=!0)}},[N,c.trigger,c.valueNode,f,p,w,S,k,c.dir,i]);mn(()=>R(),[R]);const[P,O]=x.useState();mn(()=>{p&&O(window.getComputedStyle(p).zIndex)},[p]);const G=x.useCallback(q=>{q&&E.current===!0&&(R(),C?.(),E.current=!1)},[R,C]);return n.jsx(LI,{scope:s,contentWrapper:f,shouldExpandOnScrollRef:_,onScrollButtonChange:G,children:n.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:n.jsx(qe.div,{...l,ref:b,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});ub.displayName=RI;var AI="SelectPopperPosition",Pm=x.forwardRef((e,t)=>{const{__scopeSelect:s,align:i="start",collisionPadding:l=gr,...c}=e,u=Dd(s);return n.jsx(c0,{...u,...c,ref:t,align:i,collisionPadding:l,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Pm.displayName=AI;var[LI,hp]=Di(Ra,{}),Em="SelectViewport",fb=x.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:i,...l}=e,c=sa(Em,s),u=hp(Em,s),f=st(t,c.onViewportChange),h=x.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),n.jsx(Ad.Slot,{scope:s,children:n.jsx(qe.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:Ce(l.onScroll,p=>{const v=p.currentTarget,{contentWrapper:b,shouldExpandOnScrollRef:N}=u;if(N?.current&&b){const _=Math.abs(h.current-v.scrollTop);if(_>0){const E=window.innerHeight-gr*2,w=parseFloat(b.style.minHeight),S=parseFloat(b.style.height),k=Math.max(w,S);if(k<E){const C=k+_,R=Math.min(E,C),P=C-R;b.style.height=R+"px",b.style.bottom==="0px"&&(v.scrollTop=P>0?P:0,b.style.justifyContent="flex-end")}}}h.current=v.scrollTop})})})]})});fb.displayName=Em;var mb="SelectGroup",[DI,MI]=Di(mb),OI=x.forwardRef((e,t)=>{const{__scopeSelect:s,...i}=e,l=Ws();return n.jsx(DI,{scope:s,id:l,children:n.jsx(qe.div,{role:"group","aria-labelledby":l,...i,ref:t})})});OI.displayName=mb;var pb="SelectLabel",hb=x.forwardRef((e,t)=>{const{__scopeSelect:s,...i}=e,l=MI(pb,s);return n.jsx(qe.div,{id:l.id,...i,ref:t})});hb.displayName=pb;var cd="SelectItem",[FI,gb]=Di(cd),xb=x.forwardRef((e,t)=>{const{__scopeSelect:s,value:i,disabled:l=!1,textValue:c,...u}=e,f=ra(cd,s),h=sa(cd,s),p=f.value===i,[v,b]=x.useState(c??""),[N,_]=x.useState(!1),E=st(t,C=>h.itemRefCallback?.(C,i,l)),w=Ws(),S=x.useRef("touch"),k=()=>{l||(f.onValueChange(i),f.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(FI,{scope:s,value:i,disabled:l,textId:w,isSelected:p,onItemTextChange:x.useCallback(C=>{b(R=>R||(C?.textContent??"").trim())},[]),children:n.jsx(Ad.ItemSlot,{scope:s,value:i,disabled:l,textValue:v,children:n.jsx(qe.div,{role:"option","aria-labelledby":w,"data-highlighted":N?"":void 0,"aria-selected":p&&N,"data-state":p?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...u,ref:E,onFocus:Ce(u.onFocus,()=>_(!0)),onBlur:Ce(u.onBlur,()=>_(!1)),onClick:Ce(u.onClick,()=>{S.current!=="mouse"&&k()}),onPointerUp:Ce(u.onPointerUp,()=>{S.current==="mouse"&&k()}),onPointerDown:Ce(u.onPointerDown,C=>{S.current=C.pointerType}),onPointerMove:Ce(u.onPointerMove,C=>{S.current=C.pointerType,l?h.onItemLeave?.():S.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ce(u.onPointerLeave,C=>{C.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:Ce(u.onKeyDown,C=>{h.searchRef?.current!==""&&C.key===" "||(NI.includes(C.key)&&k(),C.key===" "&&C.preventDefault())})})})})});xb.displayName=cd;var Ao="SelectItemText",vb=x.forwardRef((e,t)=>{const{__scopeSelect:s,className:i,style:l,...c}=e,u=ra(Ao,s),f=sa(Ao,s),h=gb(Ao,s),p=_I(Ao,s),[v,b]=x.useState(null),N=st(t,k=>b(k),h.onItemTextChange,k=>f.itemTextRefCallback?.(k,h.value,h.disabled)),_=v?.textContent,E=x.useMemo(()=>n.jsx("option",{value:h.value,disabled:h.disabled,children:_},h.value),[h.disabled,h.value,_]),{onNativeOptionAdd:w,onNativeOptionRemove:S}=p;return mn(()=>(w(E),()=>S(E)),[w,S,E]),n.jsxs(n.Fragment,{children:[n.jsx(qe.span,{id:h.textId,...c,ref:N}),h.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Ii.createPortal(c.children,u.valueNode):null]})});vb.displayName=Ao;var yb="SelectItemIndicator",wb=x.forwardRef((e,t)=>{const{__scopeSelect:s,...i}=e;return gb(yb,s).isSelected?n.jsx(qe.span,{"aria-hidden":!0,...i,ref:t}):null});wb.displayName=yb;var Tm="SelectScrollUpButton",bb=x.forwardRef((e,t)=>{const s=sa(Tm,e.__scopeSelect),i=hp(Tm,e.__scopeSelect),[l,c]=x.useState(!1),u=st(t,i.onScrollButtonChange);return mn(()=>{if(s.viewport&&s.isPositioned){let f=function(){const p=h.scrollTop>0;c(p)};const h=s.viewport;return f(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[s.viewport,s.isPositioned]),l?n.jsx(Nb,{...e,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:h}=s;f&&h&&(f.scrollTop=f.scrollTop-h.offsetHeight)}}):null});bb.displayName=Tm;var Im="SelectScrollDownButton",jb=x.forwardRef((e,t)=>{const s=sa(Im,e.__scopeSelect),i=hp(Im,e.__scopeSelect),[l,c]=x.useState(!1),u=st(t,i.onScrollButtonChange);return mn(()=>{if(s.viewport&&s.isPositioned){let f=function(){const p=h.scrollHeight-h.clientHeight,v=Math.ceil(h.scrollTop)<p;c(v)};const h=s.viewport;return f(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[s.viewport,s.isPositioned]),l?n.jsx(Nb,{...e,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:h}=s;f&&h&&(f.scrollTop=f.scrollTop+h.offsetHeight)}}):null});jb.displayName=Im;var Nb=x.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:i,...l}=e,c=sa("SelectScrollButton",s),u=x.useRef(null),f=Ld(s),h=x.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return x.useEffect(()=>()=>h(),[h]),mn(()=>{f().find(v=>v.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),n.jsx(qe.div,{"aria-hidden":!0,...l,ref:t,style:{flexShrink:0,...l.style},onPointerDown:Ce(l.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(i,50))}),onPointerMove:Ce(l.onPointerMove,()=>{c.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(i,50))}),onPointerLeave:Ce(l.onPointerLeave,()=>{h()})})}),zI="SelectSeparator",Sb=x.forwardRef((e,t)=>{const{__scopeSelect:s,...i}=e;return n.jsx(qe.div,{"aria-hidden":!0,...i,ref:t})});Sb.displayName=zI;var Rm="SelectArrow",$I=x.forwardRef((e,t)=>{const{__scopeSelect:s,...i}=e,l=Dd(s),c=ra(Rm,s),u=sa(Rm,s);return c.open&&u.position==="popper"?n.jsx(d0,{...l,...i,ref:t}):null});$I.displayName=Rm;function kb(e){return e===""||e===void 0}var Cb=x.forwardRef((e,t)=>{const{value:s,...i}=e,l=x.useRef(null),c=st(t,l),u=eb(s);return x.useEffect(()=>{const f=l.current,h=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(h,"value").set;if(u!==s&&v){const b=new Event("change",{bubbles:!0});v.call(f,s),f.dispatchEvent(b)}},[u,s]),n.jsx(ol,{asChild:!0,children:n.jsx("select",{...i,ref:c,defaultValue:s})})});Cb.displayName="BubbleSelect";function _b(e){const t=Bt(e),s=x.useRef(""),i=x.useRef(0),l=x.useCallback(u=>{const f=s.current+u;t(f),(function h(p){s.current=p,window.clearTimeout(i.current),p!==""&&(i.current=window.setTimeout(()=>h(""),1e3))})(f)},[t]),c=x.useCallback(()=>{s.current="",window.clearTimeout(i.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(i.current),[]),[s,l,c]}function Pb(e,t,s){const l=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,c=s?e.indexOf(s):-1;let u=BI(e,Math.max(c,0));l.length===1&&(u=u.filter(p=>p!==s));const h=u.find(p=>p.textValue.toLowerCase().startsWith(l.toLowerCase()));return h!==s?h:void 0}function BI(e,t){return e.map((s,i)=>e[(t+i)%e.length])}var VI=tb,Eb=rb,qI=ab,UI=ib,QI=ob,Tb=lb,WI=fb,Ib=hb,Rb=xb,HI=vb,GI=wb,Ab=bb,Lb=jb,Db=Sb;const Or=VI,Fr=qI,yr=x.forwardRef(({className:e,children:t,...s},i)=>n.jsxs(Eb,{ref:i,className:we("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,n.jsx(UI,{asChild:!0,children:n.jsx(_y,{className:"h-4 w-4 opacity-50"})})]}));yr.displayName=Eb.displayName;const Mb=x.forwardRef(({className:e,...t},s)=>n.jsx(Ab,{ref:s,className:we("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(sk,{className:"h-4 w-4"})}));Mb.displayName=Ab.displayName;const Ob=x.forwardRef(({className:e,...t},s)=>n.jsx(Lb,{ref:s,className:we("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(_y,{className:"h-4 w-4"})}));Ob.displayName=Lb.displayName;const wr=x.forwardRef(({className:e,children:t,position:s="popper",...i},l)=>n.jsx(QI,{children:n.jsxs(Tb,{ref:l,className:we("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...i,children:[n.jsx(Mb,{}),n.jsx(WI,{className:we("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(Ob,{})]})}));wr.displayName=Tb.displayName;const KI=x.forwardRef(({className:e,...t},s)=>n.jsx(Ib,{ref:s,className:we("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));KI.displayName=Ib.displayName;const yn=x.forwardRef(({className:e,children:t,...s},i)=>n.jsxs(Rb,{ref:i,className:we("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(GI,{children:n.jsx(cs,{className:"h-4 w-4"})})}),n.jsx(HI,{children:t})]}));yn.displayName=Rb.displayName;const ZI=x.forwardRef(({className:e,...t},s)=>n.jsx(Db,{ref:s,className:we("-mx-1 my-1 h-px bg-muted",e),...t}));ZI.displayName=Db.displayName;function YI(){const{account:e,logout:t}=Wn(),[,s]=Un(),{toast:i}=Qn(),[l,c]=x.useState(""),[u,f]=x.useState(!1),[h,p]=x.useState(!1),[v,b]=x.useState(!1),[N,_]=x.useState({}),[E,w]=x.useState(!1),[S,k]=x.useState(""),[C,R]=x.useState([]),[P,O]=x.useState(null),[G,q]=x.useState([]),[X,se]=x.useState(!1),[de,xe]=x.useState(""),[oe,K]=x.useState("gold"),{data:$,isLoading:me}=lt({queryKey:["/api/accounts",e?.id,"guild"],enabled:!!e}),{data:B=[]}=lt({queryKey:["/api/accounts",e?.id,"guild-invites"],enabled:!!e&&!$}),{data:Y=[]}=lt({queryKey:["/api/players/available-for-guild"],enabled:!!e&&!!$&&$.masterId===e.id}),{data:T}=lt({queryKey:["/api/guilds",$?.id,"dungeon"],enabled:!!$,refetchInterval:5e3}),U=Mt({mutationFn:async F=>(await he("POST","/api/guilds",{name:F,masterId:e.id})).json(),onSuccess:()=>{ce.invalidateQueries({queryKey:["/api/accounts",e?.id,"guild"]}),f(!1),c(""),i({title:"Guild created!",description:"You are now the Guild Master."})},onError:F=>{i({title:"Error",description:F.message||"Failed to create guild",variant:"destructive"})}}),W=Mt({mutationFn:async F=>(await he("POST",`/api/guilds/${$.id}/invite`,{accountId:F,invitedBy:e.id})).json(),onSuccess:()=>{ce.invalidateQueries({queryKey:["/api/players/available-for-guild"]}),i({title:"Invite sent!"})},onError:F=>{i({title:"Error",description:F.message||"Failed to send invite",variant:"destructive"})}}),L=Mt({mutationFn:async F=>(await he("POST",`/api/guild-invites/${F}/accept`,{})).json(),onSuccess:()=>{ce.invalidateQueries({queryKey:["/api/accounts",e?.id,"guild"]}),ce.invalidateQueries({queryKey:["/api/accounts",e?.id,"guild-invites"]}),i({title:"Joined guild!"})},onError:F=>{i({title:"Error",description:F.message||"Failed to join guild",variant:"destructive"})}}),H=Mt({mutationFn:async F=>(await he("POST",`/api/guild-invites/${F}/decline`,{})).json(),onSuccess:()=>{ce.invalidateQueries({queryKey:["/api/accounts",e?.id,"guild-invites"]})}}),_e=Mt({mutationFn:async()=>(await he("POST",`/api/guilds/${$.id}/leave`,{accountId:e.id})).json(),onSuccess:F=>{ce.invalidateQueries({queryKey:["/api/accounts",e?.id,"guild"]}),i({title:F.guildDisbanded?"Guild disbanded":"Left guild",description:F.guildDisbanded?"The guild has been disbanded.":"You have left the guild."})}}),Ee=Mt({mutationFn:async F=>(await he("POST",`/api/guilds/${$.id}/kick`,{accountId:F,masterId:e.id})).json(),onSuccess:()=>{ce.invalidateQueries({queryKey:["/api/accounts",e?.id,"guild"]}),i({title:"Member kicked"})}}),$e=Mt({mutationFn:async()=>(await he("POST",`/api/guilds/${$.id}/dungeon/fight`,{accountId:e.id})).json(),onSuccess:F=>{ce.invalidateQueries({queryKey:["/api/guilds",$?.id,"dungeon"]}),ce.invalidateQueries({queryKey:["/api/accounts",e?.id,"guild"]}),F.victory?i({title:"Victory!",description:`Earned ${F.rewards.gold.toLocaleString()} gold for guild bank!`}):i({title:"Defeat",description:"The dungeon monsters were too strong.",variant:"destructive"})}}),Be=Mt({mutationFn:async F=>(await he("POST",`/api/guilds/${$.id}/distribute`,{masterId:e.id,distributions:F})).json(),onSuccess:()=>{ce.invalidateQueries({queryKey:["/api/accounts",e?.id,"guild"]}),b(!1),_({}),i({title:"Rewards distributed!"})},onError:F=>{i({title:"Error",description:F.message||"Failed to distribute",variant:"destructive"})}}),ae=$?.masterId===e?.id,{data:ue=[]}=lt({queryKey:["/api/guilds",$?.id,"battles"],enabled:!!$}),{data:Fe=[]}=lt({queryKey:["/api/guilds"],enabled:!!$&&ae&&E,refetchInterval:E?5e3:!1}),Se=Mt({mutationFn:async F=>(await he("POST",`/api/guilds/${$.id}/battles/challenge`,{accountId:e.id,targetGuildId:F.challengedGuildId,fighters:F.fighters})).json(),onSuccess:()=>{ce.invalidateQueries({queryKey:["/api/guilds",$?.id,"battles"]}),w(!1),k(""),R([]),i({title:"Challenge sent!",description:"Waiting for the opposing guild to respond."})},onError:F=>{i({title:"Error",description:F.message||"Failed to send challenge",variant:"destructive"})}}),Ke=Mt({mutationFn:async F=>(await he("PATCH",`/api/guild-battles/${F.battleId}/respond`,{accountId:e.id,accept:F.accept,fighters:F.fighters})).json(),onSuccess:(F,Ue)=>{ce.invalidateQueries({queryKey:["/api/guilds",$?.id,"battles"]}),O(null),q([]),i({title:Ue.accept?"Challenge accepted!":"Challenge declined",description:Ue.accept?"The battle has begun! Admin will judge each round.":"You declined the guild battle."})},onError:F=>{i({title:"Error",description:F.message||"Failed to respond",variant:"destructive"})}}),dt=Mt({mutationFn:async F=>(await he("POST",`/api/guilds/${$.id}/deposit`,{accountId:e.id,resource:F.resource,amount:F.amount})).json(),onSuccess:()=>{ce.invalidateQueries({queryKey:["/api/accounts",e?.id,"guild"]}),ce.invalidateQueries({queryKey:["/api/accounts",e?.id]}),se(!1),xe(""),i({title:"Deposit successful!",description:"Your contribution has been added to the guild bank."})},onError:F=>{i({title:"Error",description:F.message||"Failed to deposit",variant:"destructive"})}}),xt=Mt({mutationFn:async()=>(await he("POST",`/api/guilds/${$.id}/level-up`,{accountId:e.id})).json(),onSuccess:F=>{ce.invalidateQueries({queryKey:["/api/accounts",e?.id,"guild"]}),i({title:"Guild Leveled Up!",description:`Your guild is now level ${F.newLevel}!`})},onError:F=>{i({title:"Level Up Failed",description:F.message||"Cannot level up guild",variant:"destructive"})}}),Je=ue.filter(F=>F.status==="pending"&&F.challengedGuildId===$?.id),sn=ue.filter(F=>F.status==="accepted"||F.status==="in_progress"),Dn=ue.filter(F=>F.status==="completed").slice(0,5),lr=()=>{t(),s("/")};return!e||e.role!=="player"?(s("/"),null):n.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[n.jsx("header",{className:"border-b border-border bg-card/50 backdrop-blur sticky top-0 z-50",children:n.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("h1",{className:"text-xl font-bold font-serif text-primary flex items-center gap-2",children:[n.jsx(tn,{className:"w-5 h-5"}),"Guild"]}),n.jsxs("nav",{className:"hidden md:flex gap-2",children:[n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>s("/shop"),"data-testid":"link-shop",children:[n.jsx(kn,{className:"w-4 h-4 mr-1"}),"Shop"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>s("/inventory"),"data-testid":"link-inventory",children:[n.jsx(bn,{className:"w-4 h-4 mr-1"}),"Inventory"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>s("/pets"),"data-testid":"link-pets",children:[n.jsx(jr,{className:"w-4 h-4 mr-1"}),"Pets"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>s("/challenges"),"data-testid":"link-challenges",children:[n.jsx(St,{className:"w-4 h-4 mr-1"}),"Challenges"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>s("/npc-battle"),"data-testid":"link-npc",children:[n.jsx(Ht,{className:"w-4 h-4 mr-1"}),"NPC Tower"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>s("/quests"),"data-testid":"link-quests",children:[n.jsx(Nr,{className:"w-4 h-4 mr-1"}),"Quests"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>s("/leaderboard"),"data-testid":"link-leaderboard",children:[n.jsx(yt,{className:"w-4 h-4 mr-1"}),"Leaderboard"]}),n.jsxs(I,{variant:"secondary",size:"sm","data-testid":"link-guild-active",children:[n.jsx(tn,{className:"w-4 h-4 mr-1"}),"Guild"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>s("/skills"),"data-testid":"link-skills",children:[n.jsx(kt,{className:"w-4 h-4 mr-1"}),"Skills"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>s("/trading"),"data-testid":"link-trading",children:[n.jsx(kr,{className:"w-4 h-4 mr-1"}),"Trade"]})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:e.username}),n.jsx(I,{variant:"ghost",size:"sm",onClick:lr,"data-testid":"button-logout",children:n.jsx(ar,{className:"w-4 h-4"})})]})]})}),n.jsx("main",{className:"container mx-auto px-4 py-8",children:me?n.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Loading..."}):$?n.jsxs("div",{className:"max-w-4xl mx-auto grid gap-6 md:grid-cols-2",children:[n.jsxs(Te,{children:[n.jsxs(He,{children:[n.jsxs(We,{className:"flex items-center gap-2",children:[n.jsx(tn,{className:"w-5 h-5 text-primary"}),$.name,n.jsxs(le,{variant:"outline",className:"ml-2 border-yellow-500 text-yellow-500",children:["Level ",$.level||1]})]}),n.jsxs(un,{className:"flex items-center justify-between",children:[n.jsxs("span",{children:[$.members.length,"/4 Members"]}),ae&&($.level||1)<10&&n.jsxs(I,{size:"sm",variant:"outline",onClick:()=>xt.mutate(),disabled:xt.isPending,"data-testid":"button-level-up-guild",className:"text-yellow-500 border-yellow-500/50",children:[n.jsx(kt,{className:"w-3 h-3 mr-1"}),xt.isPending?"...":"Level Up"]})]})]}),n.jsxs(Le,{className:"space-y-4",children:[n.jsx("div",{className:"space-y-2",children:$.members.map(F=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-border",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[F.isMaster&&n.jsx(ds,{className:"w-4 h-4 text-yellow-500"}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium flex items-center gap-2",children:[F.username,F.isOnline&&n.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:F.rank})]})]}),ae&&!F.isMaster&&n.jsx(I,{size:"sm",variant:"ghost",onClick:()=>Ee.mutate(F.accountId),"data-testid":`button-kick-${F.accountId}`,children:n.jsx($r,{className:"w-4 h-4"})})]},F.accountId))}),n.jsxs("div",{className:"flex gap-2",children:[ae&&$.members.length<4&&n.jsxs(gt,{open:h,onOpenChange:p,children:[n.jsx(Vs,{asChild:!0,children:n.jsxs(I,{variant:"outline",className:"flex-1","data-testid":"button-invite",children:[n.jsx(Ey,{className:"w-4 h-4 mr-2"}),"Invite Player"]})}),n.jsxs(mt,{children:[n.jsx(pt,{children:n.jsx(ht,{children:"Invite Player"})}),n.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:Y.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No available players"}):Y.map(F=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:F.username}),F.isOnline&&n.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),n.jsx(le,{variant:"outline",children:F.rank})]}),n.jsx(I,{size:"sm",onClick:()=>{W.mutate(F.id),p(!1)},"data-testid":`button-invite-${F.id}`,children:"Invite"})]},F.id))})]})]}),n.jsxs(I,{variant:"destructive",className:"flex-1",onClick:()=>_e.mutate(),"data-testid":"button-leave-guild",children:[n.jsx(ar,{className:"w-4 h-4 mr-2"}),ae?"Disband Guild":"Leave Guild"]})]})]})]}),n.jsxs(Te,{children:[n.jsx(He,{children:n.jsxs(We,{className:"flex items-center gap-2",children:[n.jsx(hk,{className:"w-5 h-5 text-yellow-500"}),"Guild Bank"]})}),n.jsxs(Le,{className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-yellow-500/10",children:[n.jsx(rr,{className:"w-5 h-5 text-yellow-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Gold"}),n.jsx("p",{className:"font-bold",children:$.bank.gold.toLocaleString()})]})]}),n.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-red-500/10",children:[n.jsx(qs,{className:"w-5 h-5 text-red-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Rubies"}),n.jsx("p",{className:"font-bold",children:$.bank.rubies.toLocaleString()})]})]}),n.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-purple-500/10",children:[n.jsx(kt,{className:"w-5 h-5 text-purple-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Soul Shards"}),n.jsx("p",{className:"font-bold",children:$.bank.soulShards.toLocaleString()})]})]}),n.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-blue-500/10",children:[n.jsx(kt,{className:"w-5 h-5 text-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Focused Shards"}),n.jsx("p",{className:"font-bold",children:$.bank.focusedShards.toLocaleString()})]})]}),n.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-green-500/10",children:[n.jsx(kt,{className:"w-5 h-5 text-green-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Training Points"}),n.jsx("p",{className:"font-bold",children:($.bank.trainingPoints||0).toLocaleString()})]})]}),n.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-orange-500/10",children:[n.jsx(kt,{className:"w-5 h-5 text-orange-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Runes"}),n.jsx("p",{className:"font-bold",children:($.bank.runes||0).toLocaleString()})]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(gt,{open:X,onOpenChange:se,children:[n.jsx(Vs,{asChild:!0,children:n.jsxs(I,{className:"flex-1",variant:"outline","data-testid":"button-deposit",children:[n.jsx(nr,{className:"w-4 h-4 mr-2"}),"Deposit"]})}),n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsx(ht,{children:"Deposit to Guild Bank"}),n.jsx(Nt,{children:"Contribute your resources to help the guild"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{children:[n.jsx(Me,{children:"Resource Type"}),n.jsxs(Or,{value:oe,onValueChange:F=>K(F),children:[n.jsx(yr,{"data-testid":"select-deposit-resource",children:n.jsx(Fr,{})}),n.jsxs(wr,{children:[n.jsxs(yn,{value:"gold",children:["Gold (",e.gold?.toLocaleString()||0,")"]}),n.jsxs(yn,{value:"rubies",children:["Rubies (",e.rubies?.toLocaleString()||0,")"]}),n.jsxs(yn,{value:"soulShards",children:["Soul Shards (",e.soulShards?.toLocaleString()||0,")"]}),n.jsxs(yn,{value:"focusedShards",children:["Focused Shards (",e.focusedShards?.toLocaleString()||0,")"]})]})]})]}),n.jsxs("div",{children:[n.jsx(Me,{children:"Amount"}),n.jsx(tt,{type:"number",min:1,value:de,onChange:F=>xe(F.target.value),placeholder:"Enter amount","data-testid":"input-deposit-amount"})]})]}),n.jsxs(Lt,{children:[n.jsx(I,{variant:"outline",onClick:()=>se(!1),children:"Cancel"}),n.jsx(I,{onClick:()=>{const F=parseInt(de)||0;F>0&&dt.mutate({resource:oe,amount:F})},disabled:dt.isPending||!de,"data-testid":"button-confirm-deposit",children:dt.isPending?"Depositing...":"Deposit"})]})]})]}),ae&&n.jsxs(gt,{open:v,onOpenChange:b,children:[n.jsx(Vs,{asChild:!0,children:n.jsxs(I,{className:"flex-1",variant:"outline","data-testid":"button-distribute",children:[n.jsx(rr,{className:"w-4 h-4 mr-2"}),"Distribute"]})}),n.jsxs(mt,{className:"max-w-lg",children:[n.jsxs(pt,{children:[n.jsx(ht,{children:"Distribute Guild Bank"}),n.jsx(Nt,{children:"Allocate resources to guild members"})]}),n.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto",children:$.members.map(F=>n.jsxs("div",{className:"space-y-2 p-3 rounded-lg border",children:[n.jsx("p",{className:"font-medium",children:F.username}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsxs(Me,{className:"text-xs",children:["Gold (",$.bank.gold.toLocaleString()," available)"]}),n.jsx(tt,{type:"number",min:0,max:$.bank.gold,value:N[F.accountId]?.gold||0,onChange:Ue=>_(Ie=>({...Ie,[F.accountId]:{...Ie[F.accountId],gold:parseInt(Ue.target.value)||0,rubies:Ie[F.accountId]?.rubies||0,soulShards:Ie[F.accountId]?.soulShards||0,focusedShards:Ie[F.accountId]?.focusedShards||0}}))})]}),n.jsxs("div",{children:[n.jsxs(Me,{className:"text-xs",children:["Rubies (",$.bank.rubies.toLocaleString()," available)"]}),n.jsx(tt,{type:"number",min:0,max:$.bank.rubies,value:N[F.accountId]?.rubies||0,onChange:Ue=>_(Ie=>({...Ie,[F.accountId]:{...Ie[F.accountId],gold:Ie[F.accountId]?.gold||0,rubies:parseInt(Ue.target.value)||0,soulShards:Ie[F.accountId]?.soulShards||0,focusedShards:Ie[F.accountId]?.focusedShards||0}}))})]}),n.jsxs("div",{children:[n.jsxs(Me,{className:"text-xs",children:["Soul Shards (",$.bank.soulShards.toLocaleString()," available)"]}),n.jsx(tt,{type:"number",min:0,max:$.bank.soulShards,value:N[F.accountId]?.soulShards||0,onChange:Ue=>_(Ie=>({...Ie,[F.accountId]:{...Ie[F.accountId],gold:Ie[F.accountId]?.gold||0,rubies:Ie[F.accountId]?.rubies||0,soulShards:parseInt(Ue.target.value)||0,focusedShards:Ie[F.accountId]?.focusedShards||0}}))})]}),n.jsxs("div",{children:[n.jsxs(Me,{className:"text-xs",children:["Focused Shards (",$.bank.focusedShards.toLocaleString()," available)"]}),n.jsx(tt,{type:"number",min:0,max:$.bank.focusedShards,value:N[F.accountId]?.focusedShards||0,onChange:Ue=>_(Ie=>({...Ie,[F.accountId]:{...Ie[F.accountId],gold:Ie[F.accountId]?.gold||0,rubies:Ie[F.accountId]?.rubies||0,soulShards:Ie[F.accountId]?.soulShards||0,focusedShards:parseInt(Ue.target.value)||0}}))})]})]})]},F.accountId))}),n.jsx(Lt,{children:n.jsx(I,{onClick:()=>{const F=Object.entries(N).filter(([Ue,Ie])=>Ie.gold>0||Ie.rubies>0||Ie.soulShards>0||Ie.focusedShards>0).map(([Ue,Ie])=>({accountId:Ue,gold:Ie.gold||0,rubies:Ie.rubies||0,soulShards:Ie.soulShards||0,focusedShards:Ie.focusedShards||0}));F.length>0&&Be.mutate(F)},disabled:Be.isPending,children:"Distribute"})})]})]})]})]})]}),n.jsxs(Te,{className:"md:col-span-2",children:[n.jsxs(He,{children:[n.jsxs(We,{className:"flex items-center gap-2",children:[n.jsx(Bo,{className:`w-5 h-5 ${T?.isDemonLordDungeon?"text-purple-500":"text-red-500"}`}),T?.dungeonName||"Great Dungeon",n.jsx(le,{variant:"destructive",className:`ml-2 ${T?.isDemonLordDungeon?"bg-purple-500":""}`,children:T?.isDemonLordDungeon?"15x Stronger + 3x Rewards":"10x Stronger"}),T?.petsAllowed&&n.jsx(le,{variant:"outline",className:"ml-2 border-green-500 text-green-500",children:"Pets Allowed"})]}),n.jsx(un,{children:T?.isDemonLordDungeon?"The ultimate challenge! Use your pets to conquer the Demon Lord's realm!":"Fight alongside online guild members for massive rewards!"})]}),n.jsx(Le,{children:T&&n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"Floor"}),n.jsxs(le,{variant:"outline",className:"text-lg",children:[T.displayFloor||T.floor," / 50"]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"Level"}),n.jsxs(le,{variant:"outline",className:"text-lg",children:[T.level," / 100"]})]}),n.jsx(Ed,{value:T.level/100*100,className:"h-2"}),n.jsxs("div",{className:"mt-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Online Guild Members:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:T.onlineMembers.length===0?n.jsx("span",{className:"text-muted-foreground text-sm",children:"None online"}):T.onlineMembers.map(F=>n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(le,{variant:"secondary",children:F.username}),T.petsAllowed&&F.equippedPet&&n.jsx(le,{variant:"outline",className:"text-xs border-purple-400 text-purple-400",children:F.equippedPet.name})]},F.accountId))})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:`p-3 rounded-lg ${T.isDemonLordDungeon?"bg-purple-500/10 border border-purple-500/30":"bg-red-500/10 border border-red-500/30"}`,children:[n.jsxs("p",{className:`font-medium ${T.isDemonLordDungeon?"text-purple-500":"text-red-500"} flex items-center gap-2`,children:[T.isBoss&&n.jsx(ds,{className:"w-4 h-4"}),T.isDemonLordDungeon?"Demon Lord's Minion":"Dungeon Monster"," (Lvl ",T.globalLevel,")"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 text-sm",children:[n.jsxs("span",{children:["STR: ",T.npcStats.Str.toLocaleString()]}),n.jsxs("span",{children:["SPD: ",T.npcStats.Spd.toLocaleString()]}),n.jsxs("span",{children:["INT: ",T.npcStats.Int.toLocaleString()]}),n.jsxs("span",{children:["LUCK: ",T.npcStats.Luck.toLocaleString()]})]}),T.immunities.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Immune to:"}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:T.immunities.map(F=>n.jsx(le,{variant:"outline",className:"text-xs",children:F},F))})]})]}),n.jsxs("div",{className:"p-3 rounded-lg bg-yellow-500/10 border border-yellow-500/30",children:[n.jsxs("p",{className:"font-medium text-yellow-500",children:["Rewards (to Guild Bank)",T.isDemonLordDungeon&&n.jsx("span",{className:"text-xs ml-2",children:"(3x Bonus!)"})]}),n.jsxs("div",{className:"text-sm mt-1",children:[n.jsxs("span",{className:"text-yellow-500",children:[T.rewards.gold.toLocaleString()," Gold"]}),T.rewards.rubies>0&&n.jsxs("span",{className:"text-red-400 ml-2",children:[T.rewards.rubies," Rubies"]}),T.rewards.soulShards>0&&n.jsxs("span",{className:"text-purple-400 ml-2",children:[T.rewards.soulShards," Soul Shards"]})]})]}),n.jsxs(I,{className:"w-full",size:"lg",onClick:()=>$e.mutate(),disabled:$e.isPending||T.onlineMembers.length===0,"data-testid":"button-fight-dungeon",children:[n.jsx(St,{className:"w-4 h-4 mr-2"}),$e.isPending?"Fighting...":`Fight with ${T.onlineMembers.length} Members`]})]})]})})]}),n.jsxs(Te,{className:"md:col-span-2",children:[n.jsx(He,{children:n.jsxs(We,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(St,{className:"w-5 h-5 text-orange-500"}),"Guild Battles"]}),ae&&n.jsxs(gt,{open:E,onOpenChange:w,children:[n.jsx(Vs,{asChild:!0,children:n.jsxs(I,{size:"sm","data-testid":"button-challenge-guild",children:[n.jsx(nr,{className:"w-4 h-4 mr-1"}),"Challenge Guild"]})}),n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsx(ht,{children:"Challenge Another Guild"}),n.jsx(Nt,{children:"Select a guild to challenge and pick your fighters."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Me,{children:"Select Guild"}),n.jsxs(Or,{value:S,onValueChange:k,children:[n.jsx(yr,{"data-testid":"select-opponent-guild",children:n.jsx(Fr,{placeholder:"Choose a guild..."})}),n.jsx(wr,{children:Fe.filter(F=>F.id!==$?.id).map(F=>n.jsx(yn,{value:F.id,children:F.name},F.id))})]})]}),n.jsxs("div",{children:[n.jsx(Me,{children:"Select Fighters (up to 5)"}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:$?.members.map(F=>n.jsx(le,{variant:C.includes(F.accountId)?"default":"outline",className:"cursor-pointer",onClick:()=>{C.includes(F.accountId)?R(C.filter(Ue=>Ue!==F.accountId)):C.length<5&&R([...C,F.accountId])},"data-testid":`fighter-select-${F.accountId}`,children:F.username},F.accountId))}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Selected: ",C.length,"/5"]})]})]}),n.jsx(Lt,{children:n.jsx(I,{onClick:()=>Se.mutate({challengedGuildId:S,fighters:C}),disabled:!S||C.length===0||Se.isPending,"data-testid":"button-send-challenge",children:"Send Challenge"})})]})]})]})}),n.jsxs(Le,{className:"space-y-4",children:[ae&&Je.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold mb-2 text-yellow-500",children:"Incoming Challenges"}),n.jsx("div",{className:"space-y-2",children:Je.map(F=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-yellow-500/10 border border-yellow-500/30",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:F.challengerGuildName}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[F.challengerFighters.length," fighters"]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(gt,{open:P===F.id,onOpenChange:Ue=>!Ue&&O(null),children:[n.jsx(Vs,{asChild:!0,children:n.jsx(I,{size:"sm",onClick:()=>O(F.id),"data-testid":`button-respond-${F.id}`,children:"Accept"})}),n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsx(ht,{children:"Accept Challenge"}),n.jsx(Nt,{children:"Select your fighters to accept this challenge."})]}),n.jsxs("div",{children:[n.jsxs(Me,{children:["Select Fighters (up to 5 - opponent has ",F.challengerFighters.length,")"]}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:$?.members.map(Ue=>n.jsx(le,{variant:G.includes(Ue.accountId)?"default":"outline",className:"cursor-pointer",onClick:()=>{G.includes(Ue.accountId)?q(G.filter(Ie=>Ie!==Ue.accountId)):G.length<5&&q([...G,Ue.accountId])},children:Ue.username},Ue.accountId))})]}),n.jsx(Lt,{children:n.jsx(I,{onClick:()=>Ke.mutate({battleId:F.id,accept:!0,fighters:G}),disabled:G.length!==F.challengerFighters.length||Ke.isPending,children:"Accept Battle"})})]})]}),n.jsx(I,{size:"sm",variant:"destructive",onClick:()=>Ke.mutate({battleId:F.id,accept:!1}),disabled:Ke.isPending,"data-testid":`button-decline-${F.id}`,children:"Decline"})]})]},F.id))})]}),sn.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold mb-2 text-green-500",children:"Active Battles"}),n.jsx("div",{className:"space-y-2",children:sn.map(F=>{const Ue=F.challengerGuildId===$?.id,Ie=Ue?F.challengedGuildName:F.challengerGuildName,an=Ue?F.challengerScore:F.challengedScore,Hn=Ue?F.challengedScore:F.challengerScore;return n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-green-500/10 border border-green-500/30",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium",children:["vs ",Ie]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Round ",F.currentRound+1]})]}),n.jsxs(le,{variant:"outline",className:"text-lg",children:[an," - ",Hn]})]},F.id)})})]}),Dn.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold mb-2 text-muted-foreground",children:"Recent Battles"}),n.jsx("div",{className:"space-y-2",children:Dn.map(F=>{const Ue=F.challengerGuildId===$?.id,Ie=Ue?F.challengedGuildName:F.challengerGuildName,an=F.winnerId===$?.id,Hn=Ue?F.challengerScore:F.challengedScore,Aa=Ue?F.challengedScore:F.challengerScore;return n.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${an?"bg-green-500/10":"bg-red-500/10"}`,children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium",children:["vs ",Ie]}),n.jsx(le,{variant:an?"default":"destructive",className:"text-xs",children:an?"Victory":"Defeat"})]}),n.jsxs("span",{className:"font-mono",children:[Hn," - ",Aa]})]},F.id)})})]}),Je.length===0&&sn.length===0&&Dn.length===0&&n.jsxs("p",{className:"text-center text-muted-foreground py-4",children:["No guild battles yet. ",ae&&"Challenge another guild!"]})]})]})]}):n.jsx("div",{className:"max-w-2xl mx-auto",children:n.jsxs(Te,{className:"mb-6",children:[n.jsxs(He,{className:"text-center",children:[n.jsx(nk,{className:"w-16 h-16 mx-auto mb-4 text-primary"}),n.jsx(We,{className:"text-2xl",children:"Join or Create a Guild"}),n.jsx(un,{children:"Form a party of up to 4 players to conquer the Great Dungeon together!"})]}),n.jsxs(Le,{className:"flex flex-col gap-4",children:[n.jsxs(gt,{open:u,onOpenChange:f,children:[n.jsx(Vs,{asChild:!0,children:n.jsxs(I,{size:"lg",className:"w-full","data-testid":"button-create-guild",children:[n.jsx(nr,{className:"w-4 h-4 mr-2"}),"Create New Guild"]})}),n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsx(ht,{children:"Create Guild"}),n.jsx(Nt,{children:"Choose a name for your guild. You will become the Guild Master."})]}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx(Me,{htmlFor:"guild-name",children:"Guild Name"}),n.jsx(tt,{id:"guild-name",value:l,onChange:F=>c(F.target.value),placeholder:"Enter guild name...",maxLength:30,"data-testid":"input-guild-name"})]})}),n.jsx(Lt,{children:n.jsx(I,{onClick:()=>U.mutate(l),disabled:l.length<3||U.isPending,"data-testid":"button-confirm-create",children:U.isPending?"Creating...":"Create Guild"})})]})]}),B.length>0&&n.jsxs("div",{className:"mt-6",children:[n.jsx("h3",{className:"font-semibold mb-3",children:"Pending Invites"}),n.jsx("div",{className:"space-y-2",children:B.map(F=>n.jsx(Te,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{children:n.jsx("p",{className:"font-medium",children:F.guild?.name||"Unknown Guild"})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(I,{size:"sm",onClick:()=>L.mutate(F.id),disabled:L.isPending,"data-testid":`button-accept-invite-${F.id}`,children:"Accept"}),n.jsx(I,{size:"sm",variant:"outline",onClick:()=>H.mutate(F.id),"data-testid":`button-decline-invite-${F.id}`,children:"Decline"})]})]})},F.id))})]})]})]})})})]})}function XI(e,t){return x.useReducer((s,i)=>t[s][i]??s,e)}var gp="ScrollArea",[Fb]=Er(gp),[JI,or]=Fb(gp),zb=x.forwardRef((e,t)=>{const{__scopeScrollArea:s,type:i="hover",dir:l,scrollHideDelay:c=600,...u}=e,[f,h]=x.useState(null),[p,v]=x.useState(null),[b,N]=x.useState(null),[_,E]=x.useState(null),[w,S]=x.useState(null),[k,C]=x.useState(0),[R,P]=x.useState(0),[O,G]=x.useState(!1),[q,X]=x.useState(!1),se=st(t,xe=>h(xe)),de=Td(l);return n.jsx(JI,{scope:s,type:i,dir:de,scrollHideDelay:c,scrollArea:f,viewport:p,onViewportChange:v,content:b,onContentChange:N,scrollbarX:_,onScrollbarXChange:E,scrollbarXEnabled:O,onScrollbarXEnabledChange:G,scrollbarY:w,onScrollbarYChange:S,scrollbarYEnabled:q,onScrollbarYEnabledChange:X,onCornerWidthChange:C,onCornerHeightChange:P,children:n.jsx(qe.div,{dir:de,...u,ref:se,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":R+"px",...e.style}})})});zb.displayName=gp;var $b="ScrollAreaViewport",Bb=x.forwardRef((e,t)=>{const{__scopeScrollArea:s,children:i,nonce:l,...c}=e,u=or($b,s),f=x.useRef(null),h=st(t,f,u.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),n.jsx(qe.div,{"data-radix-scroll-area-viewport":"",...c,ref:h,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...e.style},children:n.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:i})})]})});Bb.displayName=$b;var Hr="ScrollAreaScrollbar",xp=x.forwardRef((e,t)=>{const{forceMount:s,...i}=e,l=or(Hr,e.__scopeScrollArea),{onScrollbarXEnabledChange:c,onScrollbarYEnabledChange:u}=l,f=e.orientation==="horizontal";return x.useEffect(()=>(f?c(!0):u(!0),()=>{f?c(!1):u(!1)}),[f,c,u]),l.type==="hover"?n.jsx(eR,{...i,ref:t,forceMount:s}):l.type==="scroll"?n.jsx(tR,{...i,ref:t,forceMount:s}):l.type==="auto"?n.jsx(Vb,{...i,ref:t,forceMount:s}):l.type==="always"?n.jsx(vp,{...i,ref:t}):null});xp.displayName=Hr;var eR=x.forwardRef((e,t)=>{const{forceMount:s,...i}=e,l=or(Hr,e.__scopeScrollArea),[c,u]=x.useState(!1);return x.useEffect(()=>{const f=l.scrollArea;let h=0;if(f){const p=()=>{window.clearTimeout(h),u(!0)},v=()=>{h=window.setTimeout(()=>u(!1),l.scrollHideDelay)};return f.addEventListener("pointerenter",p),f.addEventListener("pointerleave",v),()=>{window.clearTimeout(h),f.removeEventListener("pointerenter",p),f.removeEventListener("pointerleave",v)}}},[l.scrollArea,l.scrollHideDelay]),n.jsx(ir,{present:s||c,children:n.jsx(Vb,{"data-state":c?"visible":"hidden",...i,ref:t})})}),tR=x.forwardRef((e,t)=>{const{forceMount:s,...i}=e,l=or(Hr,e.__scopeScrollArea),c=e.orientation==="horizontal",u=Od(()=>h("SCROLL_END"),100),[f,h]=XI("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(f==="idle"){const p=window.setTimeout(()=>h("HIDE"),l.scrollHideDelay);return()=>window.clearTimeout(p)}},[f,l.scrollHideDelay,h]),x.useEffect(()=>{const p=l.viewport,v=c?"scrollLeft":"scrollTop";if(p){let b=p[v];const N=()=>{const _=p[v];b!==_&&(h("SCROLL"),u()),b=_};return p.addEventListener("scroll",N),()=>p.removeEventListener("scroll",N)}},[l.viewport,c,h,u]),n.jsx(ir,{present:s||f!=="hidden",children:n.jsx(vp,{"data-state":f==="hidden"?"hidden":"visible",...i,ref:t,onPointerEnter:Ce(e.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:Ce(e.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),Vb=x.forwardRef((e,t)=>{const s=or(Hr,e.__scopeScrollArea),{forceMount:i,...l}=e,[c,u]=x.useState(!1),f=e.orientation==="horizontal",h=Od(()=>{if(s.viewport){const p=s.viewport.offsetWidth<s.viewport.scrollWidth,v=s.viewport.offsetHeight<s.viewport.scrollHeight;u(f?p:v)}},10);return Ei(s.viewport,h),Ei(s.content,h),n.jsx(ir,{present:i||c,children:n.jsx(vp,{"data-state":c?"visible":"hidden",...l,ref:t})})}),vp=x.forwardRef((e,t)=>{const{orientation:s="vertical",...i}=e,l=or(Hr,e.__scopeScrollArea),c=x.useRef(null),u=x.useRef(0),[f,h]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=Hb(f.viewport,f.content),v={...i,sizes:f,onSizesChange:h,hasThumb:p>0&&p<1,onThumbChange:N=>c.current=N,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:N=>u.current=N};function b(N,_){return oR(N,u.current,f,_)}return s==="horizontal"?n.jsx(nR,{...v,ref:t,onThumbPositionChange:()=>{if(l.viewport&&c.current){const N=l.viewport.scrollLeft,_=Nv(N,f,l.dir);c.current.style.transform=`translate3d(${_}px, 0, 0)`}},onWheelScroll:N=>{l.viewport&&(l.viewport.scrollLeft=N)},onDragScroll:N=>{l.viewport&&(l.viewport.scrollLeft=b(N,l.dir))}}):s==="vertical"?n.jsx(rR,{...v,ref:t,onThumbPositionChange:()=>{if(l.viewport&&c.current){const N=l.viewport.scrollTop,_=Nv(N,f);c.current.style.transform=`translate3d(0, ${_}px, 0)`}},onWheelScroll:N=>{l.viewport&&(l.viewport.scrollTop=N)},onDragScroll:N=>{l.viewport&&(l.viewport.scrollTop=b(N))}}):null}),nR=x.forwardRef((e,t)=>{const{sizes:s,onSizesChange:i,...l}=e,c=or(Hr,e.__scopeScrollArea),[u,f]=x.useState(),h=x.useRef(null),p=st(t,h,c.onScrollbarXChange);return x.useEffect(()=>{h.current&&f(getComputedStyle(h.current))},[h]),n.jsx(Ub,{"data-orientation":"horizontal",...l,ref:p,sizes:s,style:{bottom:0,left:c.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:c.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Md(s)+"px",...e.style},onThumbPointerDown:v=>e.onThumbPointerDown(v.x),onDragScroll:v=>e.onDragScroll(v.x),onWheelScroll:(v,b)=>{if(c.viewport){const N=c.viewport.scrollLeft+v.deltaX;e.onWheelScroll(N),Kb(N,b)&&v.preventDefault()}},onResize:()=>{h.current&&c.viewport&&u&&i({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:ud(u.paddingLeft),paddingEnd:ud(u.paddingRight)}})}})}),rR=x.forwardRef((e,t)=>{const{sizes:s,onSizesChange:i,...l}=e,c=or(Hr,e.__scopeScrollArea),[u,f]=x.useState(),h=x.useRef(null),p=st(t,h,c.onScrollbarYChange);return x.useEffect(()=>{h.current&&f(getComputedStyle(h.current))},[h]),n.jsx(Ub,{"data-orientation":"vertical",...l,ref:p,sizes:s,style:{top:0,right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Md(s)+"px",...e.style},onThumbPointerDown:v=>e.onThumbPointerDown(v.y),onDragScroll:v=>e.onDragScroll(v.y),onWheelScroll:(v,b)=>{if(c.viewport){const N=c.viewport.scrollTop+v.deltaY;e.onWheelScroll(N),Kb(N,b)&&v.preventDefault()}},onResize:()=>{h.current&&c.viewport&&u&&i({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:ud(u.paddingTop),paddingEnd:ud(u.paddingBottom)}})}})}),[sR,qb]=Fb(Hr),Ub=x.forwardRef((e,t)=>{const{__scopeScrollArea:s,sizes:i,hasThumb:l,onThumbChange:c,onThumbPointerUp:u,onThumbPointerDown:f,onThumbPositionChange:h,onDragScroll:p,onWheelScroll:v,onResize:b,...N}=e,_=or(Hr,s),[E,w]=x.useState(null),S=st(t,se=>w(se)),k=x.useRef(null),C=x.useRef(""),R=_.viewport,P=i.content-i.viewport,O=Bt(v),G=Bt(h),q=Od(b,10);function X(se){if(k.current){const de=se.clientX-k.current.left,xe=se.clientY-k.current.top;p({x:de,y:xe})}}return x.useEffect(()=>{const se=de=>{const xe=de.target;E?.contains(xe)&&O(de,P)};return document.addEventListener("wheel",se,{passive:!1}),()=>document.removeEventListener("wheel",se,{passive:!1})},[R,E,P,O]),x.useEffect(G,[i,G]),Ei(E,q),Ei(_.content,q),n.jsx(sR,{scope:s,scrollbar:E,hasThumb:l,onThumbChange:Bt(c),onThumbPointerUp:Bt(u),onThumbPositionChange:G,onThumbPointerDown:Bt(f),children:n.jsx(qe.div,{...N,ref:S,style:{position:"absolute",...N.style},onPointerDown:Ce(e.onPointerDown,se=>{se.button===0&&(se.target.setPointerCapture(se.pointerId),k.current=E.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",_.viewport&&(_.viewport.style.scrollBehavior="auto"),X(se))}),onPointerMove:Ce(e.onPointerMove,X),onPointerUp:Ce(e.onPointerUp,se=>{const de=se.target;de.hasPointerCapture(se.pointerId)&&de.releasePointerCapture(se.pointerId),document.body.style.webkitUserSelect=C.current,_.viewport&&(_.viewport.style.scrollBehavior=""),k.current=null})})})}),dd="ScrollAreaThumb",Qb=x.forwardRef((e,t)=>{const{forceMount:s,...i}=e,l=qb(dd,e.__scopeScrollArea);return n.jsx(ir,{present:s||l.hasThumb,children:n.jsx(aR,{ref:t,...i})})}),aR=x.forwardRef((e,t)=>{const{__scopeScrollArea:s,style:i,...l}=e,c=or(dd,s),u=qb(dd,s),{onThumbPositionChange:f}=u,h=st(t,b=>u.onThumbChange(b)),p=x.useRef(void 0),v=Od(()=>{p.current&&(p.current(),p.current=void 0)},100);return x.useEffect(()=>{const b=c.viewport;if(b){const N=()=>{if(v(),!p.current){const _=lR(b,f);p.current=_,f()}};return f(),b.addEventListener("scroll",N),()=>b.removeEventListener("scroll",N)}},[c.viewport,v,f]),n.jsx(qe.div,{"data-state":u.hasThumb?"visible":"hidden",...l,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:Ce(e.onPointerDownCapture,b=>{const _=b.target.getBoundingClientRect(),E=b.clientX-_.left,w=b.clientY-_.top;u.onThumbPointerDown({x:E,y:w})}),onPointerUp:Ce(e.onPointerUp,u.onThumbPointerUp)})});Qb.displayName=dd;var yp="ScrollAreaCorner",Wb=x.forwardRef((e,t)=>{const s=or(yp,e.__scopeScrollArea),i=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&i?n.jsx(iR,{...e,ref:t}):null});Wb.displayName=yp;var iR=x.forwardRef((e,t)=>{const{__scopeScrollArea:s,...i}=e,l=or(yp,s),[c,u]=x.useState(0),[f,h]=x.useState(0),p=!!(c&&f);return Ei(l.scrollbarX,()=>{const v=l.scrollbarX?.offsetHeight||0;l.onCornerHeightChange(v),h(v)}),Ei(l.scrollbarY,()=>{const v=l.scrollbarY?.offsetWidth||0;l.onCornerWidthChange(v),u(v)}),p?n.jsx(qe.div,{...i,ref:t,style:{width:c,height:f,position:"absolute",right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function ud(e){return e?parseInt(e,10):0}function Hb(e,t){const s=e/t;return isNaN(s)?0:s}function Md(e){const t=Hb(e.viewport,e.content),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=(e.scrollbar.size-s)*t;return Math.max(i,18)}function oR(e,t,s,i="ltr"){const l=Md(s),c=l/2,u=t||c,f=l-u,h=s.scrollbar.paddingStart+u,p=s.scrollbar.size-s.scrollbar.paddingEnd-f,v=s.content-s.viewport,b=i==="ltr"?[0,v]:[v*-1,0];return Gb([h,p],b)(e)}function Nv(e,t,s="ltr"){const i=Md(t),l=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,c=t.scrollbar.size-l,u=t.content-t.viewport,f=c-i,h=s==="ltr"?[0,u]:[u*-1,0],p=_m(e,h);return Gb([0,u],[0,f])(p)}function Gb(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(s-e[0])}}function Kb(e,t){return e>0&&e<t}var lR=(e,t=()=>{})=>{let s={left:e.scrollLeft,top:e.scrollTop},i=0;return(function l(){const c={left:e.scrollLeft,top:e.scrollTop},u=s.left!==c.left,f=s.top!==c.top;(u||f)&&t(),s=c,i=window.requestAnimationFrame(l)})(),()=>window.cancelAnimationFrame(i)};function Od(e,t){const s=Bt(e),i=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(i.current),[]),x.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(s,t)},[s,t])}function Ei(e,t){const s=Bt(t);mn(()=>{let i=0;if(e){const l=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(s)});return l.observe(e),()=>{window.cancelAnimationFrame(i),l.unobserve(e)}}},[e,s])}var Zb=zb,cR=Bb,dR=Wb;const Mo=x.forwardRef(({className:e,children:t,...s},i)=>n.jsxs(Zb,{ref:i,className:we("relative overflow-hidden",e),...s,children:[n.jsx(cR,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(Yb,{}),n.jsx(dR,{})]}));Mo.displayName=Zb.displayName;const Yb=x.forwardRef(({className:e,orientation:t="vertical",...s},i)=>n.jsx(xp,{ref:i,orientation:t,className:we("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:n.jsx(Qb,{className:"relative flex-1 rounded-full bg-border"})}));Yb.displayName=xp.displayName;const fd=[{id:"skill_001",name:"Flame Strike",description:"Unleash a devastating fire attack that burns enemies",rarity:"common",effects:[{type:"damage",value:150},{type:"burn",value:30,duration:3}],cooldown:5,manaCost:20,icon:"flame"},{id:"skill_002",name:"Frost Nova",description:"Freeze nearby enemies with an icy blast",rarity:"common",effects:[{type:"damage",value:120},{type:"freeze",value:2,duration:2}],cooldown:6,manaCost:25,icon:"snowflake"},{id:"skill_003",name:"Thunder Bolt",description:"Call down lightning to strike your foes",rarity:"common",effects:[{type:"damage",value:180},{type:"stun",chance:25,value:1}],cooldown:4,manaCost:18,icon:"zap"},{id:"skill_004",name:"Healing Light",description:"Restore health with divine energy",rarity:"common",effects:[{type:"heal",value:200}],cooldown:8,manaCost:30,icon:"heart"},{id:"skill_005",name:"Iron Skin",description:"Harden your body to reduce incoming damage",rarity:"common",effects:[{type:"shield",value:150,duration:5}],cooldown:10,manaCost:25,icon:"shield"},{id:"skill_006",name:"Quick Strike",description:"A swift attack that increases agility",rarity:"common",effects:[{type:"damage",value:100},{type:"stat_boost",stat:"AGI",value:10,duration:3}],cooldown:3,manaCost:12,icon:"sword"},{id:"skill_007",name:"Power Surge",description:"Boost your strength temporarily",rarity:"common",effects:[{type:"stat_boost",stat:"STR",value:20,duration:5}],cooldown:12,manaCost:20,icon:"trending-up"},{id:"skill_008",name:"Mind Focus",description:"Sharpen your intellect for better spells",rarity:"common",effects:[{type:"stat_boost",stat:"INT",value:20,duration:5}],cooldown:12,manaCost:20,icon:"brain"},{id:"skill_009",name:"Lucky Charm",description:"Increase your fortune temporarily",rarity:"common",effects:[{type:"stat_boost",stat:"Luck",value:15,duration:10}],cooldown:15,manaCost:15,icon:"clover"},{id:"skill_010",name:"Vitality Boost",description:"Enhance your life force",rarity:"common",effects:[{type:"stat_boost",stat:"VIT",value:25,duration:5}],cooldown:12,manaCost:22,icon:"heart-pulse"},{id:"skill_011",name:"Shadow Step",description:"Evade attacks with shadow magic",rarity:"uncommon",effects:[{type:"dodge",value:30,duration:3}],cooldown:8,manaCost:28,icon:"ghost"},{id:"skill_012",name:"Blood Drain",description:"Steal life from your enemies",rarity:"uncommon",effects:[{type:"damage",value:130},{type:"lifesteal",value:40}],cooldown:7,manaCost:32,icon:"droplet"},{id:"skill_013",name:"Mirror Shield",description:"Reflect damage back at attackers",rarity:"uncommon",effects:[{type:"reflect",value:25,duration:4}],cooldown:10,manaCost:35,icon:"layers"},{id:"skill_014",name:"Critical Eye",description:"Increase critical hit chance",rarity:"uncommon",effects:[{type:"critical",value:20,duration:5}],cooldown:9,manaCost:25,icon:"eye"},{id:"skill_015",name:"Earthquake",description:"Shake the ground to damage all enemies",rarity:"uncommon",effects:[{type:"damage",value:200},{type:"stun",chance:15,value:1}],cooldown:8,manaCost:40,icon:"mountain"},{id:"skill_016",name:"Wind Slash",description:"Cut through enemies with razor wind",rarity:"uncommon",effects:[{type:"damage",value:160},{type:"stat_boost",stat:"AGI",value:5,duration:2}],cooldown:4,manaCost:22,icon:"wind"},{id:"skill_017",name:"Poison Cloud",description:"Create a toxic cloud that damages over time",rarity:"uncommon",effects:[{type:"damage",value:80},{type:"burn",value:50,duration:5}],cooldown:7,manaCost:30,icon:"cloud"},{id:"skill_018",name:"Stone Armor",description:"Encase yourself in protective stone",rarity:"uncommon",effects:[{type:"shield",value:250,duration:6}],cooldown:12,manaCost:35,icon:"brick-wall"},{id:"skill_019",name:"Light Beam",description:"Channel pure light energy",rarity:"uncommon",effects:[{type:"damage",value:170},{type:"heal",value:50}],cooldown:6,manaCost:28,icon:"sun"},{id:"skill_020",name:"Dark Pulse",description:"Emit waves of darkness",rarity:"uncommon",effects:[{type:"damage",value:190},{type:"debuff",stat:"all",value:-5,duration:3}],cooldown:7,manaCost:32,icon:"moon"},{id:"skill_021",name:"Berserker Rage",description:"Enter a furious state of combat",rarity:"rare",effects:[{type:"stat_boost",stat:"STR",value:50,duration:8},{type:"stat_boost",stat:"AGI",value:30,duration:8}],cooldown:20,manaCost:50,icon:"angry"},{id:"skill_022",name:"Arcane Barrier",description:"Create a magical shield that absorbs damage",rarity:"rare",effects:[{type:"shield",value:400,duration:8}],cooldown:15,manaCost:45,icon:"sparkles"},{id:"skill_023",name:"Phoenix Fire",description:"Rise from the ashes with burning fury",rarity:"rare",effects:[{type:"damage",value:300},{type:"heal",value:150},{type:"burn",value:40,duration:4}],cooldown:12,manaCost:55,icon:"bird"},{id:"skill_024",name:"Ice Prison",description:"Trap enemies in unbreakable ice",rarity:"rare",effects:[{type:"freeze",value:4,duration:4},{type:"damage",value:180}],cooldown:14,manaCost:48,icon:"box"},{id:"skill_025",name:"Soul Harvest",description:"Consume souls to restore health and power",rarity:"rare",effects:[{type:"lifesteal",value:60},{type:"damage",value:250}],cooldown:10,manaCost:42,icon:"ghost"},{id:"skill_026",name:"Thunder Storm",description:"Summon a devastating electrical storm",rarity:"rare",effects:[{type:"damage",value:280},{type:"stun",chance:40,value:2}],cooldown:15,manaCost:52,icon:"cloud-lightning"},{id:"skill_027",name:"Nature's Blessing",description:"Channel the power of nature to heal and protect",rarity:"rare",effects:[{type:"heal",value:350},{type:"stat_boost",stat:"VIT",value:30,duration:10}],cooldown:18,manaCost:48,icon:"leaf"},{id:"skill_028",name:"Assassin's Mark",description:"Mark a target for critical damage",rarity:"rare",effects:[{type:"critical",value:50,duration:3},{type:"damage",value:220}],cooldown:11,manaCost:38,icon:"crosshair"},{id:"skill_029",name:"Dragon Breath",description:"Breathe fire like a mighty dragon",rarity:"rare",effects:[{type:"damage",value:320},{type:"burn",value:60,duration:5}],cooldown:14,manaCost:55,icon:"flame"},{id:"skill_030",name:"Time Warp",description:"Slow down time around you",rarity:"rare",effects:[{type:"stat_boost",stat:"AGI",value:60,duration:5},{type:"dodge",value:25,duration:5}],cooldown:16,manaCost:50,icon:"clock"},{id:"skill_031",name:"Meteor Strike",description:"Call down a meteor from the heavens",rarity:"epic",effects:[{type:"damage",value:500},{type:"burn",value:80,duration:4},{type:"stun",chance:30,value:2}],cooldown:20,manaCost:70,icon:"star"},{id:"skill_032",name:"Divine Protection",description:"Invoke the gods for absolute protection",rarity:"epic",effects:[{type:"shield",value:600,duration:10},{type:"heal",value:200}],cooldown:25,manaCost:65,icon:"shield-check"},{id:"skill_033",name:"Void Walker",description:"Phase through reality to avoid all damage",rarity:"epic",effects:[{type:"dodge",value:80,duration:3},{type:"damage",value:300}],cooldown:18,manaCost:60,icon:"circle-dot"},{id:"skill_034",name:"Plague Touch",description:"Inflict a devastating plague on enemies",rarity:"epic",effects:[{type:"damage",value:200},{type:"burn",value:100,duration:8},{type:"debuff",stat:"all",value:-15,duration:5}],cooldown:22,manaCost:68,icon:"skull"},{id:"skill_035",name:"Celestial Strike",description:"Channel the power of the stars",rarity:"epic",effects:[{type:"damage",value:450},{type:"stat_boost",stat:"INT",value:40,duration:6}],cooldown:16,manaCost:62,icon:"sparkle"},{id:"skill_036",name:"Blood Pact",description:"Sacrifice health for immense power",rarity:"epic",effects:[{type:"stat_boost",stat:"STR",value:80,duration:8},{type:"stat_boost",stat:"AGI",value:60,duration:8}],cooldown:24,manaCost:75,icon:"droplets"},{id:"skill_037",name:"Absolute Zero",description:"Freeze everything to absolute zero",rarity:"epic",effects:[{type:"damage",value:380},{type:"freeze",value:5,duration:5}],cooldown:20,manaCost:65,icon:"thermometer-snowflake"},{id:"skill_038",name:"Spirit Link",description:"Link your spirit to heal and protect allies",rarity:"epic",effects:[{type:"heal",value:500},{type:"shield",value:300,duration:6}],cooldown:22,manaCost:70,icon:"link"},{id:"skill_039",name:"Chain Lightning",description:"Lightning that jumps between enemies",rarity:"epic",effects:[{type:"damage",value:350},{type:"stun",chance:50,value:1}],cooldown:14,manaCost:55,icon:"zap"},{id:"skill_040",name:"Shadow Clone",description:"Create a shadow clone to confuse enemies",rarity:"epic",effects:[{type:"dodge",value:50,duration:6},{type:"damage",value:280}],cooldown:18,manaCost:58,icon:"copy"},{id:"skill_041",name:"Apocalypse",description:"Bring about the end of all things",rarity:"legendary",effects:[{type:"damage",value:800},{type:"burn",value:120,duration:6},{type:"stun",chance:60,value:3}],cooldown:30,manaCost:100,icon:"bomb"},{id:"skill_042",name:"Immortal's Blessing",description:"Become temporarily unkillable",rarity:"legendary",effects:[{type:"shield",value:1e3,duration:8},{type:"heal",value:500},{type:"stat_boost",stat:"all",value:30,duration:8}],cooldown:35,manaCost:95,icon:"infinity"},{id:"skill_043",name:"Dimensional Rift",description:"Tear open a rift in space-time",rarity:"legendary",effects:[{type:"damage",value:700},{type:"dodge",value:60,duration:5},{type:"critical",value:40,duration:5}],cooldown:28,manaCost:90,icon:"orbit"},{id:"skill_044",name:"Soul Reaper",description:"Reap the souls of all nearby enemies",rarity:"legendary",effects:[{type:"damage",value:600},{type:"lifesteal",value:100}],cooldown:25,manaCost:85,icon:"ghost"},{id:"skill_045",name:"Primal Fury",description:"Unleash your primal beast form",rarity:"legendary",effects:[{type:"stat_boost",stat:"STR",value:100,duration:10},{type:"stat_boost",stat:"AGI",value:80,duration:10},{type:"critical",value:35,duration:10}],cooldown:32,manaCost:92,icon:"paw-print"},{id:"skill_046",name:"Cosmic Ray",description:"Channel energy from distant galaxies",rarity:"legendary",effects:[{type:"damage",value:750},{type:"stat_boost",stat:"INT",value:70,duration:6}],cooldown:26,manaCost:88,icon:"rocket"},{id:"skill_047",name:"Eternal Frost",description:"Summon never-melting ice to entomb enemies",rarity:"legendary",effects:[{type:"damage",value:550},{type:"freeze",value:8,duration:8}],cooldown:30,manaCost:95,icon:"snowflake"},{id:"skill_048",name:"Life Steal Ultimate",description:"Drain massive life from all enemies",rarity:"legendary",effects:[{type:"damage",value:650},{type:"lifesteal",value:150},{type:"heal",value:300}],cooldown:28,manaCost:90,icon:"heart"},{id:"skill_049",name:"Titan's Might",description:"Gain the strength of ancient titans",rarity:"legendary",effects:[{type:"stat_boost",stat:"STR",value:150,duration:12},{type:"shield",value:500,duration:12}],cooldown:35,manaCost:98,icon:"dumbbell"},{id:"skill_050",name:"Oracle's Vision",description:"See the future to dodge all attacks",rarity:"legendary",effects:[{type:"dodge",value:100,duration:4},{type:"critical",value:50,duration:4}],cooldown:30,manaCost:85,icon:"eye"},{id:"skill_051",name:"Genesis",description:"Create life from nothing to heal massively",rarity:"mythic",effects:[{type:"heal",value:1e3},{type:"shield",value:800,duration:10},{type:"stat_boost",stat:"all",value:50,duration:10}],cooldown:45,manaCost:120,icon:"sparkles"},{id:"skill_052",name:"Armageddon",description:"Bring total destruction upon all enemies",rarity:"mythic",effects:[{type:"damage",value:1200},{type:"burn",value:200,duration:8},{type:"stun",chance:80,value:4}],cooldown:50,manaCost:150,icon:"flame"},{id:"skill_053",name:"Transcendence",description:"Transcend mortal limits temporarily",rarity:"mythic",effects:[{type:"stat_boost",stat:"all",value:100,duration:15},{type:"dodge",value:50,duration:15},{type:"critical",value:60,duration:15}],cooldown:60,manaCost:140,icon:"sunrise"},{id:"skill_054",name:"Oblivion",description:"Send enemies into the void of oblivion",rarity:"mythic",effects:[{type:"damage",value:1e3},{type:"debuff",stat:"all",value:-50,duration:8}],cooldown:45,manaCost:130,icon:"circle-off"},{id:"skill_055",name:"Eternity's Embrace",description:"Embrace the power of eternity itself",rarity:"mythic",effects:[{type:"shield",value:1500,duration:12},{type:"heal",value:800},{type:"reflect",value:50,duration:12}],cooldown:55,manaCost:145,icon:"hourglass"},{id:"skill_056",name:"Ember Slash",description:"A fiery blade technique",rarity:"common",effects:[{type:"damage",value:140},{type:"burn",value:25,duration:2}],cooldown:4,manaCost:18,icon:"sword"},{id:"skill_057",name:"Aqua Shield",description:"A water barrier that absorbs damage",rarity:"common",effects:[{type:"shield",value:120,duration:4}],cooldown:8,manaCost:20,icon:"droplet"},{id:"skill_058",name:"Stone Throw",description:"Hurl a heavy rock at enemies",rarity:"common",effects:[{type:"damage",value:130},{type:"stun",chance:10,value:1}],cooldown:5,manaCost:15,icon:"circle"},{id:"skill_059",name:"Gust",description:"A quick burst of wind",rarity:"common",effects:[{type:"damage",value:90},{type:"stat_boost",stat:"AGI",value:8,duration:2}],cooldown:3,manaCost:10,icon:"wind"},{id:"skill_060",name:"Spark",description:"A small electrical shock",rarity:"common",effects:[{type:"damage",value:110}],cooldown:2,manaCost:8,icon:"zap"},{id:"skill_061",name:"Mend",description:"Minor healing spell",rarity:"common",effects:[{type:"heal",value:150}],cooldown:6,manaCost:22,icon:"bandage"},{id:"skill_062",name:"Toughness",description:"Temporarily increase defense",rarity:"common",effects:[{type:"stat_boost",stat:"VIT",value:15,duration:4}],cooldown:10,manaCost:18,icon:"shield"},{id:"skill_063",name:"Focus",description:"Concentrate to boost intellect",rarity:"common",effects:[{type:"stat_boost",stat:"INT",value:12,duration:4}],cooldown:10,manaCost:16,icon:"target"},{id:"skill_064",name:"Might",description:"Increase physical power briefly",rarity:"common",effects:[{type:"stat_boost",stat:"STR",value:12,duration:4}],cooldown:10,manaCost:16,icon:"swords"},{id:"skill_065",name:"Swift Feet",description:"Move faster for a short time",rarity:"common",effects:[{type:"stat_boost",stat:"AGI",value:12,duration:4}],cooldown:10,manaCost:16,icon:"footprints"},{id:"skill_066",name:"Lava Burst",description:"Erupt with molten lava",rarity:"uncommon",effects:[{type:"damage",value:200},{type:"burn",value:45,duration:4}],cooldown:8,manaCost:35,icon:"mountain"},{id:"skill_067",name:"Tidal Wave",description:"Summon a massive wave",rarity:"uncommon",effects:[{type:"damage",value:180},{type:"stat_boost",stat:"INT",value:15,duration:3}],cooldown:9,manaCost:38,icon:"waves"},{id:"skill_068",name:"Rock Slide",description:"Cause rocks to fall on enemies",rarity:"uncommon",effects:[{type:"damage",value:220},{type:"stun",chance:20,value:1}],cooldown:10,manaCost:40,icon:"mountain-snow"},{id:"skill_069",name:"Tornado",description:"Create a small tornado",rarity:"uncommon",effects:[{type:"damage",value:175},{type:"dodge",value:20,duration:2}],cooldown:8,manaCost:34,icon:"tornado"},{id:"skill_070",name:"Static Field",description:"Create an electrical field",rarity:"uncommon",effects:[{type:"damage",value:160},{type:"stun",chance:30,value:1}],cooldown:7,manaCost:32,icon:"radio"},{id:"skill_071",name:"Regenerate",description:"Heal over time",rarity:"uncommon",effects:[{type:"heal",value:100},{type:"heal",value:50}],cooldown:12,manaCost:30,icon:"refresh-cw"},{id:"skill_072",name:"Barrier",description:"Create a protective barrier",rarity:"uncommon",effects:[{type:"shield",value:220,duration:5}],cooldown:11,manaCost:33,icon:"square"},{id:"skill_073",name:"Precision",description:"Boost critical hit rate",rarity:"uncommon",effects:[{type:"critical",value:25,duration:4}],cooldown:10,manaCost:28,icon:"crosshair"},{id:"skill_074",name:"Evasion",description:"Increase dodge chance",rarity:"uncommon",effects:[{type:"dodge",value:35,duration:3}],cooldown:9,manaCost:26,icon:"move"},{id:"skill_075",name:"Vampiric Strike",description:"Drain life with each hit",rarity:"uncommon",effects:[{type:"damage",value:150},{type:"lifesteal",value:50}],cooldown:8,manaCost:35,icon:"droplet"},{id:"skill_076",name:"Inferno",description:"Create a massive fire explosion",rarity:"rare",effects:[{type:"damage",value:350},{type:"burn",value:70,duration:5}],cooldown:14,manaCost:52,icon:"flame"},{id:"skill_077",name:"Blizzard",description:"Summon a freezing blizzard",rarity:"rare",effects:[{type:"damage",value:300},{type:"freeze",value:3,duration:3}],cooldown:15,manaCost:55,icon:"cloud-snow"},{id:"skill_078",name:"Quake",description:"Shake the very earth",rarity:"rare",effects:[{type:"damage",value:330},{type:"stun",chance:35,value:2}],cooldown:16,manaCost:58,icon:"activity"},{id:"skill_079",name:"Cyclone",description:"Create a powerful cyclone",rarity:"rare",effects:[{type:"damage",value:280},{type:"stat_boost",stat:"AGI",value:40,duration:4}],cooldown:13,manaCost:48,icon:"loader"},{id:"skill_080",name:"Overcharge",description:"Overload with electrical power",rarity:"rare",effects:[{type:"damage",value:360},{type:"stun",chance:45,value:2}],cooldown:15,manaCost:54,icon:"battery-charging"},{id:"skill_081",name:"Divine Heal",description:"Powerful holy healing",rarity:"rare",effects:[{type:"heal",value:450}],cooldown:16,manaCost:50,icon:"cross"},{id:"skill_082",name:"Fortress",description:"Become an immovable fortress",rarity:"rare",effects:[{type:"shield",value:450,duration:7},{type:"stat_boost",stat:"VIT",value:35,duration:7}],cooldown:18,manaCost:55,icon:"castle"},{id:"skill_083",name:"Deadly Precision",description:"Guarantee critical hits",rarity:"rare",effects:[{type:"critical",value:60,duration:4}],cooldown:14,manaCost:45,icon:"target"},{id:"skill_084",name:"Phase Shift",description:"Phase through attacks",rarity:"rare",effects:[{type:"dodge",value:60,duration:4}],cooldown:12,manaCost:42,icon:"git-branch"},{id:"skill_085",name:"Soul Drain",description:"Drain souls for massive healing",rarity:"rare",effects:[{type:"damage",value:270},{type:"lifesteal",value:80}],cooldown:13,manaCost:48,icon:"ghost"},{id:"skill_086",name:"Supernova",description:"Explode like a dying star",rarity:"epic",effects:[{type:"damage",value:550},{type:"burn",value:100,duration:5}],cooldown:22,manaCost:75,icon:"sun"},{id:"skill_087",name:"Glacier",description:"Summon an entire glacier",rarity:"epic",effects:[{type:"damage",value:480},{type:"freeze",value:6,duration:6}],cooldown:24,manaCost:78,icon:"mountain-snow"},{id:"skill_088",name:"Cataclysm",description:"Cause a massive earthquake",rarity:"epic",effects:[{type:"damage",value:520},{type:"stun",chance:55,value:3}],cooldown:25,manaCost:80,icon:"trending-down"},{id:"skill_089",name:"Hurricane",description:"Summon a devastating hurricane",rarity:"epic",effects:[{type:"damage",value:450},{type:"dodge",value:45,duration:5}],cooldown:20,manaCost:70,icon:"wind"},{id:"skill_090",name:"Lightning Storm",description:"Call down continuous lightning",rarity:"epic",effects:[{type:"damage",value:500},{type:"stun",chance:60,value:2}],cooldown:22,manaCost:72,icon:"cloud-lightning"},{id:"skill_091",name:"Resurrection",description:"Bring yourself back from near death",rarity:"epic",effects:[{type:"heal",value:800},{type:"shield",value:400,duration:5}],cooldown:30,manaCost:85,icon:"sunrise"},{id:"skill_092",name:"Impenetrable",description:"Become completely impenetrable",rarity:"epic",effects:[{type:"shield",value:700,duration:8}],cooldown:28,manaCost:80,icon:"shield-check"},{id:"skill_093",name:"Massacre",description:"Deal massive critical damage",rarity:"epic",effects:[{type:"damage",value:420},{type:"critical",value:70,duration:3}],cooldown:18,manaCost:65,icon:"swords"},{id:"skill_094",name:"Phantom",description:"Become a phantom to avoid all",rarity:"epic",effects:[{type:"dodge",value:90,duration:4}],cooldown:20,manaCost:68,icon:"ghost"},{id:"skill_095",name:"Life Siphon",description:"Siphon all life from enemies",rarity:"epic",effects:[{type:"damage",value:400},{type:"lifesteal",value:120}],cooldown:19,manaCost:66,icon:"heart"},{id:"skill_096",name:"World Breaker",description:"Shatter the world itself",rarity:"legendary",effects:[{type:"damage",value:900},{type:"stun",chance:70,value:4}],cooldown:35,manaCost:110,icon:"globe"},{id:"skill_097",name:"Absolute Defense",description:"Achieve perfect defense",rarity:"legendary",effects:[{type:"shield",value:1200,duration:10},{type:"reflect",value:40,duration:10}],cooldown:40,manaCost:105,icon:"shield"},{id:"skill_098",name:"Execution",description:"Execute enemies with low health",rarity:"legendary",effects:[{type:"damage",value:850},{type:"critical",value:80,duration:2}],cooldown:28,manaCost:95,icon:"skull"},{id:"skill_099",name:"Ethereal Form",description:"Become completely ethereal",rarity:"legendary",effects:[{type:"dodge",value:100,duration:5},{type:"stat_boost",stat:"AGI",value:100,duration:5}],cooldown:35,manaCost:100,icon:"sparkles"},{id:"skill_100",name:"Divine Retribution",description:"Unleash the wrath of the gods",rarity:"mythic",effects:[{type:"damage",value:1500},{type:"heal",value:500},{type:"stat_boost",stat:"all",value:80,duration:10}],cooldown:60,manaCost:200,icon:"crown"},{id:"skill_101",name:"Woodland Spirit",description:"Small forest spirit heals your wounds",rarity:"common",effects:[{type:"heal",value:120}],cooldown:7,manaCost:15,icon:"leaf"},{id:"skill_102",name:"Sharp Edge",description:"Hone your blade for extra bite",rarity:"common",effects:[{type:"damage",value:110},{type:"stat_boost",stat:"STR",value:5,duration:2}],cooldown:4,manaCost:10,icon:"knife"},{id:"skill_103",name:"Static Shock",description:"Zaps attacker when hit",rarity:"common",effects:[{type:"reflect",value:10,duration:3}],cooldown:8,manaCost:12,icon:"bolt"},{id:"skill_104",name:"Focus Breath",description:"Recover a small amount of focus",rarity:"common",effects:[{type:"stat_boost",stat:"INT",value:15,duration:3}],cooldown:15,manaCost:5,icon:"wind"},{id:"skill_105",name:"Dirty Kick",description:"Stun the enemy briefly with a low blow",rarity:"common",effects:[{type:"damage",value:50},{type:"stun",chance:20,value:1}],cooldown:10,manaCost:15,icon:"footprints"},{id:"skill_106",name:"Whirlwind",description:"Spinning attack hitting all around",rarity:"uncommon",effects:[{type:"damage",value:180},{type:"dodge",value:10,duration:2}],cooldown:6,manaCost:25,icon:"rotate-cw"},{id:"skill_107",name:"Ice Shield",description:"Barrier of frost that slows attackers",rarity:"uncommon",effects:[{type:"shield",value:180,duration:4},{type:"freeze",value:1,duration:1}],cooldown:12,manaCost:30,icon:"shield-half"},{id:"skill_108",name:"Venom Strike",description:"Poisoned blade deals damage over time",rarity:"uncommon",effects:[{type:"damage",value:100},{type:"burn",value:40,duration:4}],cooldown:7,manaCost:22,icon:"skull-2"},{id:"skill_109",name:"War Cry",description:"Boost morale and strength",rarity:"uncommon",effects:[{type:"stat_boost",stat:"STR",value:25,duration:6},{type:"stat_boost",stat:"VIT",value:10,duration:6}],cooldown:15,manaCost:28,icon:"mic-2"},{id:"skill_110",name:"Fleet Foot",description:"Incredible burst of speed",rarity:"uncommon",effects:[{type:"stat_boost",stat:"AGI",value:35,duration:4}],cooldown:14,manaCost:20,icon:"zap"},{id:"skill_111",name:"Dragon Scale",description:"Skin as tough as a dragon's",rarity:"rare",effects:[{type:"shield",value:400,duration:6},{type:"reflect",value:20,duration:6}],cooldown:18,manaCost:45,icon:"shield-alert"},{id:"skill_112",name:"Ethereal Blade",description:"Bypasses armor with magical energy",rarity:"rare",effects:[{type:"damage",value:320},{type:"stat_boost",stat:"Luck",value:20,duration:3}],cooldown:10,manaCost:40,icon:"sparkles"},{id:"skill_113",name:"Lunar Eclipse",description:"Darkness covers the battlefield",rarity:"rare",effects:[{type:"dodge",value:40,duration:5},{type:"debuff",stat:"all",value:-10,duration:5}],cooldown:20,manaCost:50,icon:"moon"},{id:"skill_114",name:"Heavenly Rain",description:"Healing rain restores health",rarity:"rare",effects:[{type:"heal",value:400}],cooldown:15,manaCost:55,icon:"cloud-rain"},{id:"skill_115",name:"Soul Bind",description:"Tethers enemy life force",rarity:"rare",effects:[{type:"damage",value:200},{type:"lifesteal",value:70}],cooldown:12,manaCost:45,icon:"link-2"},{id:"skill_116",name:"Solar Flare",description:"Blinding light burns and stuns",rarity:"epic",effects:[{type:"damage",value:450},{type:"burn",value:90,duration:5},{type:"stun",chance:40,value:2}],cooldown:22,manaCost:70,icon:"sun"},{id:"skill_117",name:"Diamond Body",description:"Ultimate defense against physical hits",rarity:"epic",effects:[{type:"shield",value:800,duration:8},{type:"stat_boost",stat:"VIT",value:50,duration:8}],cooldown:25,manaCost:80,icon:"gem"},{id:"skill_118",name:"Void Rip",description:"Pull enemies into the void",rarity:"epic",effects:[{type:"damage",value:500},{type:"freeze",value:3,duration:3}],cooldown:18,manaCost:65,icon:"hole"},{id:"skill_119",name:"Blood Lust",description:"Every hit restores health",rarity:"epic",effects:[{type:"lifesteal",value:100,duration:6},{type:"stat_boost",stat:"AGI",value:40,duration:6}],cooldown:24,manaCost:75,icon:"droplet"},{id:"skill_120",name:"Arcane Mastery",description:"Peak magical understanding",rarity:"epic",effects:[{type:"stat_boost",stat:"INT",value:100,duration:8},{type:"critical",value:30,duration:8}],cooldown:20,manaCost:90,icon:"book-open"},{id:"skill_121",name:"Black Hole",description:"Gravity crushes all in its path",rarity:"legendary",effects:[{type:"damage",value:1e3},{type:"stun",chance:100,value:3}],cooldown:40,manaCost:120,icon:"circle-dot"},{id:"skill_122",name:"Aegis of Light",description:"Holy shield that reflects all",rarity:"legendary",effects:[{type:"shield",value:1200,duration:10},{type:"reflect",value:60,duration:10}],cooldown:45,manaCost:110,icon:"shield-check"},{id:"skill_123",name:"Rebirth",description:"Die and return stronger",rarity:"legendary",effects:[{type:"heal",value:1e3},{type:"stat_boost",stat:"all",value:50,duration:15}],cooldown:60,manaCost:150,icon:"refresh-cw"},{id:"skill_124",name:"Final Judgment",description:"The end of the line for foes",rarity:"legendary",effects:[{type:"damage",value:950},{type:"critical",value:100,duration:1}],cooldown:30,manaCost:100,icon:"gavel"},{id:"skill_125",name:"Reality Warp",description:"Change the rules of engagement",rarity:"legendary",effects:[{type:"dodge",value:100,duration:5},{type:"stat_boost",stat:"Luck",value:200,duration:5}],cooldown:50,manaCost:130,icon:"layers"},{id:"skill_126",name:"God Slayer",description:"Technique that brought down gods",rarity:"mythic",effects:[{type:"damage",value:2e3},{type:"critical",value:50,duration:5}],cooldown:70,manaCost:250,icon:"sword"},{id:"skill_127",name:"Omnipotence",description:"A glimpse of absolute power",rarity:"mythic",effects:[{type:"stat_boost",stat:"all",value:200,duration:20}],cooldown:90,manaCost:300,icon:"crown"},{id:"skill_128",name:"Universal Reset",description:"Return everything to the beginning",rarity:"mythic",effects:[{type:"heal",value:2e3},{type:"debuff",stat:"all",value:-100,duration:10}],cooldown:120,manaCost:400,icon:"history"},{id:"skill_129",name:"Void Dragon Form",description:"Transform into a creature of the void",rarity:"mythic",effects:[{type:"stat_boost",stat:"STR",value:300,duration:15},{type:"shield",value:2e3,duration:15}],cooldown:80,manaCost:280,icon:"bird"},{id:"skill_130",name:"Creation's Breath",description:"The breath that started the universe",rarity:"mythic",effects:[{type:"heal",value:1500},{type:"damage",value:1500},{type:"stat_boost",stat:"all",value:100,duration:10}],cooldown:100,manaCost:350,icon:"wind"},{id:"skill_131",name:"Steel Resolve",description:"Ignore pain to keep fighting",rarity:"rare",effects:[{type:"stat_boost",stat:"VIT",value:60,duration:10},{type:"shield",value:200,duration:10}],cooldown:25,manaCost:45,icon:"shield-half"},{id:"skill_132",name:"Flowing Water",description:"Move like water to avoid hits",rarity:"rare",effects:[{type:"dodge",value:50,duration:4},{type:"stat_boost",stat:"AGI",value:30,duration:4}],cooldown:15,manaCost:35,icon:"waves"},{id:"skill_133",name:"Lava Skin",description:"Burns those who touch you",rarity:"rare",effects:[{type:"reflect",value:30,duration:5},{type:"burn",value:20,duration:5}],cooldown:20,manaCost:40,icon:"thermometer-sun"},{id:"skill_134",name:"Eagle Eye",description:"Perfect focus for critical strikes",rarity:"rare",effects:[{type:"critical",value:45,duration:5},{type:"stat_boost",stat:"Luck",value:30,duration:5}],cooldown:18,manaCost:38,icon:"eye"},{id:"skill_135",name:"Nature's Wrath",description:"Thorns entangle and damage",rarity:"rare",effects:[{type:"damage",value:250},{type:"freeze",value:2,duration:2}],cooldown:14,manaCost:42,icon:"sprout"},{id:"skill_136",name:"Final Hour",description:"Massive boost when near death",rarity:"legendary",effects:[{type:"stat_boost",stat:"all",value:150,duration:8},{type:"critical",value:70,duration:8}],cooldown:45,manaCost:110,icon:"hourglass-end"},{id:"skill_137",name:"Galaxy Crush",description:"Collapse a mini-galaxy on foes",rarity:"legendary",effects:[{type:"damage",value:1100},{type:"stun",chance:80,value:3}],cooldown:38,manaCost:115,icon:"milestone"},{id:"skill_138",name:"Life Bloom",description:"Explosive healing burst",rarity:"legendary",effects:[{type:"heal",value:1200},{type:"shield",value:400,duration:5}],cooldown:32,manaCost:105,icon:"flower-2"},{id:"skill_139",name:"Shadow Realm",description:"Drag enemies into your domain",rarity:"legendary",effects:[{type:"debuff",stat:"all",value:-40,duration:6},{type:"damage",value:400}],cooldown:28,manaCost:95,icon:"ghost"},{id:"skill_140",name:"Titan's Roar",description:"Stuns all enemies with sheer volume",rarity:"legendary",effects:[{type:"stun",chance:100,value:2},{type:"debuff",stat:"STR",value:-50,duration:5}],cooldown:35,manaCost:100,icon:"megaphone"},{id:"skill_141",name:"Genesis Wave",description:"The wave that created existence",rarity:"mythic",effects:[{type:"heal",value:2500},{type:"stat_boost",stat:"all",value:150,duration:12}],cooldown:150,manaCost:500,icon:"waves"},{id:"skill_142",name:"Entropy",description:"The heat death of the universe",rarity:"mythic",effects:[{type:"damage",value:3e3},{type:"burn",value:300,duration:10}],cooldown:180,manaCost:600,icon:"flame"},{id:"skill_143",name:"Divine Form",description:"Assume your true celestial self",rarity:"mythic",effects:[{type:"stat_boost",stat:"all",value:500,duration:30},{type:"shield",value:5e3,duration:30}],cooldown:300,manaCost:1e3,icon:"sun"},{id:"skill_144",name:"Singularity",description:"Everything becomes one point",rarity:"mythic",effects:[{type:"damage",value:5e3}],cooldown:600,manaCost:2e3,icon:"circle-dot"},{id:"skill_145",name:"Eternal Peace",description:"The end of all conflict",rarity:"mythic",effects:[{type:"heal",value:9999},{type:"shield",value:9999,duration:60}],cooldown:1200,manaCost:5e3,icon:"heart"}],md=e=>fd.find(t=>t.id===e),uR={common:"bg-gray-500/20 text-gray-300 border-gray-500",uncommon:"bg-green-500/20 text-green-300 border-green-500",rare:"bg-blue-500/20 text-blue-300 border-blue-500",epic:"bg-purple-500/20 text-purple-300 border-purple-500",legendary:"bg-amber-500/20 text-amber-300 border-amber-500",mythic:"bg-pink-500/20 text-pink-300 border-pink-500"},fR={common:"from-gray-800/50 to-gray-900/80 border-gray-600/50",uncommon:"from-green-900/30 to-green-950/60 border-green-600/40",rare:"from-blue-900/30 to-blue-950/60 border-blue-600/40",epic:"from-purple-900/30 to-purple-950/60 border-purple-600/40",legendary:"from-amber-900/30 to-amber-950/60 border-amber-600/40",mythic:"from-pink-900/30 to-pink-950/60 border-pink-600/40 animate-pulse"};function Sv(e){if(!e)return"N/A";const t=new Date(e),s=new Date,i=t.getTime()-s.getTime();if(i<=0)return"Ended";const l=Math.floor(i/(1e3*60*60)),c=Math.floor(i%(1e3*60*60)/(1e3*60)),u=Math.floor(i%(1e3*60)/1e3);return l>0?`${l}h ${c}m`:`${c}m ${u}s`}function Xf({skill:e,showActions:t,onEquip:s,onUnequip:i,isEquipped:l}){return n.jsxs(Te,{className:`bg-gradient-to-br ${fR[e.rarity]} border`,children:[n.jsxs(He,{className:"pb-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(We,{className:"text-lg font-cinzel text-foreground",children:e.name}),n.jsx(le,{className:uR[e.rarity],children:e.rarity.charAt(0).toUpperCase()+e.rarity.slice(1)})]}),n.jsx(un,{className:"text-muted-foreground",children:e.description})]}),n.jsxs(Le,{className:"space-y-3",children:[n.jsx("div",{className:"flex flex-wrap gap-2",children:e.effects.map((c,u)=>n.jsxs(le,{variant:"outline",className:"text-xs",children:[c.type,": ",c.value,c.stat&&` ${c.stat}`,c.duration&&` (${c.duration}s)`]},u))}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Gs,{className:"h-4 w-4"})," ",e.cooldown,"s"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Ks,{className:"h-4 w-4"})," ",e.manaCost," mana"]})]}),t&&n.jsx("div",{className:"pt-2",children:l?n.jsx(I,{variant:"outline",size:"sm",onClick:i,"data-testid":"button-unequip-skill",children:"Unequip"}):n.jsx(I,{variant:"default",size:"sm",onClick:s,"data-testid":"button-equip-skill",children:"Equip"})}),l&&n.jsx(le,{className:"bg-green-500/30 text-green-300 border-green-500",children:"Equipped"})]})]})}function mR(){const[,e]=Un(),{account:t,logout:s}=Wn(),{toast:i}=Qn(),[l,c]=x.useState(""),[u,f]=x.useState(!1),[h,p]=x.useState(""),{data:v,isLoading:b}=lt({queryKey:["/api/auctions/active"],refetchInterval:5e3}),{data:N=[],isLoading:_}=lt({queryKey:["/api/accounts",t?.id,"skills"],enabled:!!t?.id,refetchInterval:1e4}),{data:E=[]}=lt({queryKey:["/api/activity-feed"],refetchInterval:3e4});x.useEffect(()=>{if(v?.auction?.endAt){const P=setInterval(()=>{p(Sv(v.auction.endAt))},1e3);return()=>clearInterval(P)}},[v?.auction?.endAt]);const w=Mt({mutationFn:async()=>{const P=parseInt(l);if(!t||!v?.auction)throw new Error("Not authenticated");return(await he("POST",`/api/auctions/${v.auction.id}/bid`,{accountId:t.id,amount:P})).json()},onSuccess:()=>{ce.invalidateQueries({queryKey:["/api/auctions/active"]}),i({title:"Bid placed!",description:`You bid ${parseInt(l).toLocaleString()} gold.`}),f(!1),c("")},onError:P=>{i({title:"Failed to place bid",description:P.message,variant:"destructive"})}}),S=Mt({mutationFn:async P=>{if(!t)throw new Error("Not authenticated");return(await he("POST",`/api/accounts/${t.id}/skills/${P}/equip`)).json()},onSuccess:()=>{ce.invalidateQueries({queryKey:["/api/accounts",t?.id,"skills"]}),i({title:"Skill equipped!"})},onError:()=>{i({title:"Failed to equip skill",variant:"destructive"})}}),k=Mt({mutationFn:async P=>{if(!t)throw new Error("Not authenticated");return(await he("POST",`/api/accounts/${t.id}/skills/${P}/unequip`)).json()},onSuccess:()=>{ce.invalidateQueries({queryKey:["/api/accounts",t?.id,"skills"]}),i({title:"Skill unequipped!"})},onError:()=>{i({title:"Failed to unequip skill",variant:"destructive"})}});if(!t)return n.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:n.jsxs(Te,{className:"p-6",children:[n.jsx(We,{children:"Please log in to access Skills"}),n.jsx(I,{className:"mt-4",onClick:()=>e("/"),children:"Go to Login"})]})});const C=v?.auction?md(v.auction.skillId):null,R=v?.highestBid?v.highestBid.amount+1:100;return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsxs("header",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur border-b border-border",children:[n.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx(I,{variant:"ghost",size:"icon",onClick:()=>e("/shop"),className:"shrink-0","data-testid":"button-back-shop",children:n.jsx(Um,{className:"h-5 w-5"})}),n.jsxs("h1",{className:"text-lg sm:text-2xl font-cinzel font-bold text-primary flex items-center gap-2 truncate",children:[n.jsx(mi,{className:"h-5 w-5 sm:h-6 sm:w-6 shrink-0"})," ",n.jsx("span",{className:"truncate",children:"Skill Auction"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 shrink-0",children:[n.jsx("div",{className:"hidden xs:block",children:n.jsx(id,{amount:t.gold,size:"sm"})}),n.jsx("span",{className:"hidden sm:inline text-sm text-muted-foreground truncate max-w-[100px]",children:t.username}),n.jsxs(I,{variant:"outline",size:"sm",onClick:s,className:"h-8 px-2 sm:h-9 sm:px-4","data-testid":"button-logout",children:[n.jsx(ar,{className:"h-4 w-4 sm:mr-2"})," ",n.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]}),n.jsxs("nav",{className:"container mx-auto px-4 py-2 flex gap-2 overflow-x-auto scrollbar-hide no-scrollbar",children:[n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/shop"),"data-testid":"link-shop",children:[n.jsx(kn,{className:"h-4 w-4 mr-1"})," Shop"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/inventory"),"data-testid":"link-inventory",children:[n.jsx(bn,{className:"h-4 w-4 mr-1"})," Inventory"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/pets"),"data-testid":"link-pets",children:[n.jsx(jr,{className:"h-4 w-4 mr-1"})," Pets"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/guild"),"data-testid":"link-guild",children:[n.jsx(Qs,{className:"h-4 w-4 mr-1"})," Guild"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/npc-battle"),"data-testid":"link-tower",children:[n.jsx(St,{className:"h-4 w-4 mr-1"})," Tower"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/leaderboard"),"data-testid":"link-leaderboard",children:[n.jsx(yt,{className:"h-4 w-4 mr-1"})," Leaderboard"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/trading"),"data-testid":"link-trading",children:[n.jsx(kr,{className:"h-4 w-4 mr-1"})," Trade"]})]})]}),n.jsx("main",{className:"container mx-auto px-4 py-6",children:n.jsxs(Rd,{defaultValue:"auction",className:"space-y-6",children:[n.jsxs(ul,{className:"flex w-full mb-6 overflow-x-auto no-scrollbar justify-start sm:grid sm:grid-cols-3",children:[n.jsxs(Xt,{value:"auction",className:"flex-1 min-w-[100px]","data-testid":"tab-skills-auction",children:[n.jsx(mi,{className:"h-4 w-4 mr-2 shrink-0"}),n.jsx("span",{className:"truncate",children:"Auction"})]}),n.jsxs(Xt,{value:"my-skills",className:"flex-1 min-w-[100px]","data-testid":"tab-skills-equipped",children:[n.jsx(kt,{className:"h-4 w-4 mr-2 shrink-0"}),n.jsx("span",{className:"truncate",children:"My Skills"})]}),n.jsxs(Xt,{value:"news",className:"flex-1 min-w-[100px]","data-testid":"tab-skills-news",children:[n.jsx(Af,{className:"h-4 w-4 mr-2 shrink-0"}),n.jsx("span",{className:"truncate",children:"News"})]})]}),n.jsxs(Jt,{value:"auction",children:[n.jsxs(Te,{className:"bg-gradient-to-br from-card to-card/80 border-primary/30",children:[n.jsx(He,{children:n.jsxs(We,{className:"flex items-center gap-2",children:[n.jsx(mk,{className:"h-5 w-5 text-primary"}),"Current Auction",v?.auction&&n.jsx(le,{variant:"outline",className:"ml-auto animate-pulse",children:h||Sv(v.auction.endAt)})]})}),n.jsx(Le,{children:b?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading auction..."}):v?.auction&&C?n.jsxs("div",{className:"space-y-6",children:[n.jsx(Xf,{skill:C}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between p-4 bg-muted/30 rounded-lg gap-4",children:[n.jsxs("div",{className:"text-center sm:text-left",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Highest Bid"}),n.jsx("p",{className:"text-xl sm:text-2xl font-bold text-amber-400",children:v.highestBid?`${v.highestBid.amount.toLocaleString()} gold`:"No bids yet"})]}),n.jsxs(I,{onClick:()=>f(!0),disabled:!t||t.gold<R,className:"w-full sm:w-auto","data-testid":"button-place-bid",children:[n.jsx(mi,{className:"h-4 w-4 mr-2"})," Place Bid"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold text-muted-foreground",children:"Recent Bids"}),n.jsx(Mo,{className:"h-48",children:n.jsxs("div",{className:"space-y-2",children:[v.bids.slice(0,10).map((P,O)=>n.jsxs("div",{className:`flex justify-between p-2 rounded ${O===0?"bg-amber-500/20":"bg-muted/20"}`,children:[n.jsxs("span",{className:"text-sm",children:["Bidder #",P.bidderId.slice(-4)]}),n.jsxs("span",{className:"font-semibold text-amber-400",children:[P.amount.toLocaleString()," gold"]})]},P.id)),v.bids.length===0&&n.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No bids yet. Be the first!"})]})})]})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(mi,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No active auction at the moment."}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Check back later for the next skill auction!"})]})})]}),n.jsxs(Te,{children:[n.jsxs(He,{children:[n.jsx(We,{children:"All Skills"}),n.jsx(un,{children:"Browse all 100 unique skills in the game"})]}),n.jsx(Le,{children:n.jsx(Mo,{className:"h-[600px]",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 pr-4",children:fd.map(P=>n.jsx(Xf,{skill:P},P.id))})})})]})]}),n.jsx(Jt,{value:"my-skills",className:"space-y-6",children:n.jsxs(Te,{children:[n.jsxs(He,{children:[n.jsxs(We,{className:"flex items-center gap-2",children:[n.jsx(kt,{className:"h-5 w-5"})," Your Skills"]}),n.jsx(un,{children:"Skills you've won from auctions. Equip one skill at a time."})]}),n.jsx(Le,{children:_?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading skills..."}):N.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(kt,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"You don't have any skills yet."}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Win auctions to acquire powerful skills!"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(P=>{const O=md(P.skillId);return O?n.jsx(Xf,{skill:O,showActions:!0,isEquipped:P.isEquipped,onEquip:()=>S.mutate(P.id),onUnequip:()=>k.mutate(P.id)},P.id):null})})})]})}),n.jsx(Jt,{value:"news",className:"space-y-6",children:n.jsxs(Te,{children:[n.jsxs(He,{children:[n.jsxs(We,{className:"flex items-center gap-2",children:[n.jsx(Af,{className:"h-5 w-5"})," Activity Feed"]}),n.jsx(un,{children:"Recent events and player achievements"})]}),n.jsx(Le,{children:n.jsx(Mo,{className:"h-[600px]",children:n.jsx("div",{className:"space-y-3",children:E.length===0?n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No recent activity"}):E.map(P=>n.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted/20 rounded-lg",children:[n.jsxs("div",{className:"p-2 bg-primary/20 rounded",children:[P.type==="bid_won"&&n.jsx(yt,{className:"h-4 w-4 text-amber-400"}),P.type==="quest_completed"&&n.jsx(tn,{className:"h-4 w-4 text-green-400"}),P.type==="pet_acquired"&&n.jsx(jr,{className:"h-4 w-4 text-pink-400"}),!["bid_won","quest_completed","pet_acquired"].includes(P.type)&&n.jsx(Af,{className:"h-4 w-4 text-primary"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm",children:P.message}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(P.createdAt).toLocaleString()})]})]},P.id))})})})]})})]})}),n.jsx(gt,{open:u,onOpenChange:f,children:n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsx(ht,{children:"Place Your Bid"}),n.jsxs(Nt,{children:["Minimum bid: ",R.toLocaleString()," gold",v?.highestBid&&n.jsxs("span",{className:"block mt-1",children:["Current highest: ",v.highestBid.amount.toLocaleString()," gold"]})]})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Bid Amount (Gold)"}),n.jsx(tt,{type:"number",placeholder:R.toString(),value:l,onChange:P=>c(P.target.value),min:R,"data-testid":"input-bid-amount"})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Your gold: ",t.gold.toLocaleString()]})]}),n.jsxs(Lt,{children:[n.jsx(I,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),n.jsx(I,{onClick:()=>w.mutate(),disabled:!l||parseInt(l)<R||parseInt(l)>t.gold||w.isPending,"data-testid":"button-confirm-bid",children:w.isPending?"Placing...":"Confirm Bid"})]})]})})]})}var wp="Checkbox",[pR]=Er(wp),[hR,gR]=pR(wp),Xb=x.forwardRef((e,t)=>{const{__scopeCheckbox:s,name:i,checked:l,defaultChecked:c,required:u,disabled:f,value:h="on",onCheckedChange:p,form:v,...b}=e,[N,_]=x.useState(null),E=st(t,P=>_(P)),w=x.useRef(!1),S=N?v||!!N.closest("form"):!0,[k=!1,C]=Ca({prop:l,defaultProp:c,onChange:p}),R=x.useRef(k);return x.useEffect(()=>{const P=N?.form;if(P){const O=()=>C(R.current);return P.addEventListener("reset",O),()=>P.removeEventListener("reset",O)}},[N,C]),n.jsxs(hR,{scope:s,state:k,disabled:f,children:[n.jsx(qe.button,{type:"button",role:"checkbox","aria-checked":Hs(k)?"mixed":k,"aria-required":u,"data-state":tj(k),"data-disabled":f?"":void 0,disabled:f,value:h,...b,ref:E,onKeyDown:Ce(e.onKeyDown,P=>{P.key==="Enter"&&P.preventDefault()}),onClick:Ce(e.onClick,P=>{C(O=>Hs(O)?!0:!O),S&&(w.current=P.isPropagationStopped(),w.current||P.stopPropagation())})}),S&&n.jsx(xR,{control:N,bubbles:!w.current,name:i,value:h,checked:k,required:u,disabled:f,form:v,style:{transform:"translateX(-100%)"},defaultChecked:Hs(c)?!1:c})]})});Xb.displayName=wp;var Jb="CheckboxIndicator",ej=x.forwardRef((e,t)=>{const{__scopeCheckbox:s,forceMount:i,...l}=e,c=gR(Jb,s);return n.jsx(ir,{present:i||Hs(c.state)||c.state===!0,children:n.jsx(qe.span,{"data-state":tj(c.state),"data-disabled":c.disabled?"":void 0,...l,ref:t,style:{pointerEvents:"none",...e.style}})})});ej.displayName=Jb;var xR=e=>{const{control:t,checked:s,bubbles:i=!0,defaultChecked:l,...c}=e,u=x.useRef(null),f=eb(s),h=Xy(t);x.useEffect(()=>{const v=u.current,b=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(b,"checked").set;if(f!==s&&_){const E=new Event("click",{bubbles:i});v.indeterminate=Hs(s),_.call(v,Hs(s)?!1:s),v.dispatchEvent(E)}},[f,s,i]);const p=x.useRef(Hs(s)?!1:s);return n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:l??p.current,...c,tabIndex:-1,ref:u,style:{...e.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Hs(e){return e==="indeterminate"}function tj(e){return Hs(e)?"indeterminate":e?"checked":"unchecked"}var nj=Xb,vR=ej;const rj=x.forwardRef(({className:e,...t},s)=>n.jsx(nj,{ref:s,className:we("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(vR,{className:we("flex items-center justify-center text-current"),children:n.jsx(cs,{className:"h-4 w-4"})})}));rj.displayName=nj.displayName;function yR(){const[,e]=Un(),{account:t,inventory:s}=Wn(),{toast:i}=Qn(),[l,c]=x.useState(!1),[u,f]=x.useState(""),[h,p]=x.useState(null),[v,b]=x.useState(!1),[N,_]=x.useState([]),{data:E=[]}=lt({queryKey:["/api/accounts"]}),{data:w=[],isLoading:S}=lt({queryKey:["/api/trades",t?.id],enabled:!!t?.id}),k=Mt({mutationFn:async()=>!t||!u?void 0:(await he("POST","/api/trades",{initiatorId:t.id,recipientId:u})).json(),onSuccess:K=>{ce.invalidateQueries({queryKey:["/api/trades"]}),i({title:"Trade created!",description:"Add items to your offer."}),c(!1),f(""),p(K.id),b(!0)},onError:()=>{i({title:"Failed to create trade",variant:"destructive"})}}),C=Mt({mutationFn:async({tradeId:K,itemIds:$})=>{if(t)for(const me of $)await he("POST",`/api/trades/${K}/items`,{ownerId:t.id,type:"item",refId:me})},onSuccess:()=>{ce.invalidateQueries({queryKey:["/api/trades"]}),i({title:"Items added to trade!"}),b(!1),_([])},onError:()=>{i({title:"Failed to add items",variant:"destructive"})}}),R=Mt({mutationFn:async K=>{t&&await he("PATCH",`/api/trades/${K}/accept`,{accountId:t.id})},onSuccess:()=>{ce.invalidateQueries({queryKey:["/api/trades"]}),ce.invalidateQueries({queryKey:["/api/inventory"]}),ce.invalidateQueries({queryKey:["/api/accounts"]}),i({title:"Trade accepted!"})},onError:K=>{i({title:"Failed to accept trade",description:K.message,variant:"destructive"})}}),P=Mt({mutationFn:async K=>{await he("PATCH",`/api/trades/${K}/cancel`,{})},onSuccess:()=>{ce.invalidateQueries({queryKey:["/api/trades"]}),i({title:"Trade cancelled"})},onError:()=>{i({title:"Failed to cancel trade",variant:"destructive"})}}),O=x.useMemo(()=>E.filter(K=>K.id!==t?.id&&K.role==="player"),[E,t]),G=x.useMemo(()=>w.filter(K=>K.status==="pending"),[w]),q=x.useMemo(()=>w.filter(K=>K.status==="completed"),[w]),X=x.useMemo(()=>w.filter(K=>K.status==="cancelled"),[w]),se=K=>Na.find($=>$.id===K),de=K=>{const $=s.find(me=>me.id===K);return $?Na.find(me=>me.id===$.itemId):null},xe=K=>K.type==="item"?{type:"item",item:de(K.refId),refId:K.refId}:K.type==="skill"?{type:"skill",skillId:K.refId}:null,oe=()=>{e("/")};return!t||t.role!=="player"?(e("/"),null):n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsx("div",{className:"container mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("h1",{className:"font-serif text-xl font-bold text-foreground","data-testid":"text-trading-title",children:[n.jsx(kr,{className:"inline w-6 h-6 mr-2 text-primary"}),"Player Trading"]})}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/shop"),"data-testid":"button-nav-shop",children:[n.jsx(kn,{className:"w-4 h-4 mr-2"})," Shop"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/inventory"),"data-testid":"button-nav-inventory",children:[n.jsx(bn,{className:"w-4 h-4 mr-2"})," Inventory"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/guild"),"data-testid":"button-nav-guild",children:[n.jsx(tn,{className:"w-4 h-4 mr-2"})," Guild"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>e("/pets"),"data-testid":"button-nav-pets",children:[n.jsx(jr,{className:"w-4 h-4 mr-2"})," Pets"]}),n.jsxs(I,{variant:"ghost",size:"sm",onClick:oe,"data-testid":"button-logout",children:[n.jsx(ar,{className:"w-4 h-4 mr-2"})," Logout"]})]})]})})}),n.jsxs("main",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("div",{children:n.jsx("p",{className:"text-muted-foreground",children:"Trade items and skills with other players"})}),n.jsxs(gt,{open:l,onOpenChange:c,children:[n.jsx(Vs,{asChild:!0,children:n.jsxs(I,{"data-testid":"button-new-trade",children:[n.jsx(nr,{className:"w-4 h-4 mr-2"}),"New Trade"]})}),n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsx(ht,{className:"font-serif",children:"Start a Trade"}),n.jsx(Nt,{children:"Select a player to trade with"})]}),n.jsxs("div",{className:"py-4",children:[n.jsx(Me,{children:"Select Player"}),n.jsxs(Or,{value:u,onValueChange:f,children:[n.jsx(yr,{"data-testid":"select-trade-recipient",children:n.jsx(Fr,{placeholder:"Choose a player..."})}),n.jsx(wr,{children:O.map(K=>n.jsx(yn,{value:K.id,children:K.username},K.id))})]})]}),n.jsxs(Lt,{children:[n.jsx(I,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),n.jsx(I,{onClick:()=>k.mutate(),disabled:!u||k.isPending,"data-testid":"button-create-trade",children:"Create Trade"})]})]})]})]}),n.jsxs(Rd,{defaultValue:"pending",className:"space-y-4",children:[n.jsxs(ul,{children:[n.jsxs(Xt,{value:"pending","data-testid":"tab-pending-trades",children:[n.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Pending (",G.length,")"]}),n.jsxs(Xt,{value:"completed","data-testid":"tab-completed-trades",children:[n.jsx(cs,{className:"w-4 h-4 mr-2"}),"Completed (",q.length,")"]}),n.jsxs(Xt,{value:"cancelled","data-testid":"tab-cancelled-trades",children:[n.jsx($r,{className:"w-4 h-4 mr-2"}),"Cancelled (",X.length,")"]})]}),n.jsx(Jt,{value:"pending",children:S?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading trades..."}):G.length===0?n.jsx(Te,{children:n.jsxs(Le,{className:"py-8 text-center text-muted-foreground",children:[n.jsx(kr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No pending trades"}),n.jsx("p",{className:"text-sm",children:"Start a new trade with another player!"})]})}):n.jsx("div",{className:"grid gap-4",children:G.map(K=>{const $=K.initiatorId===t.id,me=$?K.recipientName:K.initiatorName,B=K.items.filter(W=>W.ownerId===t.id),Y=K.items.filter(W=>W.ownerId!==t.id),T=$&&K.initiatorAccepted||!$&&K.recipientAccepted,U=$&&K.recipientAccepted||!$&&K.initiatorAccepted;return n.jsxs(Te,{"data-testid":`card-trade-${K.id}`,children:[n.jsxs(He,{className:"pb-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(We,{className:"text-lg font-serif",children:["Trade with ",me]}),n.jsxs("div",{className:"flex gap-2",children:[T&&n.jsx(le,{variant:"outline",className:"text-green-500",children:"You Accepted"}),U&&n.jsx(le,{variant:"outline",className:"text-blue-500",children:"They Accepted"})]})]}),n.jsx(un,{children:$?"You initiated this trade":`${K.initiatorName} wants to trade with you`})]}),n.jsxs(Le,{children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium text-sm",children:"Your Offer"}),n.jsx("div",{className:"p-3 rounded-lg border min-h-[80px]",children:B.length===0?n.jsx("p",{className:"text-muted-foreground text-sm",children:"No items added yet"}):n.jsx("div",{className:"space-y-1",children:B.map((W,L)=>{const H=xe(W);return H?H.type==="item"&&H.item?n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(bn,{className:"w-4 h-4"}),H.item.name]},L):H.type==="skill"?n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(kt,{className:"w-4 h-4 text-purple-500"}),"Skill"]},L):null:null})})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium text-sm",children:"Their Offer"}),n.jsx("div",{className:"p-3 rounded-lg border min-h-[80px]",children:Y.length===0?n.jsx("p",{className:"text-muted-foreground text-sm",children:"Waiting for their offer..."}):n.jsx("div",{className:"space-y-1",children:Y.map((W,L)=>{const H=xe(W);return H?H.type==="item"&&H.item?n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(bn,{className:"w-4 h-4"}),H.item.name]},L):H.type==="skill"?n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(kt,{className:"w-4 h-4 text-purple-500"}),"Skill"]},L):null:null})})})]})]}),n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[n.jsxs(I,{variant:"outline",size:"sm",onClick:()=>{p(K.id),b(!0)},"data-testid":`button-add-items-${K.id}`,children:[n.jsx(nr,{className:"w-4 h-4 mr-2"}),"Add Items"]}),!T&&n.jsxs(I,{size:"sm",onClick:()=>R.mutate(K.id),disabled:R.isPending,"data-testid":`button-accept-trade-${K.id}`,children:[n.jsx(cs,{className:"w-4 h-4 mr-2"}),"Accept Trade"]}),n.jsxs(I,{variant:"destructive",size:"sm",onClick:()=>P.mutate(K.id),disabled:P.isPending,"data-testid":`button-cancel-trade-${K.id}`,children:[n.jsx($r,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]},K.id)})})}),n.jsx(Jt,{value:"completed",children:q.length===0?n.jsx(Te,{children:n.jsxs(Le,{className:"py-8 text-center text-muted-foreground",children:[n.jsx(cs,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No completed trades yet"})]})}):n.jsx("div",{className:"grid gap-4",children:q.map(K=>n.jsx(Te,{className:"opacity-75",children:n.jsxs(He,{className:"pb-2",children:[n.jsxs(We,{className:"text-lg font-serif",children:["Trade with ",K.initiatorId===t.id?K.recipientName:K.initiatorName]}),n.jsx(un,{children:"Completed"})]})},K.id))})}),n.jsx(Jt,{value:"cancelled",children:X.length===0?n.jsx(Te,{children:n.jsxs(Le,{className:"py-8 text-center text-muted-foreground",children:[n.jsx($r,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No cancelled trades"})]})}):n.jsx("div",{className:"grid gap-4",children:X.map(K=>n.jsx(Te,{className:"opacity-50",children:n.jsxs(He,{className:"pb-2",children:[n.jsxs(We,{className:"text-lg font-serif",children:["Trade with ",K.initiatorId===t.id?K.recipientName:K.initiatorName]}),n.jsx(un,{children:"Cancelled"})]})},K.id))})})]}),n.jsx(gt,{open:v,onOpenChange:b,children:n.jsxs(mt,{className:"max-w-lg max-h-[90vh] flex flex-col",children:[n.jsxs(pt,{className:"flex-shrink-0",children:[n.jsx(ht,{className:"font-serif",children:"Add to Trade"}),n.jsx(Nt,{children:"Select items to add to your offer"})]}),n.jsx("div",{className:"flex-1 overflow-y-auto space-y-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{children:"Your Inventory Items"}),n.jsx(Mo,{className:"h-48 border rounded-md p-2",children:s.length===0?n.jsx("p",{className:"text-muted-foreground text-sm text-center py-4",children:"No items in inventory"}):n.jsx("div",{className:"space-y-2",children:s.map(K=>{const $=se(K.itemId);return $?n.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border hover-elevate cursor-pointer",onClick:()=>{_(me=>me.includes(K.id)?me.filter(B=>B!==K.id):[...me,K.id])},"data-testid":`item-select-${K.id}`,children:[n.jsx(rj,{checked:N.includes(K.id),onCheckedChange:me=>{_(me?B=>[...B,K.id]:B=>B.filter(Y=>Y!==K.id))}}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:$.name}),n.jsxs("p",{className:"text-xs text-muted-foreground capitalize",children:[$.tier.replace("_"," ")," ",$.type]})]})]},K.id):null})})})]})}),n.jsxs(Lt,{className:"flex-shrink-0 border-t pt-4",children:[n.jsx(I,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),n.jsx(I,{onClick:()=>{h&&N.length>0&&C.mutate({tradeId:h,itemIds:N})},disabled:C.isPending||N.length===0,"data-testid":"button-confirm-add-items",children:"Add to Trade"})]})]})})]})]})}const Oo=x.forwardRef(({className:e,...t},s)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:s,className:we("w-full caption-bottom text-sm",e),...t})}));Oo.displayName="Table";const Fo=x.forwardRef(({className:e,...t},s)=>n.jsx("thead",{ref:s,className:we("[&_tr]:border-b",e),...t}));Fo.displayName="TableHeader";const zo=x.forwardRef(({className:e,...t},s)=>n.jsx("tbody",{ref:s,className:we("[&_tr:last-child]:border-0",e),...t}));zo.displayName="TableBody";const wR=x.forwardRef(({className:e,...t},s)=>n.jsx("tfoot",{ref:s,className:we("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));wR.displayName="TableFooter";const ls=x.forwardRef(({className:e,...t},s)=>n.jsx("tr",{ref:s,className:we("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));ls.displayName="TableRow";const Tt=x.forwardRef(({className:e,...t},s)=>n.jsx("th",{ref:s,className:we("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Tt.displayName="TableHead";const It=x.forwardRef(({className:e,...t},s)=>n.jsx("td",{ref:s,className:we("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));It.displayName="TableCell";const bR=x.forwardRef(({className:e,...t},s)=>n.jsx("caption",{ref:s,className:we("mt-4 text-sm text-muted-foreground",e),...t}));bR.displayName="TableCaption";const jR={normal:"bg-tier-normal/20 text-tier-normal border-tier-normal/30",super_rare:"bg-tier-super-rare/20 text-tier-super-rare border-tier-super-rare/30",x_tier:"bg-tier-x/20 text-tier-x border-tier-x/30",umr:"bg-tier-umr/20 text-tier-umr border-tier-umr/30",ssumr:"bg-tier-ssumr/20 text-tier-ssumr border-tier-ssumr/30",divine:"bg-purple-500/20 text-purple-400 border-purple-500/30",journeyman:"bg-cyan-500/20 text-cyan-400 border-cyan-500/30",expert:"bg-blue-500/20 text-blue-400 border-blue-500/30",master:"bg-indigo-500/20 text-indigo-400 border-indigo-500/30",grandmaster:"bg-violet-500/20 text-violet-400 border-violet-500/30",legend:"bg-amber-500/20 text-amber-400 border-amber-500/30",elite:"bg-rose-500/20 text-rose-400 border-rose-500/30"};function kv({type:e}){switch(e){case"weapon":return n.jsx(Us,{className:"w-4 h-4 text-stat-str"});case"armor":return n.jsx(tn,{className:"w-4 h-4 text-stat-int"});case"accessory":return n.jsx(qs,{className:"w-4 h-4 text-stat-luck"})}}const Cv={common:"bg-gray-500/20 text-gray-300 border-gray-500",uncommon:"bg-green-500/20 text-green-300 border-green-500",rare:"bg-blue-500/20 text-blue-300 border-blue-500",epic:"bg-purple-500/20 text-purple-300 border-purple-500",legendary:"bg-amber-500/20 text-amber-300 border-amber-500",mythic:"bg-pink-500/20 text-pink-300 border-pink-500"};function NR({account:e,toast:t}){const[s,i]=x.useState(""),[l,c]=x.useState(""),{data:u}=lt({queryKey:["/api/auctions/active"],refetchInterval:5e3}),{data:f=[]}=lt({queryKey:["/api/auctions/queue"],refetchInterval:1e4}),h=x.useMemo(()=>l?fd.filter(E=>E.name.toLowerCase().includes(l.toLowerCase())||E.rarity.toLowerCase().includes(l.toLowerCase())).slice(0,20):fd.slice(0,20),[l]),p=async()=>{if(!s){t({title:"Select a skill first",variant:"destructive"});return}try{await he("POST",`/api/admin/auctions/queue?adminId=${e.id}`,{skillId:s}),t({title:"Skill added to queue!"}),ce.invalidateQueries({queryKey:["/api/auctions/queue"]}),i("")}catch{t({title:"Failed to add skill",variant:"destructive"})}},v=async()=>{try{await he("POST",`/api/admin/auctions/start-next?adminId=${e.id}`),t({title:"Auction started!"}),ce.invalidateQueries({queryKey:["/api/auctions/active"]}),ce.invalidateQueries({queryKey:["/api/auctions/queue"]})}catch(E){t({title:"Failed to start auction",description:E.message,variant:"destructive"})}},b=async()=>{try{await he("POST",`/api/admin/auctions/finalize?adminId=${e.id}`),t({title:"Auction finalized!"}),ce.invalidateQueries({queryKey:["/api/auctions/active"]}),ce.invalidateQueries({queryKey:["/api/auctions/queue"]})}catch{t({title:"Failed to finalize auction",variant:"destructive"})}},N=async E=>{try{await he("DELETE",`/api/admin/auctions/${E}?adminId=${e.id}`),t({title:"Removed from queue"}),ce.invalidateQueries({queryKey:["/api/auctions/queue"]})}catch{t({title:"Failed to remove",variant:"destructive"})}},_=u?.auction?md(u.auction.skillId):null;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"font-serif text-lg font-semibold mb-4",children:"Skill Auction Management"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Manage the skill auction queue. Only one auction can be active at a time. 8-hour bidding cycles."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(Te,{children:[n.jsx(He,{children:n.jsxs(We,{className:"flex items-center gap-2",children:[n.jsx(Gs,{className:"w-5 h-5"})," Current Auction"]})}),n.jsx(Le,{children:u?.auction&&_?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-semibold",children:_.name}),n.jsx(le,{className:Cv[_.rarity],children:_.rarity})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:_.description}),n.jsxs("div",{className:"mt-3 flex items-center gap-4 text-sm",children:[n.jsxs("span",{children:["Highest Bid: ",n.jsxs("span",{className:"text-amber-400 font-bold",children:[u.highestBid?.amount?.toLocaleString()||"0"," gold"]})]}),n.jsxs("span",{children:["Bids: ",u.bids.length]})]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Ends: ",u.auction.endAt?new Date(u.auction.endAt).toLocaleString():"N/A"]})]}),n.jsxs(I,{variant:"destructive",onClick:b,"data-testid":"button-finalize-auction",children:[n.jsx(dk,{className:"w-4 h-4 mr-2"})," Finalize Now"]})]}):n.jsxs("div",{className:"text-center py-6",children:[n.jsx(mi,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No active auction"}),f.length>0&&n.jsxs(I,{className:"mt-4",onClick:v,"data-testid":"button-start-auction",children:[n.jsx(uk,{className:"w-4 h-4 mr-2"})," Start Next Auction"]})]})})]}),n.jsxs(Te,{children:[n.jsx(He,{children:n.jsxs(We,{className:"flex items-center gap-2",children:[n.jsx(nr,{className:"w-5 h-5"})," Add to Queue"]})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Me,{children:"Search Skills"}),n.jsx(tt,{placeholder:"Search by name or rarity...",value:l,onChange:E=>c(E.target.value),"data-testid":"input-skill-search"})]}),n.jsxs("div",{children:[n.jsx(Me,{children:"Select Skill"}),n.jsxs(Or,{value:s,onValueChange:i,children:[n.jsx(yr,{"data-testid":"select-skill",children:n.jsx(Fr,{placeholder:"Choose a skill"})}),n.jsx(wr,{children:h.map(E=>n.jsx(yn,{value:E.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:we("w-2 h-2 rounded-full",E.rarity==="common"&&"bg-gray-400",E.rarity==="uncommon"&&"bg-green-400",E.rarity==="rare"&&"bg-blue-400",E.rarity==="epic"&&"bg-purple-400",E.rarity==="legendary"&&"bg-amber-400",E.rarity==="mythic"&&"bg-pink-400")}),E.name," (",E.rarity,")"]})},E.id))})]})]}),n.jsxs(I,{onClick:p,disabled:!s,"data-testid":"button-add-to-queue",children:[n.jsx(nr,{className:"w-4 h-4 mr-2"})," Add to Queue"]})]})]})]}),n.jsxs(Te,{children:[n.jsx(He,{children:n.jsxs(We,{className:"flex items-center gap-2",children:[n.jsx(kt,{className:"w-5 h-5"})," Queue (",f.length,")"]})}),n.jsx(Le,{children:f.length===0?n.jsx("p",{className:"text-center py-6 text-muted-foreground",children:"No skills in queue. Add some skills above."}):n.jsxs(Oo,{children:[n.jsx(Fo,{children:n.jsxs(ls,{children:[n.jsx(Tt,{children:"Position"}),n.jsx(Tt,{children:"Skill"}),n.jsx(Tt,{children:"Rarity"}),n.jsx(Tt,{children:"Added"}),n.jsx(Tt,{children:"Actions"})]})}),n.jsx(zo,{children:f.map((E,w)=>{const S=md(E.skillId);return n.jsxs(ls,{children:[n.jsxs(It,{children:["#",w+1]}),n.jsx(It,{children:S?.name||E.skillId}),n.jsx(It,{children:S&&n.jsx(le,{className:Cv[S.rarity],children:S.rarity})}),n.jsx(It,{children:new Date(E.createdAt).toLocaleDateString()}),n.jsx(It,{children:n.jsx(I,{variant:"ghost",size:"icon",onClick:()=>N(E.id),"data-testid":`button-remove-${E.id}`,children:n.jsx(ba,{className:"w-4 h-4 text-destructive"})})})]},E.id)})})]})})]})]})}function SR(){const[,e]=Un(),{account:t,logout:s}=Wn(),{toast:i}=Qn(),[l,c]=x.useState("items"),[u,f]=x.useState("all"),[h,p]=x.useState(""),[v,b]=x.useState(""),[N,_]=x.useState(null),[E,w]=x.useState(""),[S,k]=x.useState(null),[C,R]=x.useState({gold:0,rubies:0,soulShards:0,focusedShards:0,trainingPoints:0,petExp:0,runes:0,pets:[],rank:"Novice",wins:0,losses:0,Str:10,Spd:10,Int:10,Luck:10,Pot:0}),[P,O]=x.useState(null),{data:G=[],isLoading:q}=lt({queryKey:["/api/events",P?.id,"registrations"],queryFn:async()=>{if(!P)return[];const y=await fetch(`/api/events/${P.id}/registrations`);if(!y.ok)throw new Error("Failed to fetch registrations");return y.json()},enabled:!!P}),{data:X=[],isLoading:se}=lt({queryKey:["/api/accounts"]}),{data:de=[],isLoading:xe}=lt({queryKey:["/api/events"]}),{data:oe=[],isLoading:K}=lt({queryKey:["/api/admin/challenges"]}),{data:$=[],isLoading:me}=lt({queryKey:["/api/admin/guild-battles"]}),{data:B=[],isLoading:Y}=lt({queryKey:["/api/admin/pets"]}),[T,U]=x.useState(""),[W,L]=x.useState("all"),[H,_e]=x.useState("all"),[Ee,$e]=x.useState(!1),[Be,ae]=x.useState(null),[ue,Fe]=x.useState({accountId:"",name:"",element:"Fire",elements:["Fire"],tier:"egg",exp:0,stats:{Str:1,Spd:1,Luck:1,ElementalPower:1}}),[Se,Ke]=x.useState({name:"",element:"Fire",elements:["Fire"],tier:"egg",exp:0,stats:{Str:1,Spd:1,Luck:1,ElementalPower:1}}),[dt,xt]=x.useState(!1),[Je,sn]=x.useState({name:"",description:"",startDate:"",endDate:"",isMandatory:!1}),{data:Dn=[],isLoading:lr}=lt({queryKey:["/api/admin/quests"]}),{data:F=[],isLoading:Ue}=lt({queryKey:["/api/admin/guilds",t?.id],queryFn:async()=>{if(!t)return[];const y=await fetch(`/api/admin/guilds?adminId=${t.id}`);if(!y.ok)throw new Error("Failed to fetch guilds");return y.json()},enabled:!!t}),[Ie,an]=x.useState(null),[Hn,Aa]=x.useState(""),Mi=x.useMemo(()=>F.filter(y=>y.name.toLowerCase().includes(Hn.toLowerCase())||y.masterName.toLowerCase().includes(Hn.toLowerCase())),[F,Hn]),[ml,aa]=x.useState(!1),[Gr,Kr]=x.useState(null),[pn,Ir]=x.useState({title:"",description:"",rewards:{gold:0,rubies:0,soulShards:0,focusedShards:0,trainingPoints:0,runes:0,petExp:0}});x.useEffect(()=>{if(!t||t.role!=="admin"){e("/");return}const y=new EventSource(`/api/admin/events?adminId=${t.id}`);return y.addEventListener("newPlayer",Z=>{const ke=JSON.parse(Z.data);ce.setQueryData(["/api/accounts"],it=>it?it.find(on=>on.id===ke.id)?it:[...it,ke]:[ke]),i({title:"New player registered!",description:`${ke.username} has joined the server.`})}),y.addEventListener("playerUpdate",Z=>{const ke=JSON.parse(Z.data);ce.setQueryData(["/api/accounts"],it=>it?it.map(on=>on.id===ke.id?ke:on):[ke])}),y.addEventListener("challengeAccepted",Z=>{const ke=JSON.parse(Z.data);i({title:"Challenge Accepted!",description:ke.message}),ce.invalidateQueries({queryKey:["/api/admin/challenges"]})}),y.addEventListener("challengeCompleted",Z=>{const ke=JSON.parse(Z.data);i({title:"Challenge Completed!",description:ke.message}),ce.invalidateQueries({queryKey:["/api/admin/challenges"]}),ce.invalidateQueries({queryKey:["/api/accounts"]})}),y.addEventListener("petCreated",()=>{ce.invalidateQueries({queryKey:["/api/admin/pets"]})}),y.addEventListener("petUpdated",()=>{ce.invalidateQueries({queryKey:["/api/admin/pets"]})}),y.addEventListener("petDeleted",()=>{ce.invalidateQueries({queryKey:["/api/admin/pets"]})}),y.onerror=()=>{y.close()},()=>{y.close()}},[t,i]);const ps=x.useMemo(()=>Na.filter(y=>!(u!=="all"&&y.tier!==u||h&&!y.name.toLowerCase().includes(h.toLowerCase()))),[u,h]),Fd=y=>{const ke={...y.stats||{Str:10,Spd:10,Int:10,Luck:10,Pot:0}};return y.equipped&&Object.values(y.equipped).forEach(it=>{if(it){const on=Do(it);on&&Object.entries(on.stats).forEach(([xs,xl])=>{xl&&xs in ke&&(ke[xs]+=xl)})}}),ke},ia=x.useMemo(()=>X.filter(y=>!(v&&!y.username.toLowerCase().includes(v.toLowerCase()))),[X,v]),La=x.useMemo(()=>B.filter(y=>{if(W!=="all"&&y.tier!==W||H!=="all"&&!(y.elements||[y.element]).includes(H))return!1;if(T){const Z=T.toLowerCase();if(!y.name.toLowerCase().includes(Z)&&!y.ownerName.toLowerCase().includes(Z))return!1}return!0}),[B,W,H,T]),zd=async()=>{if(!ue.accountId||!ue.name.trim()){i({title:"Missing Information",description:"Please select a player and enter a pet name.",variant:"destructive"});return}try{await he("POST","/api/admin/pets",ue),i({title:"Pet Created!",description:`${ue.name} has been given to the player.`}),ce.invalidateQueries({queryKey:["/api/admin/pets"]}),$e(!1),Fe({accountId:"",name:"",element:"Fire",elements:["Fire"],tier:"egg",exp:0,stats:{Str:1,Spd:1,Luck:1,ElementalPower:1}})}catch{i({title:"Failed to create pet",description:"Server error occurred.",variant:"destructive"})}},Oi=y=>{ae(y),Ke({name:y.name,element:y.element,elements:y.elements||[y.element],tier:y.tier,exp:y.exp,stats:y.stats})},Fi=async()=>{if(Be)try{await he("PATCH",`/api/admin/pets/${Be.id}`,Se),i({title:"Pet Updated!",description:`${Se.name} has been saved.`}),ce.invalidateQueries({queryKey:["/api/admin/pets"]}),ae(null)}catch{i({title:"Failed to update pet",description:"Server error occurred.",variant:"destructive"})}},zi=async y=>{if(window.confirm(`Are you sure you want to delete ${y.name}? This action cannot be undone.`))try{await he("DELETE",`/api/admin/pets/${y.id}`),i({title:"Pet Deleted",description:`${y.name} has been removed.`}),ce.invalidateQueries({queryKey:["/api/admin/pets"]})}catch{i({title:"Failed to delete pet",description:"Server error occurred.",variant:"destructive"})}},$i=async()=>{if(!pn.title.trim()||!pn.description.trim()){i({title:"Missing fields",description:"Title and description are required.",variant:"destructive"});return}try{await he("POST","/api/admin/quests",{title:pn.title,description:pn.description,rewards:pn.rewards,createdBy:t.id}),i({title:"Quest Created!",description:`${pn.title} has been created.`}),ce.invalidateQueries({queryKey:["/api/admin/quests"]}),aa(!1),Ir({title:"",description:"",rewards:{gold:0,rubies:0,soulShards:0,focusedShards:0,trainingPoints:0,runes:0,petExp:0}})}catch{i({title:"Failed to create quest",description:"Server error occurred.",variant:"destructive"})}},Bi=async y=>{if(window.confirm(`Are you sure you want to delete "${y.title}"? This action cannot be undone.`))try{await he("DELETE",`/api/admin/quests/${y.id}`),i({title:"Quest Deleted",description:`${y.title} has been removed.`}),ce.invalidateQueries({queryKey:["/api/admin/quests"]})}catch{i({title:"Failed to delete quest",description:"Server error occurred.",variant:"destructive"})}},hs=async(y,Z)=>{try{await he("POST",`/api/admin/quests/${y}/assign`,{accountId:Z}),i({title:"Quest Assigned!",description:"The quest has been assigned to the player."}),ce.invalidateQueries({queryKey:["/api/admin/quests"]}),Kr(null)}catch(ke){i({title:"Failed to assign quest",description:ke?.message||"Server error occurred.",variant:"destructive"})}},gs=async(y,Z)=>{try{await he("POST",`/api/admin/quests/${y}/complete/${Z}`),i({title:"Quest Completed!",description:"The player has received their rewards."}),ce.invalidateQueries({queryKey:["/api/admin/quests"]}),ce.invalidateQueries({queryKey:["/api/accounts"]})}catch{i({title:"Failed to complete quest",description:"Server error occurred.",variant:"destructive"})}},Da={Fire:"text-red-500",Water:"text-blue-500",Earth:"text-amber-700",Air:"text-cyan-300",Lightning:"text-yellow-400",Ice:"text-sky-300",Nature:"text-green-500",Dark:"text-purple-900",Light:"text-yellow-200",Arcana:"text-violet-500",Chrono:"text-indigo-400",Plasma:"text-pink-500",Void:"text-gray-600",Aether:"text-teal-300",Hybrid:"text-orange-500","Elemental Convergence":"text-transparent bg-clip-text bg-gradient-to-r from-red-500 via-blue-500 to-green-500",Time:"text-amber-400",Space:"text-indigo-600"},Vi=(y,Z,ke)=>{Z.includes(y)?Z.length>1&&ke(Z.filter(it=>it!==y)):ke([...Z,y])},pl={egg:"bg-gray-500/20 text-gray-400 border-gray-500/30",baby:"bg-green-500/20 text-green-400 border-green-500/30",teen:"bg-blue-500/20 text-blue-400 border-blue-500/30",adult:"bg-purple-500/20 text-purple-400 border-purple-500/30",legend:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",mythic:"bg-pink-500/20 text-pink-400 border-pink-500/30"},hl=async()=>{if(!(!N||!E.trim()))try{await he("POST","/api/admin/give-item",{playerUsername:E.trim(),itemId:N.id}),i({title:"Item granted!",description:`${N.name} has been given to ${E.trim()}.`}),ce.invalidateQueries({queryKey:["/api/accounts"]}),_(null),w("")}catch{i({title:"Failed to give item",description:"Player not found or server error.",variant:"destructive"})}},gl=y=>{k(y),R({gold:y.gold,rubies:y.rubies??0,soulShards:y.soulShards??0,focusedShards:y.focusedShards??0,trainingPoints:y.trainingPoints??0,petExp:y.petExp??0,runes:y.runes??0,pets:y.pets??[],rank:y.rank,wins:y.wins,losses:y.losses,Str:y.stats?.Str??10,Spd:y.stats?.Spd??10,Int:y.stats?.Int??10,Luck:y.stats?.Luck??10,Pot:y.stats?.Pot??0})},qi=y=>{const Z={Str:0,Spd:0,Int:0,Luck:0,Pot:0};return y.equipped&&Object.values(y.equipped).forEach(ke=>{if(ke){const it=Na.find(on=>on.id===ke);it&&Object.entries(it.stats).forEach(([on,xs])=>{xs&&on in Z&&(Z[on]+=xs)})}}),Z},[Ma,oa]=x.useState(1),Oa=(y,Z)=>{R(ke=>({...ke,[y]:Math.max(0,ke[y]+Z*Ma)}))},_n=(y,Z)=>{R(ke=>{const on=(ke[y]||0)+Z*Ma;return{...ke,[y]:Math.max(0,on)}})},$d=async()=>{if(!S)return;qi(S);const y=["Str","Spd","Int","Luck","Pot"];for(const Z of y)if(C[Z]<0){i({title:"Invalid Stat",description:`${Z} cannot be less than 0`,variant:"destructive"});return}try{await he("PATCH",`/api/accounts/${S.id}`,{gold:C.gold,rubies:C.rubies,soulShards:C.soulShards,focusedShards:C.focusedShards,trainingPoints:C.trainingPoints,petExp:C.petExp,runes:C.runes,pets:C.pets,rank:C.rank,wins:C.wins,losses:C.losses,stats:{Str:C.Str,Spd:C.Spd,Int:C.Int,Luck:C.Luck,Pot:C.Pot}}),i({title:"Player updated!",description:`${S.username}'s data has been saved.`}),ce.invalidateQueries({queryKey:["/api/accounts"]}),k(null)}catch{i({title:"Failed to update player",description:"Server error occurred.",variant:"destructive"})}},la=async y=>{if(window.confirm(`Are you sure you want to delete player "${y.username}"? This action cannot be undone.`))try{await he("DELETE",`/api/accounts/${y.id}`),i({title:"Player deleted",description:`Account "${y.username}" has been removed.`}),ce.invalidateQueries({queryKey:["/api/accounts"]})}catch{i({title:"Failed to delete player",description:"Server error occurred.",variant:"destructive"})}},Fa=()=>{s(),e("/")},za=async()=>{if(!Je.name.trim()||!Je.description.trim()||!Je.startDate){i({title:"Missing fields",description:"Please fill in all required fields.",variant:"destructive"});return}try{await he("POST","/api/admin/events",{name:Je.name.trim(),description:Je.description.trim(),startDate:new Date(Je.startDate),endDate:Je.endDate?new Date(Je.endDate):null,isMandatory:Je.isMandatory,createdBy:t.id}),i({title:"Event created!",description:Je.isMandatory?`${Je.name} created and all players have been auto-registered.`:`${Je.name} has been created.`}),ce.invalidateQueries({queryKey:["/api/events"]}),xt(!1),sn({name:"",description:"",startDate:"",endDate:"",isMandatory:!1})}catch{i({title:"Failed to create event",description:"Server error occurred.",variant:"destructive"})}},Ui=async y=>{if(window.confirm(`Are you sure you want to delete "${y.name}"? This will also remove all registrations.`))try{await he("DELETE",`/api/admin/events/${y.id}`),i({title:"Event deleted",description:`${y.name} has been removed.`}),ce.invalidateQueries({queryKey:["/api/events"]})}catch{i({title:"Failed to delete event",description:"Server error occurred.",variant:"destructive"})}};return!t||t.role!=="admin"?(e("/"),null):n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsx("div",{className:"container mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ds,{className:"w-6 h-6 text-tier-x"}),n.jsx("h1",{className:"font-serif text-xl font-bold text-foreground","data-testid":"text-admin-title",children:"Admin Panel"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":"text-admin-username",children:["Admin: ",t.username]})}),n.jsx(I,{variant:"outline",size:"icon",onClick:Fa,"data-testid":"button-admin-logout",children:n.jsx(ar,{className:"w-4 h-4"})})]})]})})}),n.jsx("main",{className:"container mx-auto px-4 py-6",children:n.jsxs(Rd,{value:l,onValueChange:c,children:[n.jsxs(ul,{className:"mb-6",children:[n.jsxs(Xt,{value:"items",className:"gap-2",children:[n.jsx(is,{className:"w-4 h-4"}),"Items"]}),n.jsxs(Xt,{value:"players",className:"gap-2",children:[n.jsx(Qs,{className:"w-4 h-4"}),"Players"]}),n.jsxs(Xt,{value:"events",className:"gap-2",children:[n.jsx(en,{className:"w-4 h-4"}),"Events"]}),n.jsxs(Xt,{value:"challenges",className:"gap-2",children:[n.jsx(St,{className:"w-4 h-4"}),"Challenges",oe.length>0&&n.jsx(le,{variant:"destructive",className:"ml-1 h-5 px-1.5 text-xs",children:oe.length})]}),n.jsxs(Xt,{value:"pets",className:"gap-2",children:[n.jsx(Wc,{className:"w-4 h-4"}),"Pets"]}),n.jsxs(Xt,{value:"quests",className:"gap-2",children:[n.jsx(Ht,{className:"w-4 h-4"}),"Quests"]}),n.jsxs(Xt,{value:"guilds",className:"gap-2",children:[n.jsx(Bo,{className:"w-4 h-4"}),"Guilds"]}),n.jsxs(Xt,{value:"guild_battles",className:"gap-2",children:[n.jsx(tn,{className:"w-4 h-4"}),"Guild Battles"]}),n.jsxs(Xt,{value:"leaderboards",className:"gap-2",children:[n.jsx(yt,{className:"w-4 h-4"}),"Leaderboards"]}),n.jsxs(Xt,{value:"auctions",className:"gap-2",children:[n.jsx(mi,{className:"w-4 h-4"}),"Auctions"]})]}),n.jsxs(Jt,{value:"items",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"font-serif text-lg font-semibold mb-4",children:"Item Management"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative max-w-md",children:[n.jsx(To,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(tt,{type:"search",placeholder:"Search items...",value:h,onChange:y=>p(y.target.value),className:"pl-9","data-testid":"input-admin-search"})]}),n.jsx(Y0,{selectedTier:u,onSelectTier:f})]})]}),n.jsx("div",{className:"mb-4",children:n.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":"text-admin-item-count",children:["Showing ",ps.length," of ",Na.length," items"]})}),n.jsx("div",{className:"border rounded-md",children:n.jsxs(Oo,{children:[n.jsx(Fo,{children:n.jsxs(ls,{children:[n.jsx(Tt,{className:"w-12",children:"Type"}),n.jsx(Tt,{children:"Name"}),n.jsx(Tt,{children:"Tier"}),n.jsx(Tt,{children:"Stats"}),n.jsx(Tt,{children:"Special"}),n.jsx(Tt,{className:"text-right",children:"Price"}),n.jsx(Tt,{className:"w-24",children:"Actions"})]})}),n.jsx(zo,{children:ps.map(y=>n.jsxs(ls,{"data-testid":`row-item-${y.id}`,children:[n.jsx(It,{children:n.jsx(kv,{type:y.type})}),n.jsx(It,{className:"font-medium font-serif","data-testid":`text-admin-item-name-${y.id}`,children:y.name}),n.jsx(It,{children:n.jsx(le,{variant:"outline",className:we("text-xs",jR[y.tier]),children:sp[y.tier]})}),n.jsx(It,{children:n.jsx("div",{className:"flex flex-wrap gap-1 text-xs font-mono",children:Object.entries(y.stats).map(([Z,ke])=>ke?n.jsxs("span",{className:"text-muted-foreground",children:[Z,":",ke]},Z):null)})}),n.jsx(It,{children:y.special&&n.jsx(le,{variant:"secondary",className:"text-xs",children:y.special})}),n.jsx(It,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-1",children:[n.jsx(rr,{className:"w-3.5 h-3.5 text-primary"}),n.jsx("span",{className:"font-mono text-sm",children:y.price.toLocaleString()})]})}),n.jsx(It,{children:n.jsxs(I,{size:"sm",variant:"outline",onClick:()=>_(y),"data-testid":`button-give-item-${y.id}`,children:[n.jsx(is,{className:"w-3.5 h-3.5 mr-1"}),"Give"]})})]},y.id))})]})})]}),n.jsxs(Jt,{value:"players",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"font-serif text-lg font-semibold mb-4",children:"Player Management"}),n.jsxs("div",{className:"relative max-w-md",children:[n.jsx(To,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(tt,{type:"search",placeholder:"Search players...",value:v,onChange:y=>b(y.target.value),className:"pl-9","data-testid":"input-player-search"})]})]}),n.jsx("div",{className:"mb-4",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:[ia.length," player",ia.length!==1?"s":""," registered"]})}),se?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading players..."}):ia.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No players found"}):n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:ia.map(y=>n.jsxs(Te,{"data-testid":`card-player-${y.id}`,children:[n.jsx(He,{className:"pb-2",children:n.jsxs(We,{className:"font-serif text-base flex items-center justify-between gap-2",children:[n.jsx("span",{children:y.username}),n.jsx(le,{variant:"secondary",children:y.rank})]})}),n.jsxs(Le,{className:"space-y-3",children:[(()=>{const Z=Fd(y);return n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(rr,{className:"w-4 h-4 text-primary"}),n.jsx("span",{className:"font-mono",children:y.gold.toLocaleString()})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(yt,{className:"w-4 h-4 text-tier-x"}),n.jsxs("span",{className:"font-mono text-green-500",children:[y.wins,"W"]}),n.jsx("span",{children:"/"}),n.jsxs("span",{className:"font-mono text-red-500",children:[y.losses,"L"]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Ht,{className:"w-4 h-4 text-purple-500"}),n.jsxs("span",{className:"font-mono text-sm",children:["F",y.npcFloor??1,":",y.npcLevel??1]})]}),n.jsxs("div",{className:"col-span-2 grid grid-cols-4 gap-1 mt-1",children:[n.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-stat-str/10 border border-stat-str/20",children:[n.jsx("span",{className:"text-[10px] text-muted-foreground uppercase",children:"Str"}),n.jsx("span",{className:"font-mono font-bold text-stat-str",children:Z.Str})]}),n.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-stat-spd/10 border border-stat-spd/20",children:[n.jsx("span",{className:"text-[10px] text-muted-foreground uppercase",children:"Spd"}),n.jsx("span",{className:"font-mono font-bold text-stat-spd",children:Z.Spd})]}),n.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-stat-int/10 border border-stat-int/20",children:[n.jsx("span",{className:"text-[10px] text-muted-foreground uppercase",children:"Int"}),n.jsx("span",{className:"font-mono font-bold text-stat-int",children:Z.Int})]}),n.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-stat-luck/10 border border-stat-luck/20",children:[n.jsx("span",{className:"text-[10px] text-muted-foreground uppercase",children:"Luck"}),n.jsx("span",{className:"font-mono font-bold text-stat-luck",children:Z.Luck})]})]})]})})(),n.jsx("div",{className:"flex flex-wrap gap-1",children:n.jsxs(le,{variant:"outline",className:"text-[10px] py-0 h-4",children:["Base Stats: ",y.stats?.Str,"/",y.stats?.Spd,"/",y.stats?.Int,"/",y.stats?.Luck]})}),y.equipped&&n.jsxs("div",{className:"space-y-1.5 border-t pt-2",children:[n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Equipped"}),n.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:Object.entries(y.equipped).map(([Z,ke])=>{if(!ke)return null;const it=Do(ke);return it?n.jsxs("div",{className:"flex items-center gap-1.5 p-1 rounded bg-secondary/30 border border-border/50",children:[n.jsx(kv,{type:it.type}),n.jsx("span",{className:"text-[10px] truncate font-medium",children:it.name})]},Z):null})})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(I,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>gl(y),"data-testid":`button-edit-player-${y.id}`,children:[n.jsx(Ix,{className:"w-3.5 h-3.5 mr-1"}),"Edit"]}),n.jsx(I,{size:"sm",variant:"outline",className:"px-3 text-destructive hover:bg-destructive/10",onClick:()=>la(y),"data-testid":`button-delete-player-${y.id}`,children:n.jsx(ba,{className:"w-3.5 h-3.5"})})]})]})]},y.id))})]}),n.jsxs(Jt,{value:"events",children:[n.jsxs("div",{className:"mb-6 flex items-center justify-between gap-4",children:[n.jsx("h2",{className:"font-serif text-lg font-semibold",children:"Event Management"}),n.jsxs(I,{onClick:()=>xt(!0),"data-testid":"button-create-event",children:[n.jsx(nr,{className:"w-4 h-4 mr-2"}),"Create Event"]})]}),xe?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading events..."}):de.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No events created yet"}):n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:de.map(y=>n.jsxs(Te,{"data-testid":`card-event-${y.id}`,children:[n.jsx(He,{className:"pb-2",children:n.jsxs(We,{className:"font-serif text-base flex items-center justify-between gap-2",children:[n.jsx("span",{children:y.name}),y.isMandatory&&n.jsxs(le,{variant:"destructive",className:"text-[10px]",children:[n.jsx(um,{className:"w-3 h-3 mr-1"}),"Mandatory"]})]})}),n.jsxs(Le,{className:"space-y-3",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:y.description}),n.jsxs("div",{className:"text-xs space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(en,{className:"w-3 h-3"}),n.jsxs("span",{children:["Start: ",new Date(y.startDate).toLocaleDateString()]})]}),y.endDate&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(en,{className:"w-3 h-3"}),n.jsxs("span",{children:["End: ",new Date(y.endDate).toLocaleDateString()]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(I,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>O(y),"data-testid":`button-view-registrations-${y.id}`,children:[n.jsx(Qs,{className:"w-3.5 h-3.5 mr-1"}),"Registrations"]}),n.jsx(I,{size:"sm",variant:"outline",className:"px-3 text-destructive hover:bg-destructive/10",onClick:()=>Ui(y),"data-testid":`button-delete-event-${y.id}`,children:n.jsx(ba,{className:"w-3.5 h-3.5"})})]})]})]},y.id))})]}),n.jsxs(Jt,{value:"challenges",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"font-serif text-lg font-semibold mb-4",children:"Challenge Management"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Select winners for accepted challenges. The winner gains a win and the loser gains a loss."})]}),K?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading challenges..."}):oe.length===0?n.jsx(Te,{className:"text-center py-8",children:n.jsxs(Le,{className:"pt-6",children:[n.jsx(St,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"font-serif text-lg font-bold text-foreground mb-2",children:"No Pending Challenges"}),n.jsx("p",{className:"text-muted-foreground",children:"When players accept challenges, they will appear here for you to select a winner."})]})}):n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:oe.map(y=>n.jsxs(Te,{className:"border-yellow-500/50","data-testid":`card-challenge-${y.id}`,children:[n.jsx(He,{className:"pb-2",children:n.jsxs(We,{className:"font-serif text-base flex items-center gap-2",children:[n.jsx(St,{className:"w-4 h-4 text-yellow-500"}),"Match in Progress"]})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"text-center flex-1",children:[n.jsxs("div",{className:"flex items-center justify-center gap-1.5",children:[n.jsx("span",{className:`w-2 h-2 rounded-full ${y.challengerOnline?"bg-green-500":"bg-muted-foreground/50"}`}),n.jsx("p",{className:"font-medium",children:y.challengerName})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Challenger"}),y.challengerStrength!==void 0&&n.jsxs(le,{variant:"outline",className:"mt-1 text-xs border-yellow-500 text-yellow-500",children:["STR: ",y.challengerStrength.toLocaleString()]}),y.challengerPet&&n.jsx("p",{className:"text-xs text-purple-400 mt-1",children:y.challengerPet.name})]}),n.jsx("span",{className:"text-muted-foreground px-2",children:"vs"}),n.jsxs("div",{className:"text-center flex-1",children:[n.jsxs("div",{className:"flex items-center justify-center gap-1.5",children:[n.jsx("span",{className:`w-2 h-2 rounded-full ${y.challengedOnline?"bg-green-500":"bg-muted-foreground/50"}`}),n.jsx("p",{className:"font-medium",children:y.challengedName})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Challenged"}),y.challengedStrength!==void 0&&n.jsxs(le,{variant:"outline",className:"mt-1 text-xs border-yellow-500 text-yellow-500",children:["STR: ",y.challengedStrength.toLocaleString()]}),y.challengedPet&&n.jsx("p",{className:"text-xs text-purple-400 mt-1",children:y.challengedPet.name})]})]}),n.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:["Accepted: ",y.acceptedAt?new Date(y.acceptedAt).toLocaleString():"N/A"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(I,{size:"sm",className:"flex-1",onClick:async()=>{try{await he("PATCH",`/api/admin/challenges/${y.id}/winner`,{winnerId:y.challengerId}),i({title:"Winner Selected",description:`${y.challengerName} wins!`}),ce.invalidateQueries({queryKey:["/api/admin/challenges"]}),ce.invalidateQueries({queryKey:["/api/accounts"]})}catch{i({title:"Failed to set winner",description:"Server error occurred.",variant:"destructive"})}},"data-testid":`button-winner-challenger-${y.id}`,children:[n.jsx(yt,{className:"w-3.5 h-3.5 mr-1"}),y.challengerName," Wins"]}),n.jsxs(I,{size:"sm",className:"flex-1",onClick:async()=>{try{await he("PATCH",`/api/admin/challenges/${y.id}/winner`,{winnerId:y.challengedId}),i({title:"Winner Selected",description:`${y.challengedName} wins!`}),ce.invalidateQueries({queryKey:["/api/admin/challenges"]}),ce.invalidateQueries({queryKey:["/api/accounts"]})}catch{i({title:"Failed to set winner",description:"Server error occurred.",variant:"destructive"})}},"data-testid":`button-winner-challenged-${y.id}`,children:[n.jsx(yt,{className:"w-3.5 h-3.5 mr-1"}),y.challengedName," Wins"]})]})]})]},y.id))})]}),n.jsxs(Jt,{value:"guild_battles",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"font-serif text-lg font-semibold mb-4",children:"Guild Battle Management"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Tournament-style guild battles. Winner stays, loser's team advances to next fighter. Most points wins!"})]}),me?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading guild battles..."}):$.length===0?n.jsx(Te,{className:"text-center py-8",children:n.jsxs(Le,{className:"pt-6",children:[n.jsx(tn,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"font-serif text-lg font-bold text-foreground mb-2",children:"No Active Guild Battles"}),n.jsx("p",{className:"text-muted-foreground",children:"When guilds accept battle challenges, they will appear here for you to judge."})]})}):n.jsx("div",{className:"space-y-6",children:$.map(y=>n.jsxs(Te,{className:"border-orange-500/50","data-testid":`card-guild-battle-${y.id}`,children:[n.jsx(He,{className:"pb-2",children:n.jsxs(We,{className:"font-serif text-base flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(tn,{className:"w-4 h-4 text-orange-500"}),"Guild Battle - Round ",y.currentRound+1]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(le,{variant:"secondary",children:[y.challengerGuildName,": ",y.challengerScore]}),n.jsx("span",{className:"text-muted-foreground",children:"vs"}),n.jsxs(le,{variant:"secondary",children:[y.challengedGuildName,": ",y.challengedScore]})]})]})}),n.jsxs(Le,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-sm font-medium text-center",children:[y.challengerGuildName," Fighters"]}),n.jsx("div",{className:"space-y-1",children:y.allChallengerFighters?.map((Z,ke)=>n.jsxs("div",{className:`p-2 rounded border text-sm ${ke===y.challengerCurrentIndex?"bg-yellow-500/20 border-yellow-500":ke<y.challengerCurrentIndex?"opacity-40 line-through":"border-border"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"font-medium",children:[ke+1,". ",Z.username]}),n.jsx(le,{variant:"outline",className:"text-xs border-yellow-500 text-yellow-500",children:Z.strength.toLocaleString()})]}),Z.pet&&n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Pet: ",Z.pet.name," (",Z.pet.tier,")"]})]},Z.id))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-sm font-medium text-center",children:[y.challengedGuildName," Fighters"]}),n.jsx("div",{className:"space-y-1",children:y.allChallengedFighters?.map((Z,ke)=>n.jsxs("div",{className:`p-2 rounded border text-sm ${ke===y.challengedCurrentIndex?"bg-yellow-500/20 border-yellow-500":ke<y.challengedCurrentIndex?"opacity-40 line-through":"border-border"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"font-medium",children:[ke+1,". ",Z.username]}),n.jsx(le,{variant:"outline",className:"text-xs border-yellow-500 text-yellow-500",children:Z.strength.toLocaleString()})]}),Z.pet&&n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Pet: ",Z.pet.name," (",Z.pet.tier,")"]})]},Z.id))})]})]}),y.currentFighters.challenger&&y.currentFighters.challenged&&n.jsxs("div",{className:"p-4 rounded-lg bg-orange-500/10 border border-orange-500/30",children:[n.jsx("p",{className:"text-sm font-medium mb-3 text-center text-orange-400",children:"Current Fight"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("p",{className:"font-bold text-lg",children:y.currentFighters.challenger.username}),n.jsxs(le,{className:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",children:["STR: ",y.currentFighters.challenger.strength.toLocaleString()]}),y.currentFighters.challenger.pet&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:y.currentFighters.challenger.pet.name})]}),n.jsx("div",{className:"px-4",children:n.jsx(St,{className:"w-6 h-6 text-orange-500"})}),n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("p",{className:"font-bold text-lg",children:y.currentFighters.challenged.username}),n.jsxs(le,{className:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",children:["STR: ",y.currentFighters.challenged.strength.toLocaleString()]}),y.currentFighters.challenged.pet&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:y.currentFighters.challenged.pet.name})]})]}),n.jsxs("div",{className:"flex gap-3 mt-4",children:[n.jsxs(I,{className:"flex-1 bg-green-600 hover:bg-green-700",onClick:async()=>{try{await he("PATCH",`/api/admin/guild-battles/${y.id}/round-winner`,{winnerId:y.currentFighters.challenger.id}),i({title:"Round Winner",description:`${y.currentFighters.challenger.username} wins! ${y.challengedGuildName} advances next fighter.`}),ce.invalidateQueries({queryKey:["/api/admin/guild-battles"]})}catch(Z){const ke=await Z.json?.().catch(()=>({}));i({title:"Failed to set winner",description:ke.error||"Server error occurred.",variant:"destructive"})}},"data-testid":`button-guild-winner-challenger-${y.id}`,children:[n.jsx(yt,{className:"w-4 h-4 mr-2"}),y.currentFighters.challenger.username," Wins"]}),n.jsxs(I,{className:"flex-1 bg-green-600 hover:bg-green-700",onClick:async()=>{try{await he("PATCH",`/api/admin/guild-battles/${y.id}/round-winner`,{winnerId:y.currentFighters.challenged.id}),i({title:"Round Winner",description:`${y.currentFighters.challenged.username} wins! ${y.challengerGuildName} advances next fighter.`}),ce.invalidateQueries({queryKey:["/api/admin/guild-battles"]})}catch(Z){const ke=await Z.json?.().catch(()=>({}));i({title:"Failed to set winner",description:ke.error||"Server error occurred.",variant:"destructive"})}},"data-testid":`button-guild-winner-challenged-${y.id}`,children:[n.jsx(yt,{className:"w-4 h-4 mr-2"}),y.currentFighters.challenged.username," Wins"]})]})]})]})]},y.id))})]}),n.jsxs(Jt,{value:"pets",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"font-serif text-lg font-semibold",children:"Pet Management"}),n.jsxs(I,{onClick:()=>$e(!0),"data-testid":"button-create-pet",children:[n.jsx(nr,{className:"w-4 h-4 mr-2"}),"Add Pet"]})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[n.jsxs("div",{className:"relative max-w-xs",children:[n.jsx(To,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(tt,{type:"search",placeholder:"Search pets or owners...",value:T,onChange:y=>U(y.target.value),className:"pl-9","data-testid":"input-pet-search"})]}),n.jsxs(Or,{value:W,onValueChange:y=>L(y),children:[n.jsx(yr,{className:"w-32","data-testid":"select-pet-tier",children:n.jsx(Fr,{placeholder:"Tier"})}),n.jsxs(wr,{children:[n.jsx(yn,{value:"all",children:"All Tiers"}),$c.map(y=>n.jsx(yn,{value:y,children:y.charAt(0).toUpperCase()+y.slice(1)},y))]})]}),n.jsxs(Or,{value:H,onValueChange:y=>_e(y),children:[n.jsx(yr,{className:"w-40","data-testid":"select-pet-element",children:n.jsx(Fr,{placeholder:"Element"})}),n.jsxs(wr,{children:[n.jsx(yn,{value:"all",children:"All Elements"}),Bf.map(y=>n.jsx(yn,{value:y,children:y},y))]})]})]})]}),n.jsx("div",{className:"mb-4",children:n.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":"text-pet-count",children:["Showing ",La.length," of ",B.length," pets"]})}),Y?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading pets..."}):La.length===0?n.jsx(Te,{className:"text-center py-8",children:n.jsxs(Le,{className:"pt-6",children:[n.jsx(Wc,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"font-serif text-lg font-bold text-foreground mb-2",children:"No Pets Found"}),n.jsx("p",{className:"text-muted-foreground",children:B.length===0?"No pets have been created yet. Add a pet to a player to get started.":"No pets match your search criteria."})]})}):n.jsx("div",{className:"border rounded-md",children:n.jsxs(Oo,{children:[n.jsx(Fo,{children:n.jsxs(ls,{children:[n.jsx(Tt,{children:"Name"}),n.jsx(Tt,{children:"Owner"}),n.jsx(Tt,{children:"Element"}),n.jsx(Tt,{children:"Tier"}),n.jsx(Tt,{children:"EXP"}),n.jsx(Tt,{children:"Stats"}),n.jsx(Tt,{className:"w-28",children:"Actions"})]})}),n.jsx(zo,{children:La.map(y=>n.jsxs(ls,{"data-testid":`row-pet-${y.id}`,children:[n.jsx(It,{className:"font-medium font-serif",children:y.name}),n.jsx(It,{children:y.ownerName}),n.jsx(It,{children:n.jsx("span",{className:we("font-medium",Da[y.element]||"text-foreground"),children:y.element})}),n.jsx(It,{children:n.jsx(le,{variant:"outline",className:we("text-xs",pl[y.tier]),children:y.tier.charAt(0).toUpperCase()+y.tier.slice(1)})}),n.jsx(It,{className:"font-mono text-sm",children:y.exp}),n.jsx(It,{children:n.jsx("div",{className:"flex flex-wrap gap-1 text-xs font-mono",children:y.stats&&Object.entries(y.stats).map(([Z,ke])=>n.jsxs("span",{className:"text-muted-foreground",children:[Z,":",ke]},Z))})}),n.jsx(It,{children:n.jsxs("div",{className:"flex gap-1",children:[n.jsx(I,{size:"icon",variant:"outline",onClick:()=>Oi(y),"data-testid":`button-edit-pet-${y.id}`,children:n.jsx(Ix,{className:"w-3.5 h-3.5"})}),n.jsx(I,{size:"icon",variant:"outline",className:"text-destructive hover:bg-destructive/10",onClick:()=>zi(y),"data-testid":`button-delete-pet-${y.id}`,children:n.jsx(ba,{className:"w-3.5 h-3.5"})})]})})]},y.id))})]})})]}),n.jsxs(Jt,{value:"quests",children:[n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"font-serif text-lg font-semibold",children:"Quest Management"}),n.jsxs(I,{onClick:()=>aa(!0),"data-testid":"button-create-quest",children:[n.jsx(nr,{className:"w-4 h-4 mr-2"}),"Create Quest"]})]})}),lr?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):Dn.length===0?n.jsx(Te,{children:n.jsxs(Le,{className:"py-12 text-center",children:[n.jsx(Ht,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"font-serif text-lg font-medium",children:"No Quests"}),n.jsx("p",{className:"text-muted-foreground mt-2",children:"Create your first quest to assign to players."})]})}):n.jsx("div",{className:"space-y-4",children:Dn.map(y=>n.jsxs(Te,{"data-testid":`card-quest-${y.id}`,children:[n.jsx(He,{className:"pb-2",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(We,{className:"font-serif",children:y.title}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:y.description})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(I,{size:"sm",variant:"outline",onClick:()=>Kr(y),"data-testid":`button-assign-quest-${y.id}`,children:[n.jsx(Qs,{className:"w-3.5 h-3.5 mr-1"}),"Assign"]}),n.jsx(I,{size:"icon",variant:"outline",className:"text-destructive hover:bg-destructive/10",onClick:()=>Bi(y),"data-testid":`button-delete-quest-${y.id}`,children:n.jsx(ba,{className:"w-3.5 h-3.5"})})]})]})}),n.jsx(Le,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Rewards:"}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[y.rewards.gold?n.jsxs(le,{variant:"outline",children:[n.jsx(rr,{className:"w-3 h-3 mr-1 text-yellow-500"}),y.rewards.gold," Gold"]}):null,y.rewards.rubies?n.jsxs(le,{variant:"outline",className:"text-red-500",children:[y.rewards.rubies," Rubies"]}):null,y.rewards.soulShards?n.jsxs(le,{variant:"outline",className:"text-purple-500",children:[y.rewards.soulShards," Soul Shards"]}):null,y.rewards.focusedShards?n.jsxs(le,{variant:"outline",className:"text-blue-500",children:[y.rewards.focusedShards," Focused Shards"]}):null,y.rewards.trainingPoints?n.jsxs(le,{variant:"outline",className:"text-green-500",children:[y.rewards.trainingPoints," Training Points"]}):null,y.rewards.runes?n.jsxs(le,{variant:"outline",className:"text-orange-500",children:[y.rewards.runes," Runes"]}):null,y.rewards.petExp?n.jsxs(le,{variant:"outline",className:"text-pink-500",children:[y.rewards.petExp," Pet Exp"]}):null]})]}),y.assignments.length>0&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Assigned Players:"}),n.jsx("div",{className:"mt-2 space-y-2",children:y.assignments.map(Z=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded-md","data-testid":`assignment-${Z.id}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:Z.playerName}),n.jsx(le,{variant:"outline",className:we("text-xs",Z.status==="pending"&&"text-yellow-500",Z.status==="accepted"&&"text-blue-500",Z.status==="completed"&&"text-green-500",Z.status==="rewarded"&&"text-purple-500"),children:Z.status})]}),Z.status==="accepted"&&n.jsxs(I,{size:"sm",onClick:()=>gs(y.id,Z.id),"data-testid":`button-complete-${Z.id}`,children:[n.jsx(cs,{className:"w-3.5 h-3.5 mr-1"}),"Mark Complete"]})]},Z.id))})]})]})})]},y.id))})]}),n.jsxs(Jt,{value:"guilds",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"font-serif text-lg font-semibold mb-4",children:"Guild Management"}),n.jsxs("div",{className:"relative max-w-md",children:[n.jsx(To,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(tt,{type:"search",placeholder:"Search guilds or leaders...",value:Hn,onChange:y=>Aa(y.target.value),className:"pl-9","data-testid":"input-admin-guild-search"})]})]}),Ue?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading guilds..."}):Mi.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No guilds found"}):n.jsx("div",{className:"space-y-4",children:Mi.map(y=>n.jsxs(Te,{"data-testid":`card-guild-${y.id}`,children:[n.jsx(He,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Bo,{className:"w-5 h-5 text-emerald-500"}),n.jsx(We,{className:"font-serif text-lg",children:y.name}),n.jsxs(le,{variant:"outline",children:[y.memberCount,"/4 members"]})]}),n.jsxs(I,{variant:"destructive",size:"sm",onClick:()=>an(y),"data-testid":`button-disband-guild-${y.id}`,children:[n.jsx(ba,{className:"w-4 h-4 mr-2"}),"Disband"]})]})}),n.jsxs(Le,{children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Leader"}),n.jsxs("p",{className:"font-medium flex items-center gap-1",children:[n.jsx(ds,{className:"w-3.5 h-3.5 text-yellow-500"}),y.masterName]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Dungeon Progress"}),n.jsxs("p",{className:"font-medium",children:["Floor ",y.dungeonFloor," - Level ",y.dungeonLevel]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Bank Gold"}),n.jsxs("p",{className:"font-medium flex items-center gap-1",children:[n.jsx(rr,{className:"w-3.5 h-3.5 text-yellow-500"}),(y.bank?.gold||0).toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Created"}),n.jsx("p",{className:"font-medium text-sm",children:new Date(y.createdAt).toLocaleDateString()})]})]}),n.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-5 gap-3 mb-4 p-3 bg-muted/30 rounded-md",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Rubies"}),n.jsx("p",{className:"font-medium text-red-400",children:(y.bank?.rubies||0).toLocaleString()})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Soul Shards"}),n.jsx("p",{className:"font-medium text-purple-400",children:(y.bank?.soulShards||0).toLocaleString()})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Focused Shards"}),n.jsx("p",{className:"font-medium text-blue-400",children:(y.bank?.focusedShards||0).toLocaleString()})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Runes"}),n.jsx("p",{className:"font-medium text-cyan-400",children:(y.bank?.runes||0).toLocaleString()})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Training Pts"}),n.jsx("p",{className:"font-medium text-green-400",children:(y.bank?.trainingPoints||0).toLocaleString()})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Members"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:y.members.map(Z=>n.jsxs(le,{variant:Z.isMaster?"default":"secondary",className:"flex items-center gap-1",children:[Z.isMaster&&n.jsx(ds,{className:"w-3 h-3"}),Z.username]},Z.accountId))})]})]})]},y.id))})]}),n.jsxs(Jt,{value:"leaderboards",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"font-serif text-lg font-semibold mb-4",children:"Leaderboard Management"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Force refresh leaderboard caches. Leaderboards auto-update every 30 minutes."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{id:"wins",label:"Wins",color:"text-yellow-500"},{id:"losses",label:"Losses",color:"text-red-500"},{id:"npc_progress",label:"NPC Tower",color:"text-purple-500"},{id:"rank",label:"Rank",color:"text-blue-500"},{id:"guild_dungeon",label:"Guild Dungeon",color:"text-emerald-500"}].map(y=>n.jsx(Te,{children:n.jsx(Le,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(yt,{className:`w-5 h-5 ${y.color}`}),n.jsx("span",{className:"font-medium",children:y.label})]}),n.jsx(I,{size:"sm",onClick:async()=>{try{await he("POST",`/api/admin/leaderboards/${y.id}/refresh`),i({title:"Leaderboard refreshed",description:`${y.label} leaderboard has been refreshed.`})}catch{i({title:"Refresh failed",description:"Failed to refresh leaderboard.",variant:"destructive"})}},"data-testid":`button-refresh-${y.id}`,children:"Refresh"})]})})},y.id))}),n.jsx("div",{className:"mt-6",children:n.jsxs(I,{onClick:async()=>{const y=["wins","losses","npc_progress","rank","guild_dungeon"];try{for(const Z of y)await he("POST",`/api/admin/leaderboards/${Z}/refresh`);i({title:"All leaderboards refreshed",description:"All leaderboard caches have been refreshed."})}catch{i({title:"Refresh failed",description:"Failed to refresh all leaderboards.",variant:"destructive"})}},"data-testid":"button-refresh-all-leaderboards",children:[n.jsx(yt,{className:"w-4 h-4 mr-2"}),"Refresh All Leaderboards"]})})]}),n.jsx(Jt,{value:"auctions",children:n.jsx(NR,{account:t,toast:i})})]})}),n.jsx(gt,{open:!!Ie,onOpenChange:y=>!y&&an(null),children:n.jsxs(mt,{className:"max-w-md",children:[n.jsxs(pt,{children:[n.jsxs(ht,{className:"font-serif flex items-center gap-2",children:[n.jsx(um,{className:"w-5 h-5 text-destructive"}),"Disband Guild"]}),n.jsxs(Nt,{children:['Are you sure you want to disband the guild "',Ie?.name,'"? This action cannot be undone. All ',Ie?.memberCount," members will be removed and the guild bank contents will be lost."]})]}),n.jsxs(Lt,{className:"gap-2",children:[n.jsx(I,{variant:"outline",onClick:()=>an(null),"data-testid":"button-cancel-disband",children:"Cancel"}),n.jsxs(I,{variant:"destructive",onClick:async()=>{if(!(!Ie||!t))try{await he("DELETE",`/api/admin/guilds/${Ie.id}?adminId=${t.id}`),i({title:"Guild disbanded",description:`${Ie.name} has been disbanded.`}),ce.invalidateQueries({queryKey:["/api/admin/guilds"]}),an(null)}catch{i({title:"Failed to disband guild",description:"An error occurred while disbanding the guild.",variant:"destructive"})}},"data-testid":"button-confirm-disband",children:[n.jsx(ba,{className:"w-4 h-4 mr-2"}),"Disband Guild"]})]})]})}),n.jsx(gt,{open:ml,onOpenChange:aa,children:n.jsxs(mt,{className:"max-w-md",children:[n.jsxs(pt,{children:[n.jsx(ht,{className:"font-serif",children:"Create New Quest"}),n.jsx(Nt,{children:"Create a quest with rewards that players can complete."})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{htmlFor:"quest-title",children:"Title *"}),n.jsx(tt,{id:"quest-title",placeholder:"Enter quest title...",value:pn.title,onChange:y=>Ir({...pn,title:y.target.value}),"data-testid":"input-quest-title"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{htmlFor:"quest-description",children:"Description *"}),n.jsx(tt,{id:"quest-description",placeholder:"Enter quest description...",value:pn.description,onChange:y=>Ir({...pn,description:y.target.value}),"data-testid":"input-quest-description"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{children:"Rewards"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:["gold","rubies","soulShards","focusedShards","trainingPoints","runes","petExp"].map(y=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Me,{className:"text-xs w-24 capitalize",children:y.replace(/([A-Z])/g," $1")}),n.jsx(tt,{type:"number",className:"h-8 text-sm",value:pn.rewards[y],onChange:Z=>Ir({...pn,rewards:{...pn.rewards,[y]:parseInt(Z.target.value)||0}}),"data-testid":`input-quest-reward-${y}`})]},y))})]})]}),n.jsxs(Lt,{children:[n.jsx(I,{variant:"outline",onClick:()=>aa(!1),children:"Cancel"}),n.jsx(I,{onClick:$i,"data-testid":"button-submit-quest",children:"Create Quest"})]})]})}),n.jsx(gt,{open:!!Gr,onOpenChange:y=>!y&&Kr(null),children:n.jsxs(mt,{className:"max-w-md",children:[n.jsxs(pt,{children:[n.jsx(ht,{className:"font-serif",children:"Assign Quest"}),n.jsxs(Nt,{children:['Assign "',Gr?.title,'" to a player.']})]}),n.jsxs("div",{className:"py-4",children:[n.jsx(Me,{children:"Select Player"}),n.jsx("div",{className:"mt-2 max-h-64 overflow-y-auto space-y-2",children:X.filter(y=>y.role==="player").map(y=>{const Z=Gr?.assignments.some(ke=>ke.accountId===y.id);return n.jsxs(I,{variant:Z?"secondary":"outline",className:"w-full justify-start",disabled:Z,onClick:()=>Gr&&hs(Gr.id,y.id),"data-testid":`button-assign-to-${y.id}`,children:[y.username,Z&&n.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"(Already assigned)"})]},y.id)})})]}),n.jsx(Lt,{children:n.jsx(I,{variant:"outline",onClick:()=>Kr(null),children:"Close"})})]})}),n.jsx(gt,{open:Ee,onOpenChange:$e,children:n.jsxs(mt,{className:"max-w-md",children:[n.jsxs(pt,{children:[n.jsx(ht,{className:"font-serif",children:"Add New Pet"}),n.jsx(Nt,{children:"Create a new pet and assign it to a player."})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{children:"Player *"}),n.jsxs(Or,{value:ue.accountId,onValueChange:y=>Fe({...ue,accountId:y}),children:[n.jsx(yr,{"data-testid":"select-pet-owner",children:n.jsx(Fr,{placeholder:"Select a player..."})}),n.jsx(wr,{children:X.filter(y=>y.role==="player").map(y=>n.jsx(yn,{value:y.id,children:y.username},y.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{htmlFor:"pet-name",children:"Pet Name *"}),n.jsx(tt,{id:"pet-name",placeholder:"Enter pet name...",value:ue.name,onChange:y=>Fe({...ue,name:y.target.value}),"data-testid":"input-pet-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{children:"Tier"}),n.jsxs(Or,{value:ue.tier,onValueChange:y=>Fe({...ue,tier:y}),children:[n.jsx(yr,{"data-testid":"select-new-pet-tier",children:n.jsx(Fr,{})}),n.jsx(wr,{children:$c.map(y=>n.jsx(yn,{value:y,children:y.charAt(0).toUpperCase()+y.slice(1)},y))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{children:"Elements (select one or more)"}),n.jsx("div",{className:"grid grid-cols-3 gap-1 max-h-48 overflow-y-auto border rounded-md p-2",children:Bf.map(y=>n.jsx(I,{type:"button",size:"sm",variant:ue.elements.includes(y)?"default":"outline",onClick:()=>Vi(y,ue.elements,Z=>Fe({...ue,elements:Z,element:Z[0]})),className:`text-xs h-7 ${ue.elements.includes(y)?"":Da[y]}`,"data-testid":`button-toggle-element-${y}`,children:y},y))}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selected: ",ue.elements.join(", ")]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{children:"Starting Stats"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Str","Spd","Luck","ElementalPower"].map(y=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Me,{className:"text-xs w-24",children:y}),n.jsx(tt,{type:"number",min:1,className:"h-8",value:ue.stats[y],onChange:Z=>Fe({...ue,stats:{...ue.stats,[y]:parseInt(Z.target.value)||1}}),"data-testid":`input-new-pet-${y}`})]},y))})]})]}),n.jsxs(Lt,{className:"gap-2",children:[n.jsx(I,{variant:"outline",onClick:()=>$e(!1),"data-testid":"button-cancel-create-pet",children:"Cancel"}),n.jsxs(I,{onClick:zd,"data-testid":"button-confirm-create-pet",children:[n.jsx(nr,{className:"w-4 h-4 mr-2"}),"Create Pet"]})]})]})}),n.jsx(gt,{open:!!Be,onOpenChange:y=>!y&&ae(null),children:n.jsxs(mt,{className:"max-w-md max-h-[90vh] flex flex-col",children:[n.jsxs(pt,{className:"flex-shrink-0",children:[n.jsx(ht,{className:"font-serif",children:"Edit Pet"}),n.jsxs(Nt,{children:["Modify pet attributes for ",Be?.name,"."]})]}),n.jsxs("div",{className:"space-y-4 py-4 overflow-y-auto flex-1",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{htmlFor:"edit-pet-name",children:"Pet Name"}),n.jsx(tt,{id:"edit-pet-name",value:Se.name,onChange:y=>Ke({...Se,name:y.target.value}),"data-testid":"input-edit-pet-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{children:"Tier"}),n.jsxs(Or,{value:Se.tier,onValueChange:y=>Ke({...Se,tier:y}),children:[n.jsx(yr,{"data-testid":"select-edit-pet-tier",children:n.jsx(Fr,{})}),n.jsx(wr,{children:$c.map(y=>n.jsx(yn,{value:y,children:y.charAt(0).toUpperCase()+y.slice(1)},y))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{children:"Elements (select one or more)"}),n.jsx("div",{className:"grid grid-cols-3 gap-1 max-h-48 overflow-y-auto border rounded-md p-2",children:Bf.map(y=>n.jsx(I,{type:"button",size:"sm",variant:Se.elements.includes(y)?"default":"outline",onClick:()=>Vi(y,Se.elements,Z=>Ke({...Se,elements:Z,element:Z[0]})),className:`text-xs h-7 ${Se.elements.includes(y)?"":Da[y]}`,"data-testid":`button-edit-toggle-element-${y}`,children:y},y))}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selected: ",Se.elements.join(", ")]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{htmlFor:"edit-pet-exp",children:"EXP"}),n.jsx(tt,{id:"edit-pet-exp",type:"number",min:0,value:Se.exp,onChange:y=>Ke({...Se,exp:parseInt(y.target.value)||0}),"data-testid":"input-edit-pet-exp"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{children:"Stats"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Str","Spd","Luck","ElementalPower"].map(y=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Me,{className:"text-xs w-24",children:y}),n.jsx(tt,{type:"number",min:1,className:"h-8",value:Se.stats[y],onChange:Z=>Ke({...Se,stats:{...Se.stats,[y]:parseInt(Z.target.value)||1}}),"data-testid":`input-edit-pet-${y}`})]},y))})]})]}),n.jsxs(Lt,{className:"gap-2 flex-shrink-0 border-t pt-4",children:[n.jsx(I,{variant:"outline",onClick:()=>ae(null),"data-testid":"button-cancel-edit-pet",children:"Cancel"}),n.jsx(I,{onClick:Fi,"data-testid":"button-save-pet",children:"Save Changes"})]})]})}),n.jsx(gt,{open:dt,onOpenChange:xt,children:n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsx(ht,{className:"font-serif",children:"Create New Event"}),n.jsx(Nt,{children:"Create an event for players to register for."})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{htmlFor:"event-name",children:"Event Name *"}),n.jsx(tt,{id:"event-name",placeholder:"Enter event name...",value:Je.name,onChange:y=>sn({...Je,name:y.target.value}),"data-testid":"input-event-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{htmlFor:"event-description",children:"Description *"}),n.jsx(tt,{id:"event-description",placeholder:"Describe the event...",value:Je.description,onChange:y=>sn({...Je,description:y.target.value}),"data-testid":"input-event-description"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{htmlFor:"event-start",children:"Start Date *"}),n.jsx(tt,{id:"event-start",type:"datetime-local",value:Je.startDate,onChange:y=>sn({...Je,startDate:y.target.value}),"data-testid":"input-event-start"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{htmlFor:"event-end",children:"End Date"}),n.jsx(tt,{id:"event-end",type:"datetime-local",value:Je.endDate,onChange:y=>sn({...Je,endDate:y.target.value}),"data-testid":"input-event-end"})]})]}),n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-md bg-destructive/10 border border-destructive/20",children:[n.jsx("input",{id:"event-mandatory",type:"checkbox",checked:Je.isMandatory,onChange:y=>sn({...Je,isMandatory:y.target.checked}),className:"w-4 h-4","data-testid":"checkbox-event-mandatory"}),n.jsxs("div",{children:[n.jsx(Me,{htmlFor:"event-mandatory",className:"text-sm font-medium cursor-pointer",children:"Mandatory Event"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"All players will be auto-registered and notified"})]})]})]}),n.jsxs(Lt,{className:"gap-2",children:[n.jsx(I,{variant:"outline",onClick:()=>xt(!1),"data-testid":"button-cancel-event",children:"Cancel"}),n.jsxs(I,{onClick:za,"data-testid":"button-confirm-event",children:[n.jsx(nr,{className:"w-4 h-4 mr-2"}),"Create Event"]})]})]})}),n.jsx(gt,{open:!!N,onOpenChange:()=>_(null),children:n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsx(ht,{className:"font-serif",children:"Give Item to Player"}),n.jsxs(Nt,{children:["Grant ",N?.name," to a player."]})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{htmlFor:"player-name",children:"Player Username"}),n.jsx(tt,{id:"player-name",placeholder:"Enter player username...",value:E,onChange:y=>w(y.target.value),"data-testid":"input-player-name"})]})}),n.jsxs(Lt,{className:"gap-2",children:[n.jsx(I,{variant:"outline",onClick:()=>_(null),"data-testid":"button-cancel-give",children:"Cancel"}),n.jsxs(I,{onClick:hl,disabled:!E.trim(),"data-testid":"button-confirm-give",children:[n.jsx(is,{className:"w-4 h-4 mr-2"}),"Give Item"]})]})]})}),n.jsx(gt,{open:!!S,onOpenChange:()=>k(null),children:n.jsxs(mt,{className:"max-w-md",children:[n.jsxs(pt,{children:[n.jsxs(ht,{className:"font-serif",children:["Edit Player: ",S?.username]}),n.jsx(Nt,{children:"Modify player stats, gold, rank, and record."})]}),n.jsxs("div",{className:"space-y-4 py-4 max-h-[60vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b flex-wrap",children:[n.jsx(Me,{className:"text-xs text-muted-foreground",children:"Scale:"}),n.jsx("div",{className:"flex gap-1 flex-wrap",children:[1,10,100,1e3,1e4,1e5,1e6,1e9].map(y=>n.jsxs(I,{size:"sm",variant:Ma===y?"default":"outline",className:"h-7 px-2 text-xs",onClick:()=>oa(y),"data-testid":`button-scale-${y}`,children:["+",y>=1e9?"1B":y>=1e6?"1M":y>=1e3?`${y/1e3}K`:y]},y))})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{children:"Gold"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(I,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>_n("gold",-1),"data-testid":"button-deduct-gold",children:"-"}),n.jsx(tt,{type:"text",value:C.gold.toLocaleString(),onChange:y=>{const Z=y.target.value.replace(/[^0-9]/g,"");R({...C,gold:parseInt(Z)||0})},className:"text-center text-sm","data-testid":"input-edit-gold"}),n.jsx(I,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>_n("gold",1),"data-testid":"button-add-gold",children:"+"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{children:"Rank"}),n.jsxs(Or,{value:C.rank,onValueChange:y=>R({...C,rank:y}),children:[n.jsx(yr,{"data-testid":"select-edit-rank",children:n.jsx(Fr,{})}),n.jsx(wr,{children:Sm.map(y=>n.jsx(yn,{value:y,children:y},y))})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{children:"Wins"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(I,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>_n("wins",-1),"data-testid":"button-deduct-wins",children:"-"}),n.jsx(tt,{type:"number",value:C.wins,onChange:y=>R({...C,wins:parseInt(y.target.value)||0}),className:"text-center","data-testid":"input-edit-wins"}),n.jsx(I,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>_n("wins",1),"data-testid":"button-add-wins",children:"+"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Me,{children:"Losses"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(I,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>_n("losses",-1),"data-testid":"button-deduct-losses",children:"-"}),n.jsx(tt,{type:"number",value:C.losses,onChange:y=>R({...C,losses:parseInt(y.target.value)||0}),className:"text-center","data-testid":"input-edit-losses"}),n.jsx(I,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>_n("losses",1),"data-testid":"button-add-losses",children:"+"})]})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx(Me,{className:"text-sm font-semibold mb-3 block",children:"Player Base Stats"}),n.jsx("div",{className:"grid grid-cols-2 gap-4",children:["Str","Spd","Int","Luck","Pot"].map(y=>{if(!S)return null;const Z=0;return n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx(Me,{className:"text-xs text-muted-foreground",children:y})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(I,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>Oa(y,-1),"data-testid":`button-deduct-${y}`,children:"-"}),n.jsx(tt,{type:"number",className:"h-8 text-center font-mono",value:C[y],onChange:ke=>{const it=parseInt(ke.target.value)||0;R({...C,[y]:Math.max(Z,it)})},"data-testid":`input-edit-${y}`}),n.jsx(I,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>Oa(y,1),"data-testid":`button-add-${y}`,children:"+"})]})]},y)})})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx(Me,{className:"text-sm font-semibold mb-3 block",children:"Resources"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[[{key:"rubies",label:"Rubies"},{key:"soulShards",label:"Soul Shards"},{key:"focusedShards",label:"Focused Shards"},{key:"trainingPoints",label:"Training Points"},{key:"petExp",label:"Pet EXP"},{key:"runes",label:"Runes (Pet Elemental)"}].map(({key:y,label:Z})=>n.jsxs("div",{className:"space-y-1",children:[n.jsx(Me,{className:"text-xs text-muted-foreground",children:Z}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(I,{size:"icon",variant:"outline",className:"h-7 w-7",onClick:()=>_n(y,-1),"data-testid":`button-deduct-${y}`,children:"-"}),n.jsx(tt,{type:"text",className:"h-7 text-center text-xs",value:(C[y]||0).toLocaleString(),onChange:ke=>{const it=ke.target.value.replace(/[^0-9]/g,"");R({...C,[y]:parseInt(it)||0})},"data-testid":`input-edit-${y}`}),n.jsx(I,{size:"icon",variant:"outline",className:"h-7 w-7",onClick:()=>_n(y,1),"data-testid":`button-add-${y}`,children:"+"})]})]},y)),n.jsxs("div",{className:"space-y-1 col-span-2",children:[n.jsx(Me,{className:"text-xs text-muted-foreground",children:"Pets (comma-separated)"}),n.jsx(tt,{value:C.pets.join(", "),onChange:y=>R({...C,pets:y.target.value.split(",").map(Z=>Z.trim()).filter(Z=>Z)}),placeholder:"Dragon, Wolf, Phoenix","data-testid":"input-edit-pets"})]})]})]})]}),n.jsxs(Lt,{className:"gap-2",children:[n.jsx(I,{variant:"destructive",onClick:async()=>{if(S)try{await he("POST",`/api/admin/accounts/${S.id}/cap-resources`),i({title:"Resources Fixed",description:"All resource values have been capped to safe limits."}),ce.invalidateQueries({queryKey:["/api/accounts"]}),k(null)}catch{i({title:"Error",description:"Failed to fix resources",variant:"destructive"})}},"data-testid":"button-fix-resources",children:"Fix Oversized Resources"}),n.jsx(I,{variant:"outline",onClick:()=>k(null),"data-testid":"button-cancel-edit",children:"Cancel"}),n.jsx(I,{onClick:$d,"data-testid":"button-save-player",children:"Save Changes"})]})]})}),n.jsx(gt,{open:!!P,onOpenChange:y=>!y&&O(null),children:n.jsxs(mt,{className:"max-w-lg","data-testid":"dialog-view-registrations",children:[n.jsxs(pt,{children:[n.jsxs(ht,{className:"font-serif",children:["Registrations: ",P?.name]}),n.jsx(Nt,{children:P?.isMandatory?"This is a mandatory event - all players are auto-registered.":"Players who have registered for this event."})]}),n.jsx("div",{className:"max-h-80 overflow-y-auto",children:q?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading registrations..."}):G.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No players registered yet"}):n.jsxs(Oo,{children:[n.jsx(Fo,{children:n.jsxs(ls,{children:[n.jsx(Tt,{children:"Player"}),n.jsx(Tt,{children:"Registered"}),n.jsx(Tt,{children:"Type"})]})}),n.jsx(zo,{children:G.map(y=>n.jsxs(ls,{"data-testid":`row-registration-${y.id}`,children:[n.jsx(It,{className:"font-medium",children:y.username}),n.jsx(It,{className:"text-sm text-muted-foreground",children:new Date(y.registeredAt).toLocaleDateString()}),n.jsx(It,{children:n.jsx(le,{variant:y.isAutoRegistered?"secondary":"default",children:y.isAutoRegistered?"Auto":"Manual"})})]},y.id))})]})}),n.jsx(Lt,{children:n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsxs("span",{className:"text-sm text-muted-foreground",children:["Total: ",G.length," player",G.length!==1?"s":""]}),n.jsx(I,{variant:"outline",onClick:()=>O(null),"data-testid":"button-close-registrations",children:"Close"})]})})]})})]})}function kR(){return n.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:n.jsx(Te,{className:"w-full max-w-md mx-4",children:n.jsxs(Le,{className:"pt-6",children:[n.jsxs("div",{className:"flex mb-4 gap-2",children:[n.jsx(ak,{className:"h-8 w-8 text-red-500"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),n.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function CR(){return n.jsxs(SN,{children:[n.jsx(Ln,{path:"/",component:I2}),n.jsx(Ln,{path:"/shop",component:YT}),n.jsx(Ln,{path:"/inventory",component:JT}),n.jsx(Ln,{path:"/events",component:e5}),n.jsx(Ln,{path:"/challenges",component:t5}),n.jsx(Ln,{path:"/pets",component:c5}),n.jsx(Ln,{path:"/npc-battle",component:d5}),n.jsx(Ln,{path:"/leaderboard",component:wI}),n.jsx(Ln,{path:"/quests",component:bI}),n.jsx(Ln,{path:"/guild",component:YI}),n.jsx(Ln,{path:"/skills",component:mR}),n.jsx(Ln,{path:"/trading",component:yR}),n.jsx(Ln,{path:"/admin",component:SR}),n.jsx(Ln,{component:kR})]})}function _R(){return n.jsx(UN,{client:ce,children:n.jsx(S2,{children:n.jsxs(_2,{children:[n.jsx(Xk,{}),n.jsx(CR,{})]})})})}tN.createRoot(document.getElementById("root")).render(n.jsx(_R,{}));
